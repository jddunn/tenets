<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Context that feeds your prompts - Intelligent code exploration and AI pair programming tool"><meta name="author" content="Johnny Dunn"><link rel="canonical" href="https://tenets.dev/dev/ARCHITECTURE/"><link rel="prev" href="../examples/"><link rel="next" href="../api/"><link rel="icon" href="../favicon/favicon.ico"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>Architecture - Tenets</title><link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css"><link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css"><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.5%201.75v11.5c0%20.138.112.25.25.25h3.17a.75.75%200%200%201%200%201.5H2.75A1.75%201.75%200%200%201%201%2013.25V1.75C1%20.784%201.784%200%202.75%200h8.5C12.216%200%2013%20.784%2013%201.75v7.736a.75.75%200%200%201-1.5%200V1.75a.25.25%200%200%200-.25-.25h-8.5a.25.25%200%200%200-.25.25m13.274%209.537zl-4.557%204.45a.75.75%200%200%201-1.055-.008l-1.943-1.95a.75.75%200%200%201%201.062-1.058l1.419%201.425%204.026-3.932a.75.75%200%201%201%201.048%201.074M4.75%204h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M4%207.75A.75.75%200%200%201%204.75%207h2a.75.75%200%200%201%200%201.5h-2A.75.75%200%200%201%204%207.75%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M3.499.75a.75.75%200%200%201%201.5%200v.996C5.9%202.903%206.793%203.65%207.662%204.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873%2010.794-.045%2012.622.26%2014.408.558%2016%201.94%2016%204.25c0%201.278-.954%202.575-2.44%202.734l.146.508.065.22c.203.701.412%201.455.476%202.226.142%201.707-.4%203.03-1.487%203.898C11.714%2014.671%2010.27%2015%208.75%2015h-6a.75.75%200%200%201%200-1.5h1.376a4.5%204.5%200%200%201-.563-1.191%203.84%203.84%200%200%201-.05-2.063%204.65%204.65%200%200%201-2.025-.293.75.75%200%200%201%20.525-1.406c1.357.507%202.376-.006%202.698-.318l.009-.01a.747.747%200%200%201%201.06%200%20.75.75%200%200%201-.012%201.074c-.912.92-.992%201.835-.768%202.586.221.74.745%201.337%201.196%201.621H8.75c1.343%200%202.398-.296%203.074-.836.635-.507%201.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4%202.4%200%200%201-.507-.441%203.1%203.1%200%200%201-.633-1.248.75.75%200%200%201%201.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738%200%201.25-.615%201.25-1.25%200-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706%201.345-.46.92-.27%201.774.019%203.062l.042.19.01.05c.348.443.666.949.94%201.553a.75.75%200%201%201-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7%205.527c-.814-.68-1.75-1.462-2.692-2.619a3.7%203.7%200%200%200-1.023.88c-.406.495-.663%201.036-.722%201.508.116.122.306.21.591.239.388.038.797-.06%201.032-.19a.75.75%200%200%201%20.728%201.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75%205.677V5.5c0-.984.48-1.94%201.077-2.664.46-.559%201.05-1.055%201.673-1.353z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style><link rel="stylesheet" href="../css/timeago.css"><link rel="stylesheet" href="../assets/_mkdocstrings.css"><link rel="stylesheet" href="../styles/variables.css"><link rel="stylesheet" href="../styles/main.css"><link rel="stylesheet" href="../styles/animations.css"><link rel="stylesheet" href="../styles/victorian.css"><link rel="stylesheet" href="../styles/neumorphic.css"><link rel="stylesheet" href="../styles/header.css"><link rel="stylesheet" href="../styles/footer.css"><link rel="stylesheet" href="../styles/buttons.css"><link rel="stylesheet" href="../styles/cards.css"><link rel="stylesheet" href="../styles/hero.css"><link rel="stylesheet" href="../styles/terminal.css"><link rel="stylesheet" href="../styles/back-to-top.css"><link rel="stylesheet" href="../styles/see-it-in-action.css"><link rel="stylesheet" href="../styles/search.css"><link rel="stylesheet" href="../styles/image-modal.css"><link rel="stylesheet" href="../styles/mobile.css"><link rel="stylesheet" href="../styles/overrides.css"><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta name="description" content="Context that feeds your prompts - Intelligent code exploration and AI pair programming tool"><meta name="keywords" content="tenets, code context, AI programming, LLM tools, developer tools"><meta name="author" content="Johnny Dunn, manic.agency"><meta property="og:title" content="Architecture - Tenets"><meta property="og:description" content="Context that feeds your prompts - Intelligent code exploration and AI pair programming tool"><meta property="og:type" content="website"><meta property="og:url" content="https://tenets.dev/dev/ARCHITECTURE/"><meta property="og:image" content="https://tenets.dev/dev/logos/tenets_dark_icon_transparent_cropped.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Architecture - Tenets"><meta name="twitter:description" content="Context that feeds your prompts - Intelligent code exploration and AI pair programming tool"><meta name="twitter:image" content="https://tenets.dev/dev/logos/tenets_dark_icon_transparent_cropped.png"><meta name="twitter:site" content="@manicagency"><meta name="twitter:creator" content="@manicagency"><link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png"><link rel="manifest" href="../favicon/site.webmanifest"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Tenets",
    "description": "Context that feeds your prompts - Intelligent code exploration and AI pair programming tool",
    "url": "https://tenets.dev",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Windows, macOS, Linux",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "manic.agency",
      "url": "https://manic.agency"
    }
  }
  </script></head><body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="amber"><input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"><input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"><label class="md-overlay" for="__drawer"></label><div data-md-component="skip"><a href="#tenets-complete-architecture-documentation" class="md-skip"> Skip to content </a></div><div data-md-component="announce"></div><header class="md-header md-header--shadow md-header--lifted" data-md-component="header"><nav class="md-header__inner md-grid" aria-label="Header"><a href=".." title="Tenets" class="md-header__button md-logo" aria-label="Tenets" data-md-component="logo"><a href=".." title="Tenets" class="md-header__button md-logo" aria-label="Home"><img src="../logos/tenets_dark_icon_transparent.png" alt="Tenets" class="dark-logo" loading="lazy"><img src="../logos/tenets_light_icon_transparent.png" alt="Tenets" class="light-logo" loading="lazy"></a></a><label class="md-header__button md-icon" for="__drawer"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class="md-header__title" data-md-component="header-title"><div class="md-header__ellipsis"><div class="md-header__topic"><span class="md-ellipsis"> Tenets </span></div><div class="md-header__topic" data-md-component="header-topic"><span class="md-ellipsis"> Architecture </span></div></div></div><form class="md-header__option" data-md-component="palette"><input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="amber" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"><label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg></label><input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="amber" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"><label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for="__search"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required><label class="md-search__icon md-icon" for="__search"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav class="md-search__options" aria-label="Search"><a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text data-md-component="search-share" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg></a><button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav><div class="md-search__suggest" data-md-component="search-suggest"></div></form><div class="md-search__output"><div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix><div class="md-search-result" data-md-component="search-result"><div class="md-search-result__meta"> Initializing search </div><ol class="md-search-result__list" role="presentation"></ol></div></div></div></div></div><div class="md-header__source"><a href="https://github.com/jddunn/tenets" title="Go to repository" class="md-source" data-md-component="source"><div class="md-source__icon md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div><div class="md-source__repository"> jddunn/tenets </div></a></div></nav><nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"><div class="md-grid"><ul class="md-tabs__list"><li class="md-tabs__item"><a href="../quickstart/" class="md-tabs__link"> Getting Started </a></li><li class="md-tabs__item"><a href="../CLI/" class="md-tabs__link"> User Guide </a></li><li class="md-tabs__item md-tabs__item--active"><a href="./" class="md-tabs__link"> Architecture </a></li><li class="md-tabs__item"><a href="../api/" class="md-tabs__link"> API Docs </a></li><li class="md-tabs__item"><a href="https://manic.agency/blog" class="md-tabs__link"> Blog </a></li><li class="md-tabs__item"><a href="https://manic.agency/contact" class="md-tabs__link"> Contact </a></li></ul></div></nav></header><div class="md-container" data-md-component="container"><main class="md-main" data-md-component="main"><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0"><label class="md-nav__title" for="__drawer"><a href=".." title="Tenets" class="md-nav__button md-logo" aria-label="Tenets" data-md-component="logo"><a href=".." title="Tenets" class="md-header__button md-logo" aria-label="Home"><img src="../logos/tenets_dark_icon_transparent.png" alt="Tenets" class="dark-logo" loading="lazy"><img src="../logos/tenets_light_icon_transparent.png" alt="Tenets" class="light-logo" loading="lazy"></a></a> Tenets </label><div class="md-nav__source"><a href="https://github.com/jddunn/tenets" title="Go to repository" class="md-source" data-md-component="source"><div class="md-source__icon md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div><div class="md-source__repository"> jddunn/tenets </div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href="../quickstart/" class="md-nav__link"><span class="md-ellipsis"> Getting Started </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href="../CLI/" class="md-nav__link"><span class="md-ellipsis"> User Guide </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc"><span class="md-ellipsis"> Architecture </span><span class="md-nav__icon md-icon"></span></label><a href="./" class="md-nav__link md-nav__link--active"><span class="md-ellipsis"> Architecture </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class="md-nav__title" for="__toc"><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class="md-nav__list" data-md-component="toc" data-md-scrollfix><li class="md-nav__item"><a href="#table-of-contents" class="md-nav__link"><span class="md-ellipsis"> Table of Contents </span></a></li><li class="md-nav__item"><a href="#system-overview" class="md-nav__link"><span class="md-ellipsis"> System Overview </span></a><nav class="md-nav" aria-label="System Overview"><ul class="md-nav__list"><li class="md-nav__item"><a href="#what-is-tenets" class="md-nav__link"><span class="md-ellipsis"> What is Tenets? </span></a></li><li class="md-nav__item"><a href="#core-architecture-principles" class="md-nav__link"><span class="md-ellipsis"> Core Architecture Principles </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#complete-system-architecture" class="md-nav__link"><span class="md-ellipsis"> Complete System Architecture </span></a><nav class="md-nav" aria-label="Complete System Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#high-level-data-flow" class="md-nav__link"><span class="md-ellipsis"> High-Level Data Flow </span></a></li><li class="md-nav__item"><a href="#system-component-overview" class="md-nav__link"><span class="md-ellipsis"> System Component Overview </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#nlpml-pipeline-architecture" class="md-nav__link"><span class="md-ellipsis"> NLP/ML Pipeline Architecture </span></a><nav class="md-nav" aria-label="NLP/ML Pipeline Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#centralized-nlp-components-updated" class="md-nav__link"><span class="md-ellipsis"> Centralized NLP Components (Updated) </span></a></li><li class="md-nav__item"><a href="#pipeline-component-flow" class="md-nav__link"><span class="md-ellipsis"> Pipeline Component Flow </span></a></li><li class="md-nav__item"><a href="#keyword-extraction-algorithms-comparison" class="md-nav__link"><span class="md-ellipsis"> Keyword Extraction Algorithms Comparison </span></a></li><li class="md-nav__item"><a href="#embedding-model-architecture" class="md-nav__link"><span class="md-ellipsis"> Embedding Model Architecture </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#file-discovery--scanning-system" class="md-nav__link"><span class="md-ellipsis"> File Discovery &amp; Scanning System </span></a><nav class="md-nav" aria-label="File Discovery & Scanning System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#scanner-architecture-flow" class="md-nav__link"><span class="md-ellipsis"> Scanner Architecture Flow </span></a></li><li class="md-nav__item"><a href="#binary-detection-strategy" class="md-nav__link"><span class="md-ellipsis"> Binary Detection Strategy </span></a></li><li class="md-nav__item"><a href="#minified--build-file-exclusion" class="md-nav__link"><span class="md-ellipsis"> Minified &amp; Build File Exclusion </span></a></li><li class="md-nav__item"><a href="#intelligent-test-file-exclusion" class="md-nav__link"><span class="md-ellipsis"> Intelligent Test File Exclusion </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#code-analysis-engine" class="md-nav__link"><span class="md-ellipsis"> Code Analysis Engine </span></a><nav class="md-nav" aria-label="Code Analysis Engine"><ul class="md-nav__list"><li class="md-nav__item"><a href="#language-analyzer-architecture" class="md-nav__link"><span class="md-ellipsis"> Language Analyzer Architecture </span></a></li><li class="md-nav__item"><a href="#python-analyzer-detail" class="md-nav__link"><span class="md-ellipsis"> Python Analyzer Detail </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#relevance-ranking-system" class="md-nav__link"><span class="md-ellipsis"> Relevance Ranking System </span></a><nav class="md-nav" aria-label="Relevance Ranking System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#unified-ranking-architecture" class="md-nav__link"><span class="md-ellipsis"> Unified Ranking Architecture </span></a></li><li class="md-nav__item"><a href="#strategy-comparison-and-usage" class="md-nav__link"><span class="md-ellipsis"> Strategy Comparison and Usage </span></a></li><li class="md-nav__item"><a href="#modular-ranking-architecture" class="md-nav__link"><span class="md-ellipsis"> Modular Ranking Architecture </span></a></li><li class="md-nav__item"><a href="#factor-calculation-details" class="md-nav__link"><span class="md-ellipsis"> Factor Calculation Details </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#git-integration--chronicle-system" class="md-nav__link"><span class="md-ellipsis"> Git Integration &amp; Chronicle System </span></a><nav class="md-nav" aria-label="Git Integration & Chronicle System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#git-analysis-architecture" class="md-nav__link"><span class="md-ellipsis"> Git Analysis Architecture </span></a></li><li class="md-nav__item"><a href="#chronicle-report-structure" class="md-nav__link"><span class="md-ellipsis"> Chronicle Report Structure </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#context-management--optimization" class="md-nav__link"><span class="md-ellipsis"> Context Management &amp; Optimization </span></a><nav class="md-nav" aria-label="Context Management & Optimization"><ul class="md-nav__list"><li class="md-nav__item"><a href="#context-building-pipeline" class="md-nav__link"><span class="md-ellipsis"> Context Building Pipeline </span></a></li><li class="md-nav__item"><a href="#summarization-strategies" class="md-nav__link"><span class="md-ellipsis"> Summarization Strategies </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#session-management-architecture" class="md-nav__link"><span class="md-ellipsis"> Session Management Architecture </span></a><nav class="md-nav" aria-label="Session Management Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#session-lifecycle-flow" class="md-nav__link"><span class="md-ellipsis"> Session Lifecycle Flow </span></a></li><li class="md-nav__item"><a href="#session-storage-architecture" class="md-nav__link"><span class="md-ellipsis"> Session Storage Architecture </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#storage--caching-architecture" class="md-nav__link"><span class="md-ellipsis"> Storage &amp; Caching Architecture </span></a><nav class="md-nav" aria-label="Storage & Caching Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#storage-hierarchy" class="md-nav__link"><span class="md-ellipsis"> Storage Hierarchy </span></a></li><li class="md-nav__item"><a href="#cache-invalidation-strategy" class="md-nav__link"><span class="md-ellipsis"> Cache Invalidation Strategy </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#performance-architecture" class="md-nav__link"><span class="md-ellipsis"> Performance Architecture </span></a><nav class="md-nav" aria-label="Performance Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#optimization-strategy-overview" class="md-nav__link"><span class="md-ellipsis"> Optimization Strategy Overview </span></a></li><li class="md-nav__item"><a href="#performance-benchmarks" class="md-nav__link"><span class="md-ellipsis"> Performance Benchmarks </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#configuration-system" class="md-nav__link"><span class="md-ellipsis"> Configuration System </span></a><nav class="md-nav" aria-label="Configuration System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#configuration-hierarchy" class="md-nav__link"><span class="md-ellipsis"> Configuration Hierarchy </span></a></li><li class="md-nav__item"><a href="#complete-configuration-schema" class="md-nav__link"><span class="md-ellipsis"> Complete Configuration Schema </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#cli--api-architecture" class="md-nav__link"><span class="md-ellipsis"> CLI &amp; API Architecture </span></a><nav class="md-nav" aria-label="CLI & API Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#command-structure" class="md-nav__link"><span class="md-ellipsis"> Command Structure </span></a></li><li class="md-nav__item"><a href="#python-api-design" class="md-nav__link"><span class="md-ellipsis"> Python API Design </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#security--privacy-architecture" class="md-nav__link"><span class="md-ellipsis"> Security &amp; Privacy Architecture </span></a><nav class="md-nav" aria-label="Security & Privacy Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#local-first-security-model" class="md-nav__link"><span class="md-ellipsis"> Local-First Security Model </span></a></li><li class="md-nav__item"><a href="#secret-detection-patterns-roadmap" class="md-nav__link"><span class="md-ellipsis"> Secret Detection Patterns (Roadmap) </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#testing--quality-assurance" class="md-nav__link"><span class="md-ellipsis"> Testing &amp; Quality Assurance </span></a><nav class="md-nav" aria-label="Testing & Quality Assurance"><ul class="md-nav__list"><li class="md-nav__item"><a href="#test-architecture" class="md-nav__link"><span class="md-ellipsis"> Test Architecture </span></a></li><li class="md-nav__item"><a href="#test-coverage-requirements" class="md-nav__link"><span class="md-ellipsis"> Test Coverage Requirements </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#guiding-principles-tenets-system" class="md-nav__link"><span class="md-ellipsis"> Guiding Principles (Tenets) System </span></a><nav class="md-nav" aria-label="Guiding Principles (Tenets) System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#overview" class="md-nav__link"><span class="md-ellipsis"> Overview </span></a></li><li class="md-nav__item"><a href="#output-format-conventions" class="md-nav__link"><span class="md-ellipsis"> Output Format Conventions </span></a></li><li class="md-nav__item"><a href="#injection-strategy" class="md-nav__link"><span class="md-ellipsis"> Injection Strategy </span></a></li><li class="md-nav__item"><a href="#injection-behavior" class="md-nav__link"><span class="md-ellipsis"> Injection Behavior </span></a></li><li class="md-nav__item"><a href="#integration-with-distill-command" class="md-nav__link"><span class="md-ellipsis"> Integration with Distill Command </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#future-roadmap--vision" class="md-nav__link"><span class="md-ellipsis"> Future Roadmap &amp; Vision </span></a><nav class="md-nav" aria-label="Future Roadmap & Vision"><ul class="md-nav__list"><li class="md-nav__item"><a href="#near-term-q1-2025" class="md-nav__link"><span class="md-ellipsis"> Near Term (Q1 2025) </span></a></li><li class="md-nav__item"><a href="#medium-term-q2-q3-2025" class="md-nav__link"><span class="md-ellipsis"> Medium Term (Q2-Q3 2025) </span></a></li><li class="md-nav__item"><a href="#long-term-2026" class="md-nav__link"><span class="md-ellipsis"> Long Term (2026+) </span></a></li><li class="md-nav__item"><a href="#technology-evolution" class="md-nav__link"><span class="md-ellipsis"> Technology Evolution </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#output-generation--visualization" class="md-nav__link"><span class="md-ellipsis"> Output Generation &amp; Visualization </span></a><nav class="md-nav" aria-label="Output Generation & Visualization"><ul class="md-nav__list"><li class="md-nav__item"><a href="#output-formatting-system" class="md-nav__link"><span class="md-ellipsis"> Output Formatting System </span></a></li><li class="md-nav__item"><a href="#html-report-generation" class="md-nav__link"><span class="md-ellipsis"> HTML Report Generation </span></a></li><li class="md-nav__item"><a href="#visualization-components" class="md-nav__link"><span class="md-ellipsis"> Visualization Components </span></a></li><li class="md-nav__item"><a href="#integration-with-report-generator" class="md-nav__link"><span class="md-ellipsis"> Integration with Report Generator </span></a></li><li class="md-nav__item"><a href="#usage-examples" class="md-nav__link"><span class="md-ellipsis"> Usage Examples </span></a></li><li class="md-nav__item"><a href="#performance-optimizations" class="md-nav__link"><span class="md-ellipsis"> Performance Optimizations </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#conclusion" class="md-nav__link"><span class="md-ellipsis"> Conclusion </span></a><nav class="md-nav" aria-label="Conclusion"><ul class="md-nav__list"><li class="md-nav__item"><a href="#key-architectural-strengths" class="md-nav__link"><span class="md-ellipsis"> Key Architectural Strengths </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../api/" class="md-nav__link"><span class="md-ellipsis"> API Docs </span></a></li><li class="md-nav__item"><a href="https://manic.agency/blog" class="md-nav__link"><span class="md-ellipsis"> Blog </span></a></li><li class="md-nav__item"><a href="https://manic.agency/contact" class="md-nav__link"><span class="md-ellipsis"> Contact </span></a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class="md-nav__title" for="__toc"><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class="md-nav__list" data-md-component="toc" data-md-scrollfix><li class="md-nav__item"><a href="#table-of-contents" class="md-nav__link"><span class="md-ellipsis"> Table of Contents </span></a></li><li class="md-nav__item"><a href="#system-overview" class="md-nav__link"><span class="md-ellipsis"> System Overview </span></a><nav class="md-nav" aria-label="System Overview"><ul class="md-nav__list"><li class="md-nav__item"><a href="#what-is-tenets" class="md-nav__link"><span class="md-ellipsis"> What is Tenets? </span></a></li><li class="md-nav__item"><a href="#core-architecture-principles" class="md-nav__link"><span class="md-ellipsis"> Core Architecture Principles </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#complete-system-architecture" class="md-nav__link"><span class="md-ellipsis"> Complete System Architecture </span></a><nav class="md-nav" aria-label="Complete System Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#high-level-data-flow" class="md-nav__link"><span class="md-ellipsis"> High-Level Data Flow </span></a></li><li class="md-nav__item"><a href="#system-component-overview" class="md-nav__link"><span class="md-ellipsis"> System Component Overview </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#nlpml-pipeline-architecture" class="md-nav__link"><span class="md-ellipsis"> NLP/ML Pipeline Architecture </span></a><nav class="md-nav" aria-label="NLP/ML Pipeline Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#centralized-nlp-components-updated" class="md-nav__link"><span class="md-ellipsis"> Centralized NLP Components (Updated) </span></a></li><li class="md-nav__item"><a href="#pipeline-component-flow" class="md-nav__link"><span class="md-ellipsis"> Pipeline Component Flow </span></a></li><li class="md-nav__item"><a href="#keyword-extraction-algorithms-comparison" class="md-nav__link"><span class="md-ellipsis"> Keyword Extraction Algorithms Comparison </span></a></li><li class="md-nav__item"><a href="#embedding-model-architecture" class="md-nav__link"><span class="md-ellipsis"> Embedding Model Architecture </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#file-discovery--scanning-system" class="md-nav__link"><span class="md-ellipsis"> File Discovery &amp; Scanning System </span></a><nav class="md-nav" aria-label="File Discovery & Scanning System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#scanner-architecture-flow" class="md-nav__link"><span class="md-ellipsis"> Scanner Architecture Flow </span></a></li><li class="md-nav__item"><a href="#binary-detection-strategy" class="md-nav__link"><span class="md-ellipsis"> Binary Detection Strategy </span></a></li><li class="md-nav__item"><a href="#minified--build-file-exclusion" class="md-nav__link"><span class="md-ellipsis"> Minified &amp; Build File Exclusion </span></a></li><li class="md-nav__item"><a href="#intelligent-test-file-exclusion" class="md-nav__link"><span class="md-ellipsis"> Intelligent Test File Exclusion </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#code-analysis-engine" class="md-nav__link"><span class="md-ellipsis"> Code Analysis Engine </span></a><nav class="md-nav" aria-label="Code Analysis Engine"><ul class="md-nav__list"><li class="md-nav__item"><a href="#language-analyzer-architecture" class="md-nav__link"><span class="md-ellipsis"> Language Analyzer Architecture </span></a></li><li class="md-nav__item"><a href="#python-analyzer-detail" class="md-nav__link"><span class="md-ellipsis"> Python Analyzer Detail </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#relevance-ranking-system" class="md-nav__link"><span class="md-ellipsis"> Relevance Ranking System </span></a><nav class="md-nav" aria-label="Relevance Ranking System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#unified-ranking-architecture" class="md-nav__link"><span class="md-ellipsis"> Unified Ranking Architecture </span></a></li><li class="md-nav__item"><a href="#strategy-comparison-and-usage" class="md-nav__link"><span class="md-ellipsis"> Strategy Comparison and Usage </span></a></li><li class="md-nav__item"><a href="#modular-ranking-architecture" class="md-nav__link"><span class="md-ellipsis"> Modular Ranking Architecture </span></a></li><li class="md-nav__item"><a href="#factor-calculation-details" class="md-nav__link"><span class="md-ellipsis"> Factor Calculation Details </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#git-integration--chronicle-system" class="md-nav__link"><span class="md-ellipsis"> Git Integration &amp; Chronicle System </span></a><nav class="md-nav" aria-label="Git Integration & Chronicle System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#git-analysis-architecture" class="md-nav__link"><span class="md-ellipsis"> Git Analysis Architecture </span></a></li><li class="md-nav__item"><a href="#chronicle-report-structure" class="md-nav__link"><span class="md-ellipsis"> Chronicle Report Structure </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#context-management--optimization" class="md-nav__link"><span class="md-ellipsis"> Context Management &amp; Optimization </span></a><nav class="md-nav" aria-label="Context Management & Optimization"><ul class="md-nav__list"><li class="md-nav__item"><a href="#context-building-pipeline" class="md-nav__link"><span class="md-ellipsis"> Context Building Pipeline </span></a></li><li class="md-nav__item"><a href="#summarization-strategies" class="md-nav__link"><span class="md-ellipsis"> Summarization Strategies </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#session-management-architecture" class="md-nav__link"><span class="md-ellipsis"> Session Management Architecture </span></a><nav class="md-nav" aria-label="Session Management Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#session-lifecycle-flow" class="md-nav__link"><span class="md-ellipsis"> Session Lifecycle Flow </span></a></li><li class="md-nav__item"><a href="#session-storage-architecture" class="md-nav__link"><span class="md-ellipsis"> Session Storage Architecture </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#storage--caching-architecture" class="md-nav__link"><span class="md-ellipsis"> Storage &amp; Caching Architecture </span></a><nav class="md-nav" aria-label="Storage & Caching Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#storage-hierarchy" class="md-nav__link"><span class="md-ellipsis"> Storage Hierarchy </span></a></li><li class="md-nav__item"><a href="#cache-invalidation-strategy" class="md-nav__link"><span class="md-ellipsis"> Cache Invalidation Strategy </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#performance-architecture" class="md-nav__link"><span class="md-ellipsis"> Performance Architecture </span></a><nav class="md-nav" aria-label="Performance Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#optimization-strategy-overview" class="md-nav__link"><span class="md-ellipsis"> Optimization Strategy Overview </span></a></li><li class="md-nav__item"><a href="#performance-benchmarks" class="md-nav__link"><span class="md-ellipsis"> Performance Benchmarks </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#configuration-system" class="md-nav__link"><span class="md-ellipsis"> Configuration System </span></a><nav class="md-nav" aria-label="Configuration System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#configuration-hierarchy" class="md-nav__link"><span class="md-ellipsis"> Configuration Hierarchy </span></a></li><li class="md-nav__item"><a href="#complete-configuration-schema" class="md-nav__link"><span class="md-ellipsis"> Complete Configuration Schema </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#cli--api-architecture" class="md-nav__link"><span class="md-ellipsis"> CLI &amp; API Architecture </span></a><nav class="md-nav" aria-label="CLI & API Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#command-structure" class="md-nav__link"><span class="md-ellipsis"> Command Structure </span></a></li><li class="md-nav__item"><a href="#python-api-design" class="md-nav__link"><span class="md-ellipsis"> Python API Design </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#security--privacy-architecture" class="md-nav__link"><span class="md-ellipsis"> Security &amp; Privacy Architecture </span></a><nav class="md-nav" aria-label="Security & Privacy Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#local-first-security-model" class="md-nav__link"><span class="md-ellipsis"> Local-First Security Model </span></a></li><li class="md-nav__item"><a href="#secret-detection-patterns-roadmap" class="md-nav__link"><span class="md-ellipsis"> Secret Detection Patterns (Roadmap) </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#testing--quality-assurance" class="md-nav__link"><span class="md-ellipsis"> Testing &amp; Quality Assurance </span></a><nav class="md-nav" aria-label="Testing & Quality Assurance"><ul class="md-nav__list"><li class="md-nav__item"><a href="#test-architecture" class="md-nav__link"><span class="md-ellipsis"> Test Architecture </span></a></li><li class="md-nav__item"><a href="#test-coverage-requirements" class="md-nav__link"><span class="md-ellipsis"> Test Coverage Requirements </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#guiding-principles-tenets-system" class="md-nav__link"><span class="md-ellipsis"> Guiding Principles (Tenets) System </span></a><nav class="md-nav" aria-label="Guiding Principles (Tenets) System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#overview" class="md-nav__link"><span class="md-ellipsis"> Overview </span></a></li><li class="md-nav__item"><a href="#output-format-conventions" class="md-nav__link"><span class="md-ellipsis"> Output Format Conventions </span></a></li><li class="md-nav__item"><a href="#injection-strategy" class="md-nav__link"><span class="md-ellipsis"> Injection Strategy </span></a></li><li class="md-nav__item"><a href="#injection-behavior" class="md-nav__link"><span class="md-ellipsis"> Injection Behavior </span></a></li><li class="md-nav__item"><a href="#integration-with-distill-command" class="md-nav__link"><span class="md-ellipsis"> Integration with Distill Command </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#future-roadmap--vision" class="md-nav__link"><span class="md-ellipsis"> Future Roadmap &amp; Vision </span></a><nav class="md-nav" aria-label="Future Roadmap & Vision"><ul class="md-nav__list"><li class="md-nav__item"><a href="#near-term-q1-2025" class="md-nav__link"><span class="md-ellipsis"> Near Term (Q1 2025) </span></a></li><li class="md-nav__item"><a href="#medium-term-q2-q3-2025" class="md-nav__link"><span class="md-ellipsis"> Medium Term (Q2-Q3 2025) </span></a></li><li class="md-nav__item"><a href="#long-term-2026" class="md-nav__link"><span class="md-ellipsis"> Long Term (2026+) </span></a></li><li class="md-nav__item"><a href="#technology-evolution" class="md-nav__link"><span class="md-ellipsis"> Technology Evolution </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#output-generation--visualization" class="md-nav__link"><span class="md-ellipsis"> Output Generation &amp; Visualization </span></a><nav class="md-nav" aria-label="Output Generation & Visualization"><ul class="md-nav__list"><li class="md-nav__item"><a href="#output-formatting-system" class="md-nav__link"><span class="md-ellipsis"> Output Formatting System </span></a></li><li class="md-nav__item"><a href="#html-report-generation" class="md-nav__link"><span class="md-ellipsis"> HTML Report Generation </span></a></li><li class="md-nav__item"><a href="#visualization-components" class="md-nav__link"><span class="md-ellipsis"> Visualization Components </span></a></li><li class="md-nav__item"><a href="#integration-with-report-generator" class="md-nav__link"><span class="md-ellipsis"> Integration with Report Generator </span></a></li><li class="md-nav__item"><a href="#usage-examples" class="md-nav__link"><span class="md-ellipsis"> Usage Examples </span></a></li><li class="md-nav__item"><a href="#performance-optimizations" class="md-nav__link"><span class="md-ellipsis"> Performance Optimizations </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#conclusion" class="md-nav__link"><span class="md-ellipsis"> Conclusion </span></a><nav class="md-nav" aria-label="Conclusion"><ul class="md-nav__list"><li class="md-nav__item"><a href="#key-architectural-strengths" class="md-nav__link"><span class="md-ellipsis"> Key Architectural Strengths </span></a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content" data-md-component="content"><article class="md-content__inner md-typeset"><h1 id="tenets-complete-architecture-documentation">Tenets Complete Architecture Documentation<a class="headerlink" href="#tenets-complete-architecture-documentation" title="Link to this section">&para;</a></h1><h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this section">&para;</a></h2><ol><li><a href="#system-overview">System Overview</a></li><li><a href="#core-philosophy--design-principles">Core Philosophy &amp; Design Principles</a></li><li><a href="#complete-system-architecture">Complete System Architecture</a></li><li><a href="#nlpml-pipeline-architecture">NLP/ML Pipeline Architecture</a></li><li><a href="#file-discovery--scanning-system">File Discovery &amp; Scanning System</a></li><li><a href="#code-analysis-engine">Code Analysis Engine</a></li><li><a href="#relevance-ranking-system">Relevance Ranking System</a></li><li><a href="#git-integration--chronicle-system">Git Integration &amp; Chronicle System</a></li><li><a href="#examination--quality-analysis">Examination &amp; Quality Analysis</a></li><li><a href="#momentum--velocity-tracking">Momentum &amp; Velocity Tracking</a></li><li><a href="#context-management--optimization">Context Management &amp; Optimization</a></li><li><a href="#session-management-architecture">Session Management Architecture</a></li><li><a href="#storage--caching-architecture">Storage &amp; Caching Architecture</a></li><li><a href="#prompt-parsing--understanding">Prompt Parsing &amp; Understanding</a></li><li><a href="#output-generation--formatting">Output Generation &amp; Formatting</a></li><li><a href="#performance-architecture">Performance Architecture</a></li><li><a href="#configuration-system">Configuration System</a></li><li><a href="#cli--api-architecture">CLI &amp; API Architecture</a></li><li><a href="#visualization--reporting">Visualization &amp; Reporting</a></li><li><a href="#security--privacy-architecture">Security &amp; Privacy Architecture</a></li><li><a href="#extensibility--plugin-system">Extensibility &amp; Plugin System</a></li><li><a href="#deployment-architecture">Deployment Architecture</a></li><li><a href="#testing--quality-assurance">Testing &amp; Quality Assurance</a></li><li><a href="#future-roadmap--vision">Future Roadmap &amp; Vision</a></li></ol><h2 id="system-overview">System Overview<a class="headerlink" href="#system-overview" title="Link to this section">&para;</a></h2><h3 id="what-is-tenets">What is Tenets?<a class="headerlink" href="#what-is-tenets" title="Link to this section">&para;</a></h3><p>Tenets is a sophisticated, local-first code intelligence platform that revolutionizes how developers interact with their codebases when working with AI assistants. Unlike traditional code search tools or simple context builders, Tenets employs advanced multi-stage analysis combining natural language processing, machine learning, static code analysis, git history mining, and intelligent ranking to build optimal context for any given task.</p><p>The system operates entirely locally, ensuring complete privacy and security while delivering advanced code understanding capabilities. Every component is designed with performance in mind, utilizing aggressive caching, parallel processing, and incremental computation to handle codebases ranging from small projects to massive monorepos with millions of files.</p><h3 id="core-architecture-principles">Core Architecture Principles<a class="headerlink" href="#core-architecture-principles" title="Link to this section">&para;</a></h3><ol><li><p><strong>Local-First Processing</strong>: All analysis, ranking, and context generation happens on the developer's machine. No code ever leaves the local environment. External API calls are only made for optional LLM-based summarization, and even then, only with explicit user consent.</p></li><li><p><strong>Progressive Enhancement</strong>: The system provides value immediately with just Python installed, and scales up with optional dependencies. Core functionality works without any ML libraries, git integration works without any configuration, and advanced features gracefully degrade when dependencies are missing.</p></li><li><p><strong>Intelligent Caching</strong>: Every expensive operation is cached at multiple levels - memory caches for hot data, SQLite for structured data, disk caches for analysis results, and specialized caches for embeddings. Cache invalidation is intelligent, using file modification times, git commits, and content hashes.</p></li><li><p><strong>Configurable Intelligence</strong>: Every aspect of the ranking and analysis can be configured. Users can adjust factor weights, enable/disable features, add custom ranking functions, and tune performance parameters. The system adapts to different codebases and use cases.</p></li><li><p><strong>Streaming Architecture</strong>: The system uses streaming and incremental processing wherever possible. Files are analyzed as they're discovered, rankings are computed in parallel, and results stream to the user as they become available.</p></li></ol><h2 id="complete-system-architecture">Complete System Architecture<a class="headerlink" href="#complete-system-architecture" title="Link to this section">&para;</a></h2><h3 id="high-level-data-flow">High-Level Data Flow<a class="headerlink" href="#high-level-data-flow" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "User Interaction Layer"
        CLI[CLI Interface&lt;br/&gt;typer]
        API[Python API&lt;br/&gt;Library]
        WebUI[Web UI&lt;br/&gt;Future]
        IDE[IDE Extensions]
    end

    subgraph "Command Orchestration"
        DISPATCHER[Command Dispatcher]
        DISTILL[Distill Command]
        EXAMINE[Examine Command]
        CHRONICLE[Chronicle Command]
        MOMENTUM[Momentum Command]
        SESSION[Session Management]
    end

    subgraph "Prompt Processing Layer"
        PARSER[Prompt Parser]
        INTENT[Intent Detection]
        KEYWORDS[Keyword Extraction]
        ENTITIES[Entity Extraction]

        subgraph "NLP Pipeline"
            TOKENIZER[Tokenizer]
            STOPWORDS[Stopwords]
            RAKE[RAKE Keywords]
            YAKE[YAKE Fallback]
            TFIDF[TF-IDF Analysis]
            BM25[BM25 Ranking]
        end
    end

    subgraph "File Discovery &amp; Analysis"
        SCANNER[File Scanner]
        GITIGNORE[.gitignore Parser]
        BINARY[Binary Detection]
        PARALLEL[Parallel Scanner]

        subgraph "Code Analysis Engine"
            PYTHON_ANALYZER[Python Analyzer]
            JS_ANALYZER[JavaScript Analyzer]
            GO_ANALYZER[Go Analyzer]
            JAVA_ANALYZER[Java Analyzer]
            GENERIC_ANALYZER[Generic Analyzer]
        end

        subgraph "AST &amp; Structure"
            CLASSES[Class Extraction]
            FUNCTIONS[Function Extraction]
            IMPORTS[Import Analysis]
            EXPORTS[Export Analysis]
        end
    end

    subgraph "Intelligence &amp; Ranking"
        subgraph "Ranking Engine"
            FAST[Fast Strategy]
            BALANCED[Balanced Strategy]
            THOROUGH[Thorough Strategy]
            ML[ML Strategy]
        end

        subgraph "Ranking Factors"
            SEMANTIC[Semantic Similarity&lt;br/&gt;25%]
            KEYWORD_MATCH[Keyword Matching&lt;br/&gt;15%]
            TFIDF_SIM[TF-IDF Similarity&lt;br/&gt;15%]
            IMPORT_CENT[Import Centrality&lt;br/&gt;10%]
            PATH_REL[Path Relevance&lt;br/&gt;10%]
            GIT_SIG[Git Signals&lt;br/&gt;15%]
        end

        subgraph "ML/NLP Pipeline"
            EMBEDDINGS[Local Embeddings]
            EMBED_CACHE[Embedding Cache]
            SIMILARITY[Similarity Computing]
        end
    end

    subgraph "Context Optimization"
        CONTEXT_BUILDER[Context Builder]
        TOKEN_COUNTER[Token Counter]
        SUMMARIZER[Summarizer]
        FORMATTER[Output Formatter]
    end

    subgraph "Storage &amp; Persistence"
        SQLITE[SQLite Database&lt;br/&gt;Sessions]
        MEMORY[Memory Cache&lt;br/&gt;LRU]
        DISK[Disk Cache&lt;br/&gt;Analysis Results]
    end

    CLI --&gt; DISPATCHER
    API --&gt; DISPATCHER
    WebUI --&gt; DISPATCHER
    IDE --&gt; DISPATCHER

    DISPATCHER --&gt; DISTILL
    DISPATCHER --&gt; EXAMINE
    DISPATCHER --&gt; CHRONICLE
    DISPATCHER --&gt; MOMENTUM
    DISPATCHER --&gt; SESSION

    DISTILL --&gt; PARSER
    PARSER --&gt; INTENT
    PARSER --&gt; KEYWORDS
    PARSER --&gt; ENTITIES

    INTENT --&gt; TOKENIZER
    KEYWORDS --&gt; RAKE
    RAKE --&gt; YAKE
    ENTITIES --&gt; TFIDF
    ENTITIES --&gt; BM25

    PARSER --&gt; SCANNER
    SCANNER --&gt; GITIGNORE
    SCANNER --&gt; BINARY
    SCANNER --&gt; PARALLEL

    SCANNER --&gt; PYTHON_ANALYZER
    SCANNER --&gt; JS_ANALYZER
    SCANNER --&gt; GO_ANALYZER
    SCANNER --&gt; JAVA_ANALYZER
    SCANNER --&gt; GENERIC_ANALYZER

    PYTHON_ANALYZER --&gt; CLASSES
    PYTHON_ANALYZER --&gt; FUNCTIONS
    PYTHON_ANALYZER --&gt; IMPORTS
    PYTHON_ANALYZER --&gt; EXPORTS

    CLASSES --&gt; FAST
    FUNCTIONS --&gt; BALANCED
    IMPORTS --&gt; THOROUGH
    EXPORTS --&gt; ML

    FAST --&gt; SEMANTIC
    BALANCED --&gt; KEYWORD_MATCH
    THOROUGH --&gt; TFIDF_SIM
    ML --&gt; IMPORT_CENT

    SEMANTIC --&gt; EMBEDDINGS
    EMBEDDINGS --&gt; EMBED_CACHE
    EMBED_CACHE --&gt; SIMILARITY

    SIMILARITY --&gt; CONTEXT_BUILDER
    KEYWORD_MATCH --&gt; CONTEXT_BUILDER
    TFIDF_SIM --&gt; CONTEXT_BUILDER

    CONTEXT_BUILDER --&gt; TOKEN_COUNTER
    CONTEXT_BUILDER --&gt; SUMMARIZER
    CONTEXT_BUILDER --&gt; FORMATTER

    FORMATTER --&gt; SQLITE
    FORMATTER --&gt; MEMORY
    FORMATTER --&gt; DISK</code></pre><h3 id="system-component-overview">System Component Overview<a class="headerlink" href="#system-component-overview" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Core Components"
        NLP[NLP/ML Pipeline]
        SCAN[File Scanner]
        ANALYZE[Code Analyzer]
        RANK[Ranking Engine]
        CONTEXT[Context Builder]
    end

    subgraph "Analysis Tools"
        EXAMINE[Examine Tool]
        CHRONICLE[Chronicle Tool]
        MOMENTUM[Momentum Tool]
    end

    subgraph "Storage Systems"
        CACHE[Cache Manager]
        SESSION[Session Store]
        CONFIG[Configuration]
    end

    NLP --&gt; RANK
    SCAN --&gt; ANALYZE
    ANALYZE --&gt; RANK
    RANK --&gt; CONTEXT

    ANALYZE --&gt; EXAMINE
    SCAN --&gt; CHRONICLE
    CHRONICLE --&gt; MOMENTUM

    RANK --&gt; CACHE
    CONTEXT --&gt; SESSION
    SESSION --&gt; CONFIG</code></pre><h2 id="nlpml-pipeline-architecture">NLP/ML Pipeline Architecture<a class="headerlink" href="#nlpml-pipeline-architecture" title="Link to this section">&para;</a></h2><h3 id="centralized-nlp-components-updated">Centralized NLP Components (Updated)<a class="headerlink" href="#centralized-nlp-components-updated" title="Link to this section">&para;</a></h3><p>Tenets uses a centralized NLP architecture to avoid code duplication and ensure consistency:</p><h4 id="core-nlp-module-structure">Core NLP Module Structure<a class="headerlink" href="#core-nlp-module-structure" title="Link to this section">&para;</a></h4><div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos=" 1 "></span></a>tenets/core/nlp/
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos=" 2 "></span></a>├── __init__.py          # Main NLP API exports
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos=" 3 "></span></a>├── similarity.py        # Centralized similarity computations (NEW)
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos=" 4 "></span></a>├── keyword_extractor.py # Unified keyword extraction with SimpleRAKE
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos=" 5 "></span></a>├── tokenizer.py        # Code and text tokenization
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><a href="#__codelineno-0-6"><span class="linenos" data-linenos=" 6 "></span></a>├── stopwords.py        # Stopword management with fallbacks
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><a href="#__codelineno-0-7"><span class="linenos" data-linenos=" 7 "></span></a>├── embeddings.py       # Embedding generation (ML optional)
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><a href="#__codelineno-0-8"><span class="linenos" data-linenos=" 8 "></span></a>├── ml_utils.py         # ML utility functions
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><a href="#__codelineno-0-9"><span class="linenos" data-linenos=" 9 "></span></a>├── bm25.py            # BM25 ranking algorithm (primary)
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><a href="#__codelineno-0-10"><span class="linenos" data-linenos="10 "></span></a>└── tfidf.py           # TF-IDF calculations (fallback)
</span></code></pre></div><h4 id="similarity-computation-consolidation">Similarity Computation Consolidation<a class="headerlink" href="#similarity-computation-consolidation" title="Link to this section">&para;</a></h4><p>All similarity calculations are now centralized in <code>similarity.py</code>:</p><p><strong>Unified API:</strong><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><a href="#__codelineno-1-1"><span class="linenos" data-linenos="1 "></span></a><span class="kn">from</span><span class="w"> </span><span class="nn">tenets.core.nlp</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><a href="#__codelineno-1-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="n">cosine_similarity</span><span class="p">,</span>      <span class="c1"># Dense or sparse vectors</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><a href="#__codelineno-1-3"><span class="linenos" data-linenos="3 "></span></a>    <span class="n">sparse_cosine_similarity</span><span class="p">,</span>  <span class="c1"># Dict-based sparse vectors</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><a href="#__codelineno-1-4"><span class="linenos" data-linenos="4 "></span></a>    <span class="n">euclidean_distance</span><span class="p">,</span>     <span class="c1"># L2 distance</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><a href="#__codelineno-1-5"><span class="linenos" data-linenos="5 "></span></a>    <span class="n">manhattan_distance</span><span class="p">,</span>     <span class="c1"># L1 distance</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a><a href="#__codelineno-1-6"><span class="linenos" data-linenos="6 "></span></a>    <span class="n">SemanticSimilarity</span>     <span class="c1"># ML-based semantic similarity</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><a href="#__codelineno-1-7"><span class="linenos" data-linenos="7 "></span></a><span class="p">)</span>
</span></code></pre></div></p><p><strong>Key Features:</strong> - <strong>Automatic Detection</strong>: <code>cosine_similarity()</code> auto-detects sparse (dict) vs dense (list/array) vectors - <strong>Sparse Vector Support</strong>: Efficient similarity for high-dimensional sparse vectors (TF-IDF) - <strong>No Duplication</strong>: All modules import from central <code>similarity.py</code> - <strong>Graceful Fallback</strong>: Works without NumPy using pure Python implementations</p><p><strong>Usage Examples:</strong><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><a href="#__codelineno-2-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># Dense vectors</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><a href="#__codelineno-2-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="n">sim</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>  <span class="c1"># → 0.0</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><a href="#__codelineno-2-3"><span class="linenos" data-linenos=" 3 "></span></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a><a href="#__codelineno-2-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="c1"># Sparse vectors (TF-IDF)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a><a href="#__codelineno-2-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="n">vec1</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">}</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a><a href="#__codelineno-2-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="n">vec2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a><a href="#__codelineno-2-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="n">sim</span> <span class="o">=</span> <span class="n">sparse_cosine_similarity</span><span class="p">(</span><span class="n">vec1</span><span class="p">,</span> <span class="n">vec2</span><span class="p">)</span>  <span class="c1"># → 0.76</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a><a href="#__codelineno-2-8"><span class="linenos" data-linenos=" 8 "></span></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a><a href="#__codelineno-2-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="c1"># Semantic similarity (requires ML)</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a><a href="#__codelineno-2-10"><span class="linenos" data-linenos="10 "></span></a><span class="n">sem</span> <span class="o">=</span> <span class="n">SemanticSimilarity</span><span class="p">()</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11"></a><a href="#__codelineno-2-11"><span class="linenos" data-linenos="11 "></span></a><span class="n">sim</span> <span class="o">=</span> <span class="n">sem</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="s2">&quot;OAuth authentication&quot;</span><span class="p">,</span> <span class="s2">&quot;login system&quot;</span><span class="p">)</span>  <span class="c1"># → 0.82</span>
</span></code></pre></div></p><h3 id="pipeline-component-flow">Pipeline Component Flow<a class="headerlink" href="#pipeline-component-flow" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Input Processing"
        INPUT[Raw Text Input]
        PROMPT[User Prompt]
        CODE[Code Content]
    end

    subgraph "Tokenization Layer"
        CODE_TOK[Code Tokenizer&lt;br/&gt;camelCase, snake_case]
        TEXT_TOK[Text Tokenizer&lt;br/&gt;NLP processing]
    end

    subgraph "Keyword Extraction"
        RAKE_EXT[RAKE Extractor&lt;br/&gt;Primary - Fast &amp; Python 3.13 Compatible]
        YAKE_EXT[YAKE Extractor&lt;br/&gt;Secondary - Python &lt; 3.13 Only]
        TFIDF_EXT[TF-IDF Extractor&lt;br/&gt;Frequency-based Fallback]
        FREQ_EXT[Frequency Extractor&lt;br/&gt;Final Fallback]
    end

    subgraph "Stopword Management"
        CODE_STOP[Code Stopwords&lt;br/&gt;Minimal - 30 words]
        PROMPT_STOP[Prompt Stopwords&lt;br/&gt;Aggressive - 200+ words]
    end

    subgraph "Embedding Generation"
        LOCAL_EMB[Local Embeddings&lt;br/&gt;sentence-transformers]
        MODEL_SEL[Model Selection&lt;br/&gt;MiniLM, MPNet]
        FALLBACK[TF-IDF Fallback&lt;br/&gt;No ML required]
    end

    subgraph "Similarity Computing"
        COSINE[Cosine Similarity]
        EUCLIDEAN[Euclidean Distance]
        BATCH[Batch Processing]
    end

    subgraph "Caching System"
        MEM_CACHE[Memory Cache&lt;br/&gt;LRU 1000 items]
        DISK_CACHE[SQLite Cache&lt;br/&gt;30 day TTL]
    end

    INPUT --&gt; CODE_TOK
    INPUT --&gt; TEXT_TOK
    PROMPT --&gt; TEXT_TOK
    CODE --&gt; CODE_TOK

    CODE_TOK --&gt; CODE_STOP
    TEXT_TOK --&gt; PROMPT_STOP

    CODE_STOP --&gt; RAKE_EXT
    PROMPT_STOP --&gt; RAKE_EXT
    RAKE_EXT --&gt; YAKE_EXT
    YAKE_EXT --&gt; TFIDF_EXT
    TFIDF_EXT --&gt; FREQ_EXT

    FREQ_EXT --&gt; LOCAL_EMB
    LOCAL_EMB --&gt; MODEL_SEL
    MODEL_SEL --&gt; FALLBACK

    FALLBACK --&gt; COSINE
    COSINE --&gt; EUCLIDEAN
    EUCLIDEAN --&gt; BATCH

    BATCH --&gt; MEM_CACHE
    MEM_CACHE --&gt; DISK_CACHE</code></pre><h3 id="keyword-extraction-algorithms-comparison">Keyword Extraction Algorithms Comparison<a class="headerlink" href="#keyword-extraction-algorithms-comparison" title="Link to this section">&para;</a></h3><h4 id="algorithm-overview--trade-offs">Algorithm Overview &amp; Trade-offs<a class="headerlink" href="#algorithm-overview--trade-offs" title="Link to this section">&para;</a></h4><table><thead><tr><th>Algorithm</th><th>Speed</th><th>Quality</th><th>Memory</th><th>Python 3.13</th><th>Best For</th><th>Limitations</th></tr></thead><tbody><tr><td><strong>RAKE</strong></td><td>Fast</td><td>Good</td><td>Low</td><td>✅ Yes</td><td>• Technical docs<br>• Multi-word phrases<br>• Fast processing</td><td>• No semantic understanding<br>• Language-dependent stopwords<br>• May miss single important words</td></tr><tr><td><strong>SimpleRAKE</strong></td><td>Fast</td><td>Good</td><td>Minimal</td><td>✅ Yes</td><td>• No NLTK dependencies<br>• Built-in implementation<br>• Fast processing</td><td>• No advanced NLP features<br>• Basic tokenization only</td></tr><tr><td><strong>YAKE</strong></td><td>Moderate</td><td>Very Good</td><td>Low</td><td>❌ No</td><td>• Statistical analysis<br>• Language independent<br>• Capital letter aware</td><td>• Python 3.13 bug<br>• Can produce duplicates<br>• No deep semantics</td></tr><tr><td><strong>BM25</strong></td><td>Fast</td><td>Excellent</td><td>High<br>(handles length variation)</td><td>✅ Yes</td><td>• Primary ranking algorithm<br>• Better for code search<br>• Handles file size variation</td><td>• Needs document corpus<br>• Statistical only<br>• No semantic understanding</td></tr><tr><td><strong>TF-IDF</strong></td><td>Fast</td><td>Good</td><td>Medium<br>(corpus-dependent)</td><td>✅ Yes</td><td>• Optional fallback<br>• Document uniqueness<br>• Simpler algorithm</td><td>• Less effective for varying lengths<br>• No term saturation<br>• Statistical only</td></tr><tr><td><strong>Frequency</strong></td><td>Very Fast</td><td>Basic</td><td>Minimal</td><td>✅ Yes</td><td>• Fallback option<br>• Simple analysis<br>• Guaranteed to work</td><td>• Very basic<br>• No context awareness<br>• Misses importance</td></tr></tbody></table><h4 id="detailed-algorithm-analysis">Detailed Algorithm Analysis<a class="headerlink" href="#detailed-algorithm-analysis" title="Link to this section">&para;</a></h4><h5 id="rake-rapid-automatic-keyword-extraction"><strong>RAKE (Rapid Automatic Keyword Extraction)</strong><a class="headerlink" href="#rake-rapid-automatic-keyword-extraction" title="Link to this section">&para;</a></h5><div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><a href="#__codelineno-3-1"><span class="linenos" data-linenos="1 "></span></a>Primary method for Python 3.13+
</span></code></pre></div><p><strong>How it works:</strong> - Uses word frequency and co-occurrence to identify key phrases - Builds a word co-occurrence graph - Calculates word scores based on degree/frequency ratio</p><p><strong>Pros:</strong> - ✅ Extremely fast - can process thousands of documents per second - ✅ Excellent at extracting multi-word technical phrases - ✅ No training required - works immediately - ✅ Python 3.13 compatible - ✅ Good performance with technical documentation - ✅ Low memory footprint</p><p><strong>Cons:</strong> - ❌ No semantic understanding of word relationships - ❌ Dependent on stopword lists for quality - ❌ May miss important single-word keywords - ❌ Can struggle with very short texts</p><p><strong>Best Use Cases:</strong> - API documentation keyword extraction - Technical specification analysis - Code comment summarization - Real-time keyword extraction</p><h5 id="yake-yet-another-keyword-extractor"><strong>YAKE (Yet Another Keyword Extractor)</strong><a class="headerlink" href="#yake-yet-another-keyword-extractor" title="Link to this section">&para;</a></h5><div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><a href="#__codelineno-4-1"><span class="linenos" data-linenos="1 "></span></a>Secondary method for Python &lt; 3.13
</span></code></pre></div><p><strong>How it works:</strong> - Uses statistical features from individual documents - Considers word position, frequency, context - Pays attention to capitalization and word casing</p><p><strong>Pros:</strong> - ✅ Language independent - works without language-specific resources - ✅ No training corpus needed - ✅ Good at identifying proper nouns and technical terms - ✅ Considers word position and context - ✅ Handles multiple languages well</p><p><strong>Cons:</strong> - ❌ <strong>Critical: Infinite loop bug on Python 3.13</strong> - ❌ Can generate duplicate keywords with different cases - ❌ No deep semantic understanding - ❌ Slower than RAKE for large documents</p><p><strong>Best Use Cases:</strong> - Multi-language codebases - Mixed content (code + documentation) - When capitalization matters (class names, constants)</p><h5 id="bm25-best-matching-25"><strong>BM25 (Best Matching 25)</strong><a class="headerlink" href="#bm25-best-matching-25" title="Link to this section">&para;</a></h5><div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><a href="#__codelineno-5-1"><span class="linenos" data-linenos="1 "></span></a>Primary text similarity algorithm - default for ranking
</span></code></pre></div><p><strong>How it works:</strong> - Probabilistic ranking function with term saturation (k1=1.2) - Document length normalization (b=0.75) handles varying file sizes - Prevents over-weighting of repeated terms - Better ranking quality than TF-IDF for code search</p><p><strong>Pros:</strong> - ✅ Superior ranking for varying document lengths - ✅ Term saturation prevents keyword stuffing bias - ✅ Industry standard for search engines - ✅ Pure Python implementation - ✅ Better for code files of different sizes</p><p><strong>Cons:</strong> - ❌ Requires a corpus of documents - ❌ More complex than TF-IDF - ❌ Still statistical, no semantic understanding - ❌ Memory usage grows with corpus size</p><p><strong>Best Use Cases:</strong> - Default text similarity for all ranking - Code search across files of varying sizes - Finding relevant files for prompts</p><h5 id="tf-idf-term-frequency-inverse-document-frequency"><strong>TF-IDF (Term Frequency-Inverse Document Frequency)</strong><a class="headerlink" href="#tf-idf-term-frequency-inverse-document-frequency" title="Link to this section">&para;</a></h5><div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><a href="#__codelineno-6-1"><span class="linenos" data-linenos="1 "></span></a>Optional fallback method - configurable via text_similarity_algorithm
</span></code></pre></div><p><strong>How it works:</strong> - Calculates term importance based on frequency in document vs corpus - Higher scores for terms that are frequent in document but rare in corpus - Uses vector space model for similarity calculations</p><p><strong>Pros:</strong> - ✅ Always available - pure Python implementation - ✅ Excellent for finding document-specific terms - ✅ Good theoretical foundation - ✅ Can identify unique technical terms - ✅ Supports similarity calculations between documents</p><p><strong>Cons:</strong> - ❌ Requires a corpus of documents for comparison - ❌ No phrase extraction (single words only) - ❌ Memory usage grows with corpus size - ❌ No understanding of word relationships</p><p><strong>Best Use Cases:</strong> - Finding unique terms in a file - Document similarity calculations - Corpus-wide keyword analysis - Information retrieval tasks</p><h5 id="frequency-based-extraction"><strong>Frequency-based Extraction</strong><a class="headerlink" href="#frequency-based-extraction" title="Link to this section">&para;</a></h5><div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a><a href="#__codelineno-7-1"><span class="linenos" data-linenos="1 "></span></a>Final fallback - guaranteed to work
</span></code></pre></div><p><strong>How it works:</strong> - Simple word counting with basic filtering - Extracts n-grams (bigrams, trigrams) - Scores based on component frequency</p><p><strong>Pros:</strong> - ✅ Always works - no dependencies - ✅ Minimal memory usage - ✅ Very fast - ✅ Predictable behavior - ✅ Good for debugging</p><p><strong>Cons:</strong> - ❌ Very basic - no intelligence - ❌ Misses context and importance - ❌ Common words can dominate - ❌ No semantic understanding</p><p><strong>Best Use Cases:</strong> - Emergency fallback - Testing and debugging - When other methods fail - Very resource-constrained environments</p><h4 id="selection-strategy">Selection Strategy<a class="headerlink" href="#selection-strategy" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><a href="#__codelineno-8-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># Tenets automatic selection logic (simplified)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a><a href="#__codelineno-8-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="k">if</span> <span class="n">python_version</span> <span class="o">&gt;=</span> <span class="mf">3.13</span><span class="p">:</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a><a href="#__codelineno-8-3"><span class="linenos" data-linenos=" 3 "></span></a>    <span class="k">if</span> <span class="n">rake_available</span><span class="p">:</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a><a href="#__codelineno-8-4"><span class="linenos" data-linenos=" 4 "></span></a>        <span class="n">use_rake</span><span class="p">()</span>  <span class="c1"># Primary choice</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5"></a><a href="#__codelineno-8-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6"></a><a href="#__codelineno-8-6"><span class="linenos" data-linenos=" 6 "></span></a>        <span class="n">use_tfidf</span><span class="p">()</span>  <span class="c1"># Fallback</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7"></a><a href="#__codelineno-8-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="k">else</span><span class="p">:</span>  <span class="c1"># Python &lt; 3.13</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8"></a><a href="#__codelineno-8-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="k">if</span> <span class="n">rake_available</span><span class="p">:</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9"></a><a href="#__codelineno-8-9"><span class="linenos" data-linenos=" 9 "></span></a>        <span class="n">use_rake</span><span class="p">()</span>  <span class="c1"># Still preferred for speed</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10"></a><a href="#__codelineno-8-10"><span class="linenos" data-linenos="10 "></span></a>    <span class="k">elif</span> <span class="n">yake_available</span><span class="p">:</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11"></a><a href="#__codelineno-8-11"><span class="linenos" data-linenos="11 "></span></a>        <span class="n">use_yake</span><span class="p">()</span>  <span class="c1"># Good alternative</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12"></a><a href="#__codelineno-8-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13"></a><a href="#__codelineno-8-13"><span class="linenos" data-linenos="13 "></span></a>        <span class="n">use_tfidf</span><span class="p">()</span>  <span class="c1"># Fallback</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14"></a><a href="#__codelineno-8-14"><span class="linenos" data-linenos="14 "></span></a>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15"></a><a href="#__codelineno-8-15"><span class="linenos" data-linenos="15 "></span></a><span class="c1"># Final fallback is always frequency-based</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16"></a><a href="#__codelineno-8-16"><span class="linenos" data-linenos="16 "></span></a><span class="k">if</span> <span class="n">all_methods_fail</span><span class="p">:</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17"></a><a href="#__codelineno-8-17"><span class="linenos" data-linenos="17 "></span></a>    <span class="n">use_frequency</span><span class="p">()</span>
</span></code></pre></div><h3 id="embedding-model-architecture">Embedding Model Architecture<a class="headerlink" href="#embedding-model-architecture" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Model Options"
        MINI_L6[all-MiniLM-L6-v2&lt;br/&gt;90MB, Fast]
        MINI_L12[all-MiniLM-L12-v2&lt;br/&gt;120MB, Better]
        MPNET[all-mpnet-base-v2&lt;br/&gt;420MB, Best]
        QA_MINI[multi-qa-MiniLM&lt;br/&gt;Q&amp;A Optimized]
    end

    subgraph "Processing Pipeline"
        BATCH_ENC[Batch Encoding]
        CHUNK[Document Chunking&lt;br/&gt;1000 chars, 100 overlap]
        VECTOR[Vector Operations&lt;br/&gt;NumPy optimized]
    end

    subgraph "Cache Strategy"
        KEY_GEN[Cache Key Generation&lt;br/&gt;model + content hash]
        WARM[Cache Warming]
        INVALID[Intelligent Invalidation]
    end

    MINI_L6 --&gt; BATCH_ENC
    MINI_L12 --&gt; BATCH_ENC
    MPNET --&gt; BATCH_ENC
    QA_MINI --&gt; BATCH_ENC

    BATCH_ENC --&gt; CHUNK
    CHUNK --&gt; VECTOR

    VECTOR --&gt; KEY_GEN
    KEY_GEN --&gt; WARM
    WARM --&gt; INVALID</code></pre><h2 id="file-discovery--scanning-system">File Discovery &amp; Scanning System<a class="headerlink" href="#file-discovery--scanning-system" title="Link to this section">&para;</a></h2><h3 id="scanner-architecture-flow">Scanner Architecture Flow<a class="headerlink" href="#scanner-architecture-flow" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Entry Points"
        ROOT[Project Root]
        PATHS[Specified Paths]
        PATTERNS[Include Patterns]
    end

    subgraph "Ignore System Hierarchy"
        CLI_IGNORE[CLI Arguments&lt;br/&gt;--exclude&lt;br/&gt;Highest Priority]
        TENETS_IGNORE[.tenetsignore&lt;br/&gt;Project-specific]
        GIT_IGNORE[.gitignore&lt;br/&gt;Version control]
        GLOBAL_IGNORE[Global Ignores&lt;br/&gt;~/.config/tenets/ignore&lt;br/&gt;Lowest Priority]
    end
    subgraph "Intelligent Test Exclusion"
        INTENT_DETECT[Intent Detection&lt;br/&gt;Test-related prompts?]
        CLI_OVERRIDE[CLI Override&lt;br/&gt;--include-tests / --exclude-tests]
        TEST_PATTERNS[Test Pattern Matching&lt;br/&gt;Multi-language support]
        TEST_DIRS[Test Directory Detection&lt;br/&gt;tests/, __tests__, spec/]
    end

    subgraph "Minified &amp; Build File Exclusion"
        MINIFIED_CHECK[Minified Detection&lt;br/&gt;*.min.js, *.bundle.js]
        BUILD_DIRS[Build Directories&lt;br/&gt;dist/, build/, out/]
        PROD_FILES[Production Files&lt;br/&gt;*.prod.js, *.compiled.js]
        NODE_MODULES[Dependencies&lt;br/&gt;node_modules/, vendor/]
    end

    subgraph "Detection Systems"
        BINARY_DET[Binary Detection]
        EXT_CHECK[Extension Check]
        SIZE_CHECK[Size Check&lt;br/&gt;Max 10MB default]
        CONTENT_CHECK[Content Sampling&lt;br/&gt;Null byte detection]
        MAGIC_CHECK[Magic Number&lt;br/&gt;File signatures]
    end

    subgraph "Parallel Processing"
        WORK_QUEUE[Work Queue]
        PROCESS_POOL[Process Pool&lt;br/&gt;CPU-bound operations]
        THREAD_POOL[Thread Pool&lt;br/&gt;I/O operations]
        PROGRESS[Progress Tracking&lt;br/&gt;tqdm]
    end

    subgraph "Output"
        SCANNED_FILE[Scanned File Objects]
        METADATA[File Metadata]
        ANALYSIS_READY[Ready for Analysis]
    end

    ROOT --&gt; CLI_IGNORE
    PATHS --&gt; CLI_IGNORE
    PATTERNS --&gt; CLI_IGNORE

    CLI_IGNORE --&gt; TENETS_IGNORE
    TENETS_IGNORE --&gt; GIT_IGNORE
    GIT_IGNORE --&gt; GLOBAL_IGNORE

    GLOBAL_IGNORE --&gt; BINARY_DET
    BINARY_DET --&gt; EXT_CHECK
    EXT_CHECK --&gt; SIZE_CHECK
    SIZE_CHECK --&gt; CONTENT_CHECK
    CONTENT_CHECK --&gt; MAGIC_CHECK

    MAGIC_CHECK --&gt; WORK_QUEUE
    WORK_QUEUE --&gt; PROCESS_POOL
    WORK_QUEUE --&gt; THREAD_POOL
    PROCESS_POOL --&gt; PROGRESS
    THREAD_POOL --&gt; PROGRESS

    PROGRESS --&gt; SCANNED_FILE
    SCANNED_FILE --&gt; METADATA
    METADATA --&gt; ANALYSIS_READY</code></pre><h3 id="binary-detection-strategy">Binary Detection Strategy<a class="headerlink" href="#binary-detection-strategy" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>flowchart TD
    FILE[Input File] --&gt; EXT{Known Binary&lt;br/&gt;Extension?}
    EXT --&gt;|Yes| BINARY[Mark as Binary]
    EXT --&gt;|No| SIZE{Size &gt; 10MB?}
    SIZE --&gt;|Yes| SKIP[Skip File]
    SIZE --&gt;|No| SAMPLE[Sample First 8KB]
    SAMPLE --&gt; NULL{Contains&lt;br/&gt;Null Bytes?}
    NULL --&gt;|Yes| BINARY
    NULL --&gt;|No| RATIO[Calculate Text Ratio]
    RATIO --&gt; THRESHOLD{Ratio &gt; 95%&lt;br/&gt;Printable?}
    THRESHOLD --&gt;|Yes| TEXT[Mark as Text]
    THRESHOLD --&gt;|No| BINARY
    TEXT --&gt; ANALYZE[Ready for Analysis]
    BINARY --&gt; IGNORE[Skip Analysis]
    SKIP --&gt; IGNORE</code></pre><h3 id="minified--build-file-exclusion">Minified &amp; Build File Exclusion<a class="headerlink" href="#minified--build-file-exclusion" title="Link to this section">&para;</a></h3><p>Tenets automatically excludes minified, compiled, and build output files by default to focus on source code only. This significantly improves analysis speed and context relevance.</p><h4 id="default-exclusion-patterns">Default Exclusion Patterns<a class="headerlink" href="#default-exclusion-patterns" title="Link to this section">&para;</a></h4><div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a><a href="#__codelineno-9-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="nt">scanner</span><span class="p">:</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2"></a><a href="#__codelineno-9-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">  </span><span class="nt">exclude_minified</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Default: exclude minified files</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3"></a><a href="#__codelineno-9-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">  </span><span class="nt">minified_patterns</span><span class="p">:</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4"></a><a href="#__codelineno-9-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.min.js&#39;</span><span class="w">          </span><span class="c1"># Minified JavaScript</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5"></a><a href="#__codelineno-9-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.min.css&#39;</span><span class="w">         </span><span class="c1"># Minified CSS</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6"></a><a href="#__codelineno-9-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.bundle.js&#39;</span><span class="w">       </span><span class="c1"># Webpack bundles</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7"></a><a href="#__codelineno-9-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.bundle.css&#39;</span><span class="w">      </span><span class="c1"># CSS bundles</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8"></a><a href="#__codelineno-9-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.production.js&#39;</span><span class="w">   </span><span class="c1"># Production builds</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9"></a><a href="#__codelineno-9-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.prod.js&#39;</span><span class="w">         </span><span class="c1"># Production builds</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10"></a><a href="#__codelineno-9-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.dist.js&#39;</span><span class="w">         </span><span class="c1"># Distribution files</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11"></a><a href="#__codelineno-9-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.compiled.js&#39;</span><span class="w">     </span><span class="c1"># Compiled output</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12"></a><a href="#__codelineno-9-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.minified.*&#39;</span><span class="w">      </span><span class="c1"># Any minified file</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13"></a><a href="#__codelineno-9-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.uglified.*&#39;</span><span class="w">      </span><span class="c1"># UglifyJS output</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14"></a><a href="#__codelineno-9-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">  </span><span class="nt">build_directory_patterns</span><span class="p">:</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15"></a><a href="#__codelineno-9-15"><span class="linenos" data-linenos="15 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dist/</span><span class="w">               </span><span class="c1"># Distribution folder</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16"></a><a href="#__codelineno-9-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build/</span><span class="w">              </span><span class="c1"># Build output</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17"></a><a href="#__codelineno-9-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">out/</span><span class="w">                </span><span class="c1"># Output folder</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18"></a><a href="#__codelineno-9-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">output/</span><span class="w">             </span><span class="c1"># Alternative output</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19"></a><a href="#__codelineno-9-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">public/</span><span class="w">             </span><span class="c1"># Public assets</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20"></a><a href="#__codelineno-9-20"><span class="linenos" data-linenos="20 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">static/generated/</span><span class="w">   </span><span class="c1"># Generated statics</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21"></a><a href="#__codelineno-9-21"><span class="linenos" data-linenos="21 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.next/</span><span class="w">              </span><span class="c1"># Next.js build</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22"></a><a href="#__codelineno-9-22"><span class="linenos" data-linenos="22 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">_next/</span><span class="w">              </span><span class="c1"># Next.js build</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23"></a><a href="#__codelineno-9-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">node_modules/</span><span class="w">       </span><span class="c1"># Dependencies</span>
</span></code></pre></div><h4 id="configuration-options">Configuration Options<a class="headerlink" href="#configuration-options" title="Link to this section">&para;</a></h4><ol><li><p><strong>Disable minified exclusion</strong> (include all files): <div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><a href="#__codelineno-10-1"><span class="linenos" data-linenos="1 "></span></a><span class="nt">scanner</span><span class="p">:</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a><a href="#__codelineno-10-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">  </span><span class="nt">exclude_minified</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span></code></pre></div></p></li><li><p><strong>Custom patterns</strong>: <div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><a href="#__codelineno-11-1"><span class="linenos" data-linenos="1 "></span></a><span class="nt">scanner</span><span class="p">:</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2"></a><a href="#__codelineno-11-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">  </span><span class="nt">minified_patterns</span><span class="p">:</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3"></a><a href="#__codelineno-11-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*.custom.min.js&#39;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4"></a><a href="#__codelineno-11-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;vendor/*.js&#39;</span>
</span></code></pre></div></p></li><li><p><strong>CLI override</strong>: <div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1"></a><a href="#__codelineno-12-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Include minified files for this run</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2"></a><a href="#__codelineno-12-2"><span class="linenos" data-linenos="2 "></span></a>tenets<span class="w"> </span>distill<span class="w"> </span><span class="s2">&quot;analyze bundle&quot;</span><span class="w"> </span>--include-minified
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3"></a><a href="#__codelineno-12-3"><span class="linenos" data-linenos="3 "></span></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4"></a><a href="#__codelineno-12-4"><span class="linenos" data-linenos="4 "></span></a><span class="c1"># Exclude specific patterns</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5"></a><a href="#__codelineno-12-5"><span class="linenos" data-linenos="5 "></span></a>tenets<span class="w"> </span>examine<span class="w"> </span>.<span class="w"> </span>--exclude<span class="w"> </span><span class="s2">&quot;*.min.js,dist/&quot;</span>
</span></code></pre></div></p></li></ol><h3 id="intelligent-test-file-exclusion">Intelligent Test File Exclusion<a class="headerlink" href="#intelligent-test-file-exclusion" title="Link to this section">&para;</a></h3><p>Tenets implements intelligent test file handling to improve context relevance by automatically excluding or including test files based on the user's intent.</p><pre class="mermaid"><code>flowchart TD
    PROMPT[User Prompt] --&gt; PARSE[Prompt Parsing]
    PARSE --&gt; INTENT{Intent Detection&lt;br/&gt;Test-related?}

    INTENT --&gt;|Yes| INCLUDE_TESTS[include_tests = True]
    INTENT --&gt;|No| EXCLUDE_TESTS[include_tests = False]

    CLI_OVERRIDE{CLI Override?&lt;br/&gt;--include-tests&lt;br/&gt;--exclude-tests}
    CLI_OVERRIDE --&gt;|--include-tests| FORCE_INCLUDE[include_tests = True]
    CLI_OVERRIDE --&gt;|--exclude-tests| FORCE_EXCLUDE[include_tests = False]
    CLI_OVERRIDE --&gt;|None| INTENT

    INCLUDE_TESTS --&gt; SCAN_ALL[Scan All Files]
    EXCLUDE_TESTS --&gt; TEST_FILTER[Apply Test Filters]
    FORCE_INCLUDE --&gt; SCAN_ALL
    FORCE_EXCLUDE --&gt; TEST_FILTER

    TEST_FILTER --&gt; PATTERN_MATCH[Pattern Matching]
    PATTERN_MATCH --&gt; DIR_MATCH[Directory Matching]

    subgraph "Test Patterns (Multi-language)"
        PY_PATTERNS["Python: test_*.py, *_test.py"]
        JS_PATTERNS["JavaScript: *.test.js, *.spec.js"]
        JAVA_PATTERNS["Java: *Test.java, *Tests.java"]
        GO_PATTERNS["Go: *_test.go"]
        GENERIC_PATTERNS["Generic: **/test/**, **/tests/**"]
    end

    subgraph "Test Directories"
        COMMON_DIRS["tests, __tests__, spec"]
        LANG_DIRS["unit_tests, integration_tests"]
        E2E_DIRS["e2e, e2e_tests, functional_tests"]
    end

    PATTERN_MATCH --&gt; PY_PATTERNS
    PATTERN_MATCH --&gt; JS_PATTERNS
    PATTERN_MATCH --&gt; JAVA_PATTERNS
    PATTERN_MATCH --&gt; GO_PATTERNS
    PATTERN_MATCH --&gt; GENERIC_PATTERNS

    DIR_MATCH --&gt; COMMON_DIRS
    DIR_MATCH --&gt; LANG_DIRS
    DIR_MATCH --&gt; E2E_DIRS

    PY_PATTERNS --&gt; FILTERED_FILES[Filtered File List]
    JS_PATTERNS --&gt; FILTERED_FILES
    JAVA_PATTERNS --&gt; FILTERED_FILES
    GO_PATTERNS --&gt; FILTERED_FILES
    GENERIC_PATTERNS --&gt; FILTERED_FILES

    COMMON_DIRS --&gt; FILTERED_FILES
    LANG_DIRS --&gt; FILTERED_FILES
    E2E_DIRS --&gt; FILTERED_FILES

    SCAN_ALL --&gt; ANALYSIS[File Analysis]
    FILTERED_FILES --&gt; ANALYSIS</code></pre><p><strong>Intent Detection Patterns:</strong> - Test-related keywords: <code>test</code>, <code>tests</code>, <code>testing</code>, <code>unit</code>, <code>integration</code>, <code>spec</code>, <code>coverage</code> - Test actions: <code>write tests</code>, <code>fix tests</code>, <code>run tests</code>, <code>test coverage</code>, <code>mock</code> - Test files: <code>test_auth.py</code>, <code>auth.test.js</code>, <code>*Test.java</code> - Test frameworks: <code>pytest</code>, <code>jest</code>, <code>mocha</code>, <code>junit</code>, <code>rspec</code></p><p><strong>Benefits:</strong> - <strong>Improved Relevance</strong>: Non-test prompts get cleaner production code context - <strong>Automatic Intelligence</strong>: Test prompts automatically include test files - <strong>Manual Override</strong>: CLI flags provide full control when needed - <strong>Multi-language Support</strong>: Recognizes test patterns across languages - <strong>Configuration</strong>: Customizable patterns for project-specific conventions</p><h2 id="code-analysis-engine">Code Analysis Engine<a class="headerlink" href="#code-analysis-engine" title="Link to this section">&para;</a></h2><h3 id="language-analyzer-architecture">Language Analyzer Architecture<a class="headerlink" href="#language-analyzer-architecture" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Base Analyzer Interface"
        BASE[LanguageAnalyzer&lt;br/&gt;Abstract Base Class]
        EXTRACT_IMP[extract_imports()]
        EXTRACT_EXP[extract_exports()]
        EXTRACT_CLS[extract_classes()]
        EXTRACT_FN[extract_functions()]
        CALC_COMP[calculate_complexity()]
        TRACE_DEP[trace_dependencies()]
    end

    subgraph "Language-Specific Analyzers"
        PYTHON[Python Analyzer&lt;br/&gt;Full AST parsing]
        JAVASCRIPT[JavaScript Analyzer&lt;br/&gt;ES6+ support]
        GOLANG[Go Analyzer&lt;br/&gt;Package detection]
        JAVA[Java Analyzer&lt;br/&gt;OOP patterns]
        RUST[Rust Analyzer&lt;br/&gt;Ownership patterns]
        GENERIC[Generic Analyzer&lt;br/&gt;Pattern-based fallback]
    end

    subgraph "Analysis Features"
        AST[AST Parsing]
        IMPORTS[Import Resolution]
        TYPES[Type Extraction]
        DOCS[Documentation Parsing]
        PATTERNS[Code Patterns]
        COMPLEXITY[Complexity Metrics]
    end

    BASE --&gt; EXTRACT_IMP
    BASE --&gt; EXTRACT_EXP
    BASE --&gt; EXTRACT_CLS
    BASE --&gt; EXTRACT_FN
    BASE --&gt; CALC_COMP
    BASE --&gt; TRACE_DEP

    BASE --&gt; PYTHON
    BASE --&gt; JAVASCRIPT
    BASE --&gt; GOLANG
    BASE --&gt; JAVA
    BASE --&gt; RUST
    BASE --&gt; GENERIC

    PYTHON --&gt; AST
    PYTHON --&gt; IMPORTS
    PYTHON --&gt; TYPES
    PYTHON --&gt; DOCS

    JAVASCRIPT --&gt; PATTERNS
    GOLANG --&gt; PATTERNS
    JAVA --&gt; COMPLEXITY
    RUST --&gt; COMPLEXITY
    GENERIC --&gt; PATTERNS</code></pre><h3 id="python-analyzer-detail">Python Analyzer Detail<a class="headerlink" href="#python-analyzer-detail" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Python AST Analysis"
        AST_PARSE[AST Parser]
        NODE_VISIT[Node Visitor]
        SYMBOL_TABLE[Symbol Table]
    end

    subgraph "Code Structure"
        CLASSES[Class Definitions&lt;br/&gt;Inheritance chains]
        FUNCTIONS[Function Definitions&lt;br/&gt;Async detection]
        DECORATORS[Decorator Analysis]
        TYPE_HINTS[Type Hint Extraction]
    end

    subgraph "Import Analysis"
        ABS_IMP[Absolute Imports]
        REL_IMP[Relative Imports]
        STAR_IMP[Star Imports]
        IMPORT_GRAPH[Import Graph Building]
    end

    subgraph "Complexity Metrics"
        CYCLO[Cyclomatic Complexity&lt;br/&gt;+1 for if, for, while]
        COGNITIVE[Cognitive Complexity&lt;br/&gt;Nesting penalties]
        HALSTEAD[Halstead Metrics&lt;br/&gt;Operators/operands]
    end

    AST_PARSE --&gt; NODE_VISIT
    NODE_VISIT --&gt; SYMBOL_TABLE

    SYMBOL_TABLE --&gt; CLASSES
    SYMBOL_TABLE --&gt; FUNCTIONS
    SYMBOL_TABLE --&gt; DECORATORS
    SYMBOL_TABLE --&gt; TYPE_HINTS

    NODE_VISIT --&gt; ABS_IMP
    NODE_VISIT --&gt; REL_IMP
    NODE_VISIT --&gt; STAR_IMP
    ABS_IMP --&gt; IMPORT_GRAPH
    REL_IMP --&gt; IMPORT_GRAPH
    STAR_IMP --&gt; IMPORT_GRAPH

    SYMBOL_TABLE --&gt; CYCLO
    SYMBOL_TABLE --&gt; COGNITIVE
    SYMBOL_TABLE --&gt; HALSTEAD</code></pre><h2 id="relevance-ranking-system">Relevance Ranking System<a class="headerlink" href="#relevance-ranking-system" title="Link to this section">&para;</a></h2><h3 id="unified-ranking-architecture">Unified Ranking Architecture<a class="headerlink" href="#unified-ranking-architecture" title="Link to this section">&para;</a></h3><p><strong>IMPORTANT</strong>: The <code>rank</code> command now uses the EXACT SAME sophisticated ranking pipeline as the <code>distill</code> command. This ensures consistency and leverages the full power of the multi-factor ranking system.</p><pre class="mermaid"><code>graph TD
    subgraph "Ranking Strategies"
        FAST[Fast Strategy&lt;br/&gt;~10ms/file&lt;br/&gt;Keyword + Path Only]
        BALANCED[Balanced Strategy&lt;br/&gt;~100ms/file&lt;br/&gt;TF-IDF + BM25 + Structure]
        THOROUGH[Thorough Strategy&lt;br/&gt;~200ms/file&lt;br/&gt;Full Analysis + Git]
        ML_STRAT[ML Strategy&lt;br/&gt;~500ms/file&lt;br/&gt;Semantic Embeddings]
    end

    subgraph "Text Analysis (40% in Balanced)"
        KEY_MATCH[Keyword Matching&lt;br/&gt;20%&lt;br/&gt;Direct term hits]
        TFIDF_SIM[TF-IDF Similarity&lt;br/&gt;20%&lt;br/&gt;Statistical relevance]
        BM25_SCORE[BM25 Score&lt;br/&gt;15%&lt;br/&gt;Probabilistic ranking]
    end

    subgraph "Code Structure Analysis (25% in Balanced)"
        PATH_REL[Path Relevance&lt;br/&gt;15%&lt;br/&gt;Directory structure]
        IMP_CENT[Import Centrality&lt;br/&gt;10%&lt;br/&gt;Dependency importance]
    end

    subgraph "File Characteristics (15% in Balanced)"
        COMPLEXITY_REL[Complexity Relevance&lt;br/&gt;5%&lt;br/&gt;Code complexity signals]
        FILE_TYPE[File Type Relevance&lt;br/&gt;5%&lt;br/&gt;Extension/type matching]
        CODE_PAT[Code Patterns&lt;br/&gt;5%&lt;br/&gt;AST pattern matching]
    end

    subgraph "Git Signals (10% in Balanced)"
        GIT_REC[Git Recency&lt;br/&gt;5%&lt;br/&gt;Recent changes]
        GIT_FREQ[Git Frequency&lt;br/&gt;5%&lt;br/&gt;Change frequency]
    end

    subgraph "ML Enhancement (Only in ML Strategy)"
        SEM_SIM[Semantic Similarity&lt;br/&gt;25%&lt;br/&gt;Embedding-based understanding]
        LOCAL_EMB[Local Embeddings&lt;br/&gt;sentence-transformers]
        EMBED_CACHE[Embedding Cache&lt;br/&gt;Performance optimization]
    end

    subgraph "Unified Pipeline"
        FILE_DISCOVERY[File Discovery&lt;br/&gt;Scanner + Filters]
        ANALYSIS[Code Analysis&lt;br/&gt;AST + Structure]
        RANKING[Multi-Factor Ranking&lt;br/&gt;Strategy-specific weights]
        AGGREGATION[Context Aggregation&lt;br/&gt;Token optimization]
    end

    FAST --&gt; KEY_MATCH
    BALANCED --&gt; TFIDF_SIM
    BALANCED --&gt; BM25_SCORE
    THOROUGH --&gt; IMP_CENT
    ML_STRAT --&gt; SEM_SIM

    FILE_DISCOVERY --&gt; ANALYSIS
    ANALYSIS --&gt; RANKING
    RANKING --&gt; AGGREGATION

    KEY_MATCH --&gt; RANKING
    TFIDF_SIM --&gt; RANKING
    BM25_SCORE --&gt; RANKING
    PATH_REL --&gt; RANKING
    IMP_CENT --&gt; RANKING
    COMPLEXITY_REL --&gt; RANKING
    FILE_TYPE --&gt; RANKING
    CODE_PAT --&gt; RANKING
    GIT_REC --&gt; RANKING
    GIT_FREQ --&gt; RANKING

    SEM_SIM --&gt; LOCAL_EMB
    LOCAL_EMB --&gt; EMBED_CACHE
    EMBED_CACHE --&gt; RANKING</code></pre><h3 id="strategy-comparison-and-usage">Strategy Comparison and Usage<a class="headerlink" href="#strategy-comparison-and-usage" title="Link to this section">&para;</a></h3><table><thead><tr><th>Strategy</th><th>Speed</th><th>Accuracy</th><th>Use Cases</th><th>Factors Used</th></tr></thead><tbody><tr><td><strong>Fast</strong></td><td>Very Fast<br>(~10ms/file)</td><td>Basic</td><td>• Quick file discovery<br>• Keyword-based search<br>• Interactive exploration</td><td>• Keyword matching (60%)<br>• Path relevance (30%)<br>• File type (10%)</td></tr><tr><td><strong>Balanced</strong></td><td>Moderate<br>(~100ms/file)</td><td>Good</td><td>• <strong>DEFAULT for both rank and distill</strong><br>• Production usage<br>• Most common scenarios</td><td>• Keyword (20%), TF-IDF (20%), BM25 (15%)<br>• Path (15%), Import centrality (10%)<br>• Complexity (5%), File type (5%), Git (10%)</td></tr><tr><td><strong>Thorough</strong></td><td>Slower<br>(~200ms/file)</td><td>High</td><td>• Complex codebases<br>• Deep analysis needed<br>• Research and investigation</td><td>• All balanced factors<br>• Enhanced git analysis<br>• Deeper structural analysis</td></tr><tr><td><strong>ML</strong></td><td>Slowest<br>(~500ms/file)</td><td>Highest</td><td>• Semantic understanding needed<br>• Natural language queries<br>• Advanced AI workflows</td><td>• All factors + semantic similarity (25%)<br>• Local embedding models<br>• Context-aware ranking</td></tr></tbody></table><h3 id="modular-ranking-architecture">Modular Ranking Architecture<a class="headerlink" href="#modular-ranking-architecture" title="Link to this section">&para;</a></h3><p>The ranking system is designed as a <strong>fully modular component</strong> that can be used independently or as part of the larger distillation pipeline.</p><h4 id="component-architecture">Component Architecture<a class="headerlink" href="#component-architecture" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a><a href="#__codelineno-13-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># Core Components and Their Responsibilities</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a><a href="#__codelineno-13-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="n">tenets</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">ranking</span><span class="o">/</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a><a href="#__codelineno-13-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="err">├──</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>         <span class="c1"># Public API exports</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4"></a><a href="#__codelineno-13-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="err">├──</span> <span class="n">ranker</span><span class="o">.</span><span class="n">py</span>           <span class="c1"># RelevanceRanker class - main ranking engine</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5"></a><a href="#__codelineno-13-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="err">├──</span> <span class="n">strategies</span><span class="o">.</span><span class="n">py</span>       <span class="c1"># Ranking strategies (Fast, Balanced, Thorough, ML)</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6"></a><a href="#__codelineno-13-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="err">└──</span> <span class="n">factors</span><span class="o">.</span><span class="n">py</span>          <span class="c1"># Individual ranking factor calculations</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7"></a><a href="#__codelineno-13-7"><span class="linenos" data-linenos=" 7 "></span></a>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8"></a><a href="#__codelineno-13-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="c1"># Integration Points</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9"></a><a href="#__codelineno-13-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="n">tenets</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">distiller</span><span class="o">/</span><span class="n">distiller</span><span class="o">.</span><span class="n">py</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10"></a><a href="#__codelineno-13-10"><span class="linenos" data-linenos="10 "></span></a><span class="err">├──</span> <span class="fm">__init__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ranker</span> <span class="o">=</span> <span class="n">RelevanceRanker</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>  <span class="c1"># Component instantiation</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11"></a><a href="#__codelineno-13-11"><span class="linenos" data-linenos="11 "></span></a><span class="err">└──</span> <span class="n">_rank_files</span><span class="p">():</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ranker</span><span class="o">.</span><span class="n">rank_files</span><span class="p">()</span>   <span class="c1"># Delegation to ranker</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12"></a><a href="#__codelineno-13-12"><span class="linenos" data-linenos="12 "></span></a>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13"></a><a href="#__codelineno-13-13"><span class="linenos" data-linenos="13 "></span></a><span class="n">tenets</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span> <span class="p">(</span><span class="n">Tenets</span> <span class="n">class</span><span class="p">)</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14"></a><a href="#__codelineno-13-14"><span class="linenos" data-linenos="14 "></span></a><span class="err">├──</span> <span class="n">rank_files</span><span class="p">():</span> <span class="n">Uses</span> <span class="n">distiller</span><span class="o">.</span><span class="n">_rank_files</span><span class="p">()</span>       <span class="c1"># Reuses same pipeline</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15"></a><a href="#__codelineno-13-15"><span class="linenos" data-linenos="15 "></span></a><span class="err">└──</span> <span class="n">distill</span><span class="p">():</span> <span class="n">Uses</span> <span class="n">distiller</span><span class="o">.</span><span class="n">_rank_files</span><span class="p">()</span>          <span class="c1"># Consistent ranking</span>
</span></code></pre></div><h4 id="key-design-principles">Key Design Principles<a class="headerlink" href="#key-design-principles" title="Link to this section">&para;</a></h4><ol><li><strong>Single Source of Truth</strong>: The <code>RelevanceRanker</code> class is the sole authority for ranking logic</li><li><strong>Strategy Pattern</strong>: Different ranking strategies (fast/balanced/thorough) are encapsulated</li><li><strong>Dependency Injection</strong>: Ranker is injected into Distiller, not hardcoded</li><li><strong>Interface Consistency</strong>: Both <code>rank</code> and <code>distill</code> commands use identical ranking</li></ol><h4 id="benefits-of-modular-design">Benefits of Modular Design<a class="headerlink" href="#benefits-of-modular-design" title="Link to this section">&para;</a></h4><ul><li><strong>Consistency</strong>: Same ranking behavior across all commands</li><li><strong>Testability</strong>: Ranker can be tested in isolation</li><li><strong>Extensibility</strong>: New ranking strategies can be added without changing core logic</li><li><strong>Reusability</strong>: Other tools can import and use the ranker independently</li><li><strong>Maintainability</strong>: Changes to ranking logic happen in one place</li><li>Analyzes all discovered files (no artificial limits)</li><li>Uses proper prompt parsing with <code>PromptParser</code></li><li>Leverages sophisticated <code>BalancedRankingStrategy</code> by default</li><li>Proper keyword extraction with RAKE/YAKE fallbacks</li><li>Same file discovery and filtering as <code>distill</code></li></ul><h4 id="pipeline-consistency">Pipeline Consistency<a class="headerlink" href="#pipeline-consistency" title="Link to this section">&para;</a></h4><pre class="mermaid"><code>graph LR
    subgraph "Unified Pipeline Components"
        PROMPT_PARSER[Prompt Parser&lt;br/&gt;Intent detection&lt;br/&gt;Keyword extraction]
        FILE_SCANNER[File Scanner&lt;br/&gt;Gitignore support&lt;br/&gt;Test exclusion]
        CODE_ANALYZER[Code Analyzer&lt;br/&gt;AST parsing&lt;br/&gt;Structure analysis]
        RELEVANCE_RANKER[Relevance Ranker&lt;br/&gt;Multi-factor scoring&lt;br/&gt;Strategy selection]
    end

    subgraph "Commands Using Same Pipeline"
        DISTILL_CMD[tenets distill]
        RANK_CMD[tenets rank]
    end

    DISTILL_CMD --&gt; PROMPT_PARSER
    RANK_CMD --&gt; PROMPT_PARSER

    PROMPT_PARSER --&gt; FILE_SCANNER
    FILE_SCANNER --&gt; CODE_ANALYZER
    CODE_ANALYZER --&gt; RELEVANCE_RANKER

    RELEVANCE_RANKER --&gt; CONTEXT_BUILDER[Context Builder&lt;br/&gt;Only for distill]</code></pre><h4 id="why-this-matters">Why This Matters<a class="headerlink" href="#why-this-matters" title="Link to this section">&para;</a></h4><ol><li><strong>Consistency</strong>: Both commands use identical logic for finding and ranking relevant files</li><li><strong>Performance</strong>: Leverages sophisticated caching and optimization from the main pipeline</li><li><strong>Accuracy</strong>: Uses proper NLP and multi-factor analysis instead of simple keyword matching</li><li><strong>Maintainability</strong>: Single source of truth for ranking logic - no code duplication</li><li><strong>Feature Parity</strong>: <code>rank</code> gets all improvements made to the <code>distill</code> ranking system</li></ol><h3 id="factor-calculation-details">Factor Calculation Details<a class="headerlink" href="#factor-calculation-details" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Semantic Similarity Calculation"
        CHUNK[Chunk Long Files&lt;br/&gt;1000 chars, 100 overlap]
        EMBED[Generate Embeddings&lt;br/&gt;Local model]
        COSINE[Cosine Similarity]
        CACHE_SEM[Cache Results]
    end

    subgraph "Keyword Matching"
        FILENAME[Filename Match&lt;br/&gt;Weight: 0.4]
        IMPORT_M[Import Match&lt;br/&gt;Weight: 0.3]
        CLASS_FN[Class/Function Name&lt;br/&gt;Weight: 0.25]
        POSITION[Position Weight&lt;br/&gt;Early lines favored]
    end

    subgraph "Import Centrality"
        IN_EDGES[Incoming Edges&lt;br/&gt;Files importing this&lt;br/&gt;70% weight]
        OUT_EDGES[Outgoing Edges&lt;br/&gt;Files this imports&lt;br/&gt;30% weight]
        LOG_SCALE[Logarithmic Scaling&lt;br/&gt;High-degree nodes]
        NORMALIZE[Normalize 0-1]
    end

    subgraph "Git Signals"
        RECENCY[Recency Score&lt;br/&gt;Exponential decay&lt;br/&gt;30-day half-life]
        FREQUENCY[Frequency Score&lt;br/&gt;Log of commit count]
        EXPERTISE[Author Expertise&lt;br/&gt;Contribution volume]
        CHURN[Recent Churn&lt;br/&gt;Lines changed]
    end

    CHUNK --&gt; EMBED
    EMBED --&gt; COSINE
    COSINE --&gt; CACHE_SEM

    FILENAME --&gt; POSITION
    IMPORT_M --&gt; POSITION
    CLASS_FN --&gt; POSITION

    IN_EDGES --&gt; LOG_SCALE
    OUT_EDGES --&gt; LOG_SCALE
    LOG_SCALE --&gt; NORMALIZE

    RECENCY --&gt; EXPERTISE
    FREQUENCY --&gt; EXPERTISE
    EXPERTISE --&gt; CHURN</code></pre><h2 id="git-integration--chronicle-system">Git Integration &amp; Chronicle System<a class="headerlink" href="#git-integration--chronicle-system" title="Link to this section">&para;</a></h2><h3 id="git-analysis-architecture">Git Analysis Architecture<a class="headerlink" href="#git-analysis-architecture" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Git Data Sources"
        COMMIT_LOG[Commit History]
        BLAME_DATA[Blame Information]
        BRANCH_INFO[Branch Analysis]
        MERGE_DATA[Merge Detection]
        CONFLICT_HIST[Conflict History]
    end

    subgraph "Chronicle Analysis"
        TEMPORAL[Temporal Analysis&lt;br/&gt;Activity patterns]
        CONTRIBUTORS[Contributor Tracking&lt;br/&gt;Author patterns]
        VELOCITY[Change Velocity&lt;br/&gt;Trend analysis]
        HOTSPOTS[Change Hotspots&lt;br/&gt;Problem areas]
    end

    subgraph "Metrics Calculation"
        BUS_FACTOR[Bus Factor&lt;br/&gt;Knowledge concentration]
        EXPERTISE[Author Expertise&lt;br/&gt;Domain knowledge]
        FRESHNESS[Code Freshness&lt;br/&gt;Age distribution]
        STABILITY[Change Stability&lt;br/&gt;Frequency patterns]
    end

    subgraph "Risk Assessment"
        KNOWLEDGE_RISK[Knowledge Risk&lt;br/&gt;Single points of failure]
        CHURN_RISK[Churn Risk&lt;br/&gt;High-change areas]
        COMPLEXITY_RISK[Complexity Risk&lt;br/&gt;Hard-to-maintain code]
        SUCCESSION[Succession Planning&lt;br/&gt;Knowledge transfer]
    end

    COMMIT_LOG --&gt; TEMPORAL
    BLAME_DATA --&gt; CONTRIBUTORS
    BRANCH_INFO --&gt; VELOCITY
    MERGE_DATA --&gt; HOTSPOTS
    CONFLICT_HIST --&gt; HOTSPOTS

    CONTRIBUTORS --&gt; BUS_FACTOR
    TEMPORAL --&gt; EXPERTISE
    VELOCITY --&gt; FRESHNESS
    HOTSPOTS --&gt; STABILITY

    BUS_FACTOR --&gt; KNOWLEDGE_RISK
    EXPERTISE --&gt; CHURN_RISK
    FRESHNESS --&gt; COMPLEXITY_RISK
    STABILITY --&gt; SUCCESSION</code></pre><h3 id="chronicle-report-structure">Chronicle Report Structure<a class="headerlink" href="#chronicle-report-structure" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Executive Summary"
        HEALTH[Repository Health Score]
        KEY_METRICS[Key Metrics Dashboard]
        ALERTS[Risk Alerts]
    end

    subgraph "Activity Analysis"
        TIMELINE[Activity Timeline]
        PATTERNS[Change Patterns]
        TRENDS[Velocity Trends]
    end

    subgraph "Contributor Analysis"
        TEAM[Team Composition]
        EXPERTISE_MAP[Expertise Mapping]
        CONTRIBUTION[Contribution Patterns]
    end

    subgraph "Risk Assessment"
        RISKS[Identified Risks]
        RECOMMENDATIONS[Recommendations]
        ACTION_ITEMS[Action Items]
    end

    HEALTH --&gt; TIMELINE
    KEY_METRICS --&gt; PATTERNS
    ALERTS --&gt; TRENDS

    TIMELINE --&gt; TEAM
    PATTERNS --&gt; EXPERTISE_MAP
    TRENDS --&gt; CONTRIBUTION

    TEAM --&gt; RISKS
    EXPERTISE_MAP --&gt; RECOMMENDATIONS
    CONTRIBUTION --&gt; ACTION_ITEMS</code></pre><h2 id="context-management--optimization">Context Management &amp; Optimization<a class="headerlink" href="#context-management--optimization" title="Link to this section">&para;</a></h2><h3 id="context-building-pipeline">Context Building Pipeline<a class="headerlink" href="#context-building-pipeline" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Input Processing"
        RANKED_FILES[Ranked File Results]
        TOKEN_BUDGET[Available Token Budget]
        USER_PREFS[User Preferences]
    end

    subgraph "Selection Strategy"
        THRESHOLD[Score Threshold Filtering]
        TOP_N[Top-N Selection]
        DIVERSITY[Diversity Optimization]
        DEPENDENCIES[Dependency Inclusion]
    end

    subgraph "Token Management"
        MODEL_LIMITS[Model-Specific Limits&lt;br/&gt;4K, 8K, 16K, 32K, 100K]
        PROMPT_RESERVE[Prompt Token Reserve]
        RESPONSE_RESERVE[Response Token Reserve&lt;br/&gt;2K-4K]
        SAFETY_MARGIN[Safety Margin&lt;br/&gt;5% buffer]
    end

    subgraph "Content Optimization"
        SUMMARIZATION[Summarization Strategy]
        EXTRACTION[Key Component Extraction]
        COMPRESSION[Content Compression]
        FORMATTING[Output Formatting]
    end

    subgraph "Quality Assurance"
        COHERENCE[Context Coherence Check]
        COMPLETENESS[Completeness Validation]
        RELEVANCE[Relevance Verification]
        FINAL_OUTPUT[Final Context Output]
    end

    RANKED_FILES --&gt; THRESHOLD
    TOKEN_BUDGET --&gt; MODEL_LIMITS
    USER_PREFS --&gt; TOP_N

    THRESHOLD --&gt; TOP_N
    TOP_N --&gt; DIVERSITY
    DIVERSITY --&gt; DEPENDENCIES

    MODEL_LIMITS --&gt; PROMPT_RESERVE
    PROMPT_RESERVE --&gt; RESPONSE_RESERVE
    RESPONSE_RESERVE --&gt; SAFETY_MARGIN

    DEPENDENCIES --&gt; SUMMARIZATION
    SAFETY_MARGIN --&gt; SUMMARIZATION
    SUMMARIZATION --&gt; EXTRACTION
    EXTRACTION --&gt; COMPRESSION
    COMPRESSION --&gt; FORMATTING

    FORMATTING --&gt; COHERENCE
    COHERENCE --&gt; COMPLETENESS
    COMPLETENESS --&gt; RELEVANCE
    RELEVANCE --&gt; FINAL_OUTPUT</code></pre><h3 id="summarization-strategies">Summarization Strategies<a class="headerlink" href="#summarization-strategies" title="Link to this section">&para;</a></h3><h4 id="import-summarization-new">Import Summarization (NEW)<a class="headerlink" href="#import-summarization-new" title="Link to this section">&para;</a></h4><p>Tenets now provides intelligent import condensing to reduce token usage while preserving context:</p><p><strong>How It Works:</strong> 1. Detects import statements across multiple programming languages 2. Extracts library/package names from various import formats 3. Groups and counts imports (external vs local) 4. Produces human-readable summary when threshold exceeded</p><p><strong>Example Transformation:</strong><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a><a href="#__codelineno-14-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># Original (15+ lines):</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2"></a><a href="#__codelineno-14-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3"></a><a href="#__codelineno-14-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4"></a><a href="#__codelineno-14-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5"></a><a href="#__codelineno-14-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6"></a><a href="#__codelineno-14-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7"></a><a href="#__codelineno-14-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8"></a><a href="#__codelineno-14-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9"></a><a href="#__codelineno-14-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="c1"># ... more imports</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10"></a><a href="#__codelineno-14-10"><span class="linenos" data-linenos="10 "></span></a>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11"></a><a href="#__codelineno-14-11"><span class="linenos" data-linenos="11 "></span></a><span class="c1"># Summarized (3 lines):</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12"></a><a href="#__codelineno-14-12"><span class="linenos" data-linenos="12 "></span></a><span class="c1"># Imports: 15 total</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13"></a><a href="#__codelineno-14-13"><span class="linenos" data-linenos="13 "></span></a><span class="c1"># Dependencies: flask, numpy, pandas, pathlib, typing</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14"></a><a href="#__codelineno-14-14"><span class="linenos" data-linenos="14 "></span></a><span class="c1"># Local imports: 2</span>
</span></code></pre></div></p><p><strong>Configuration:</strong><div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><a href="#__codelineno-15-1"><span class="linenos" data-linenos="1 "></span></a><span class="nt">summarizer</span><span class="p">:</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a><a href="#__codelineno-15-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">  </span><span class="nt">summarize_imports</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Enable/disable</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3"></a><a href="#__codelineno-15-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">  </span><span class="nt">import_summary_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w">  </span><span class="c1"># Minimum imports to trigger</span>
</span></code></pre></div></p><p><strong>Supported Languages:</strong> - Python: <code>import X</code>, <code>from X import Y</code> - JavaScript/TypeScript: <code>import</code>, <code>require()</code> - Java: <code>import package.Class</code> - C/C++: <code>#include &lt;header&gt;</code> - Go: <code>import "package"</code> - Rust: <code>use crate::module</code></p><pre class="mermaid"><code>graph LR
    subgraph "Extraction Strategy"
        IMPORTS_EX[Import Summarization&lt;br/&gt;Condenses when &gt; threshold]
        SIGNATURES[Function/Class Signatures&lt;br/&gt;High priority]
        DOCSTRINGS[Docstrings/Comments&lt;br/&gt;Documentation]
        TYPES[Type Definitions&lt;br/&gt;Interface contracts]
    end

    subgraph "Compression Strategy"
        REDUNDANCY[Remove Redundancy&lt;br/&gt;Duplicate code]
        WHITESPACE[Normalize Whitespace&lt;br/&gt;Consistent formatting]
        COMMENTS[Condense Comments&lt;br/&gt;Key information only]
        BOILERPLATE[Remove Boilerplate&lt;br/&gt;Standard patterns]
    end

    subgraph "Semantic Strategy"
        MEANING[Preserve Meaning&lt;br/&gt;Core logic intact]
        CONTEXT[Maintain Context&lt;br/&gt;Relationship preservation]
        ABSTRACTIONS[Higher-level View&lt;br/&gt;Architectural overview]
        EXAMPLES[Key Examples&lt;br/&gt;Usage patterns]
    end

    subgraph "LLM Strategy (Optional)"
        EXTERNAL_API[External LLM API&lt;br/&gt;OpenAI/Anthropic]
        INTELLIGENT[Intelligent Summarization&lt;br/&gt;Context-aware]
        CONSENT[User Consent Required&lt;br/&gt;Privacy protection]
        FALLBACK[Fallback to Local&lt;br/&gt;If API unavailable]
    end

    IMPORTS_EX --&gt; REDUNDANCY
    SIGNATURES --&gt; WHITESPACE
    DOCSTRINGS --&gt; COMMENTS
    TYPES --&gt; BOILERPLATE

    REDUNDANCY --&gt; MEANING
    WHITESPACE --&gt; CONTEXT
    COMMENTS --&gt; ABSTRACTIONS
    BOILERPLATE --&gt; EXAMPLES

    MEANING --&gt; EXTERNAL_API
    CONTEXT --&gt; INTELLIGENT
    ABSTRACTIONS --&gt; CONSENT
    EXAMPLES --&gt; FALLBACK</code></pre><h2 id="session-management-architecture">Session Management Architecture<a class="headerlink" href="#session-management-architecture" title="Link to this section">&para;</a></h2><h3 id="session-lifecycle-flow">Session Lifecycle Flow<a class="headerlink" href="#session-lifecycle-flow" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>stateDiagram-v2
    [*] --&gt; Created
    Created --&gt; FirstPrompt: User provides initial prompt
    FirstPrompt --&gt; Analyzing: Full codebase analysis
    Analyzing --&gt; Active: Context built
    Active --&gt; Interaction: Subsequent prompts
    Interaction --&gt; Analyzing: Incremental updates
    Interaction --&gt; Branching: Alternative exploration
    Branching --&gt; Active: Branch selected
    Active --&gt; Export: Save for sharing
    Export --&gt; Archived: Long-term storage
    Archived --&gt; [*]
    Active --&gt; [*]: Session ends

    note right of FirstPrompt
        - Comprehensive analysis
        - All relevant files
        - Setup instructions
        - AI guidance
    end note

    note right of Interaction
        - Incremental updates only
        - Changed files highlighted
        - Previous context referenced
        - Minimal redundancy
    end note</code></pre><h3 id="session-storage-architecture">Session Storage Architecture<a class="headerlink" href="#session-storage-architecture" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Session Tables"
        SESSIONS[sessions&lt;br/&gt;id, name, project, created, updated]
        PROMPTS[prompts&lt;br/&gt;id, session_id, text, timestamp]
        CONTEXTS[contexts&lt;br/&gt;id, session_id, prompt_id, content]
        FILE_STATES[file_states&lt;br/&gt;session_id, file_path, state]
        AI_REQUESTS[ai_requests&lt;br/&gt;id, session_id, type, request]
    end

    subgraph "Relationships"
        SESSION_PROMPT[Session → Prompts&lt;br/&gt;One-to-Many]
        PROMPT_CONTEXT[Prompt → Context&lt;br/&gt;One-to-One]
        SESSION_FILES[Session → File States&lt;br/&gt;One-to-Many]
        SESSION_AI[Session → AI Requests&lt;br/&gt;One-to-Many]
    end

    subgraph "Operations"
        CREATE[Create Session]
        SAVE[Save State]
        RESTORE[Restore State]
        BRANCH[Branch Session]
        MERGE[Merge Sessions]
        EXPORT[Export Session]
    end

    SESSIONS --&gt; SESSION_PROMPT
    SESSIONS --&gt; SESSION_FILES
    SESSIONS --&gt; SESSION_AI
    PROMPTS --&gt; PROMPT_CONTEXT

    SESSION_PROMPT --&gt; CREATE
    PROMPT_CONTEXT --&gt; SAVE
    SESSION_FILES --&gt; RESTORE
    SESSION_AI --&gt; BRANCH
    CREATE --&gt; MERGE
    SAVE --&gt; EXPORT</code></pre><h2 id="storage--caching-architecture">Storage &amp; Caching Architecture<a class="headerlink" href="#storage--caching-architecture" title="Link to this section">&para;</a></h2><h3 id="storage-hierarchy">Storage Hierarchy<a class="headerlink" href="#storage-hierarchy" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Memory Cache (Hottest)"
        LRU[LRU Cache&lt;br/&gt;1000 items default&lt;br/&gt;Sub-millisecond access]
        HOT_DATA[Frequently accessed data&lt;br/&gt;Recent analyses&lt;br/&gt;Active embeddings]
    end

    subgraph "SQLite Database (Structured)"
        SESSIONS_DB[Session Storage&lt;br/&gt;User interactions]
        CONFIG_DB[Configuration&lt;br/&gt;Settings &amp; preferences]
        RELATIONS[Relationship data&lt;br/&gt;File dependencies]
        PERF[1-10ms access time]
    end

    subgraph "Disk Cache (Bulk)"
        ANALYSIS[Analysis Results&lt;br/&gt;File parsing cache]
        EMBEDDINGS[Embedding Cache&lt;br/&gt;ML vectors]
        FILE_CONTENT[File Content Cache&lt;br/&gt;Preprocessed data]
        BULK_PERF[10-100ms access time]
    end

    subgraph "File System (Cold)"
        LOGS[Application Logs&lt;br/&gt;Debugging information]
        EXPORTS[Exported Sessions&lt;br/&gt;Sharing &amp; backup]
        ARCHIVES[Archived Data&lt;br/&gt;Historical sessions]
        COLD_PERF[100ms+ access time]
    end

    LRU --&gt; SESSIONS_DB
    HOT_DATA --&gt; CONFIG_DB

    SESSIONS_DB --&gt; ANALYSIS
    CONFIG_DB --&gt; EMBEDDINGS
    RELATIONS --&gt; FILE_CONTENT

    ANALYSIS --&gt; LOGS
    EMBEDDINGS --&gt; EXPORTS
    FILE_CONTENT --&gt; ARCHIVES</code></pre><h3 id="cache-invalidation-strategy">Cache Invalidation Strategy<a class="headerlink" href="#cache-invalidation-strategy" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Invalidation Triggers"
        FILE_MTIME[File Modification Time&lt;br/&gt;Filesystem change]
        CONTENT_HASH[Content Hash Change&lt;br/&gt;Actual content differs]
        GIT_COMMIT[Git Commit&lt;br/&gt;Version control change]
        DEP_CHANGE[Dependency Change&lt;br/&gt;Import graph update]
        TTL_EXPIRE[TTL Expiration&lt;br/&gt;Time-based cleanup]
        MANUAL[Manual Refresh&lt;br/&gt;User-initiated]
    end

    subgraph "Cache Levels Affected"
        MEMORY_INV[Memory Cache&lt;br/&gt;Immediate eviction]
        SQLITE_INV[SQLite Cache&lt;br/&gt;Mark as stale]
        DISK_INV[Disk Cache&lt;br/&gt;File removal]
        CASCADE[Cascade Invalidation&lt;br/&gt;Dependent entries]
    end

    subgraph "Rebuilding Strategy"
        LAZY[Lazy Rebuilding&lt;br/&gt;On-demand refresh]
        EAGER[Eager Rebuilding&lt;br/&gt;Background refresh]
        PARTIAL[Partial Rebuilding&lt;br/&gt;Incremental updates]
        BATCH[Batch Rebuilding&lt;br/&gt;Multiple files]
    end

    FILE_MTIME --&gt; MEMORY_INV
    CONTENT_HASH --&gt; SQLITE_INV
    GIT_COMMIT --&gt; DISK_INV
    DEP_CHANGE --&gt; CASCADE
    TTL_EXPIRE --&gt; CASCADE
    MANUAL --&gt; CASCADE

    MEMORY_INV --&gt; LAZY
    SQLITE_INV --&gt; EAGER
    DISK_INV --&gt; PARTIAL
    CASCADE --&gt; BATCH</code></pre><h2 id="performance-architecture">Performance Architecture<a class="headerlink" href="#performance-architecture" title="Link to this section">&para;</a></h2><h3 id="optimization-strategy-overview">Optimization Strategy Overview<a class="headerlink" href="#optimization-strategy-overview" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Parallel Processing"
        FILE_SCAN[File Scanning&lt;br/&gt;Process Pool&lt;br/&gt;CPU-bound operations]
        ANALYSIS[Code Analysis&lt;br/&gt;Thread Pool&lt;br/&gt;I/O operations]
        RANKING[Relevance Ranking&lt;br/&gt;Thread Pool&lt;br/&gt;Computation]
        EMBEDDING[Embedding Generation&lt;br/&gt;Batch Processing&lt;br/&gt;GPU if available]
    end

    subgraph "Streaming Architecture"
        INCREMENTAL[Incremental Discovery&lt;br/&gt;Stream files as found]
        PROGRESSIVE[Progressive Ranking&lt;br/&gt;Rank as analyzed]
        CHUNKED[Chunked Analysis&lt;br/&gt;Process in batches]
        STREAMING[Result Streaming&lt;br/&gt;First results quickly]
    end

    subgraph "Lazy Evaluation"
        DEFER[Defer Analysis&lt;br/&gt;Until needed]
        ON_DEMAND[On-demand Embeddings&lt;br/&gt;Generate when required]
        PROGRESSIVE_ENH[Progressive Enhancement&lt;br/&gt;Add features incrementally]
        JIT[Just-in-time Compilation&lt;br/&gt;Optimize hot paths]
    end

    subgraph "Memory Management"
        STREAMING_PROC[Streaming Processing&lt;br/&gt;Constant memory usage]
        GC[Incremental GC&lt;br/&gt;Prevent pauses]
        MMAP[Memory-mapped Files&lt;br/&gt;Large file handling]
        PRESSURE[Memory Pressure Monitor&lt;br/&gt;Adaptive behavior]
    end

    FILE_SCAN --&gt; INCREMENTAL
    ANALYSIS --&gt; PROGRESSIVE
    RANKING --&gt; CHUNKED
    EMBEDDING --&gt; STREAMING

    INCREMENTAL --&gt; DEFER
    PROGRESSIVE --&gt; ON_DEMAND
    CHUNKED --&gt; PROGRESSIVE_ENH
    STREAMING --&gt; JIT

    DEFER --&gt; STREAMING_PROC
    ON_DEMAND --&gt; GC
    PROGRESSIVE_ENH --&gt; MMAP
    JIT --&gt; PRESSURE</code></pre><h3 id="performance-benchmarks">Performance Benchmarks<a class="headerlink" href="#performance-benchmarks" title="Link to this section">&para;</a></h3><h4 id="file-analysis-performance">File Analysis Performance<a class="headerlink" href="#file-analysis-performance" title="Link to this section">&para;</a></h4><p><strong>Performance benchmarks coming soon</strong></p><p>We're currently collecting comprehensive performance data across different file sizes and languages. Check back for detailed metrics.</p><h4 id="system-performance">System Performance<a class="headerlink" href="#system-performance" title="Link to this section">&para;</a></h4><table><thead><tr><th>Codebase</th><th>Files</th><th>Size</th><th>Analysis Speed</th><th>Memory Usage</th></tr></thead><tbody><tr><td>Small</td><td>&lt;100</td><td>&lt;10MB</td><td>Fast</td><td>Low</td></tr><tr><td>Medium</td><td>~1K</td><td>~50MB</td><td>Fast</td><td>Low</td></tr><tr><td>Large</td><td>~10K</td><td>~500MB</td><td>Moderate</td><td>Moderate</td></tr><tr><td>Huge</td><td>~100K</td><td>~5GB</td><td>Slower</td><td>High</td></tr><tr><td>Monorepo</td><td>1M+</td><td>50GB+</td><td>Variable</td><td>High</td></tr></tbody></table><h2 id="configuration-system">Configuration System<a class="headerlink" href="#configuration-system" title="Link to this section">&para;</a></h2><h3 id="configuration-hierarchy">Configuration Hierarchy<a class="headerlink" href="#configuration-hierarchy" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Configuration Sources (Priority Order)"
        CLI[Command-line Arguments&lt;br/&gt;Highest Priority&lt;br/&gt;--algorithm, --exclude]
        ENV[Environment Variables&lt;br/&gt;TENETS_ALGORITHM=ml]
        PROJECT[Project Configuration&lt;br/&gt;.tenets.yml in project root]
        USER[User Configuration&lt;br/&gt;~/.config/tenets/config.yml]
        SYSTEM[System Defaults&lt;br/&gt;Built-in fallbacks&lt;br/&gt;Lowest Priority]
    end

    subgraph "Configuration Categories"
        RANKING_CONFIG[Ranking Configuration&lt;br/&gt;Algorithms, weights, factors]
        NLP_CONFIG[NLP Configuration&lt;br/&gt;Tokenization, stopwords]
        ML_CONFIG[ML Configuration&lt;br/&gt;Models, caching, devices]
        CACHE_CONFIG[Cache Configuration&lt;br/&gt;TTL, size limits, storage]
        SCANNER_CONFIG[Scanner Configuration&lt;br/&gt;Ignore patterns, limits&lt;br/&gt;Minified exclusion]
        OUTPUT_CONFIG[Output Configuration&lt;br/&gt;Format, tokens, metadata]
    end

    subgraph "Dynamic Configuration"
        HOT_RELOAD[Hot Reload&lt;br/&gt;File change detection]
        API_UPDATE[Runtime API Updates&lt;br/&gt;Programmatic changes]
        VALIDATION[Configuration Validation&lt;br/&gt;Type checking, constraints]
        ROLLBACK[Error Rollback&lt;br/&gt;Revert on failure]
    end

    CLI --&gt; RANKING_CONFIG
    ENV --&gt; NLP_CONFIG
    PROJECT --&gt; ML_CONFIG
    USER --&gt; CACHE_CONFIG
    SYSTEM --&gt; SCANNER_CONFIG

    RANKING_CONFIG --&gt; HOT_RELOAD
    NLP_CONFIG --&gt; API_UPDATE
    ML_CONFIG --&gt; VALIDATION
    CACHE_CONFIG --&gt; ROLLBACK
    SCANNER_CONFIG --&gt; ROLLBACK
    OUTPUT_CONFIG --&gt; ROLLBACK</code></pre><h3 id="complete-configuration-schema">Complete Configuration Schema<a class="headerlink" href="#complete-configuration-schema" title="Link to this section">&para;</a></h3><div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><a href="#__codelineno-16-1"><span class="linenos" data-linenos="  1 "></span></a><span class="c1"># .tenets.yml</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><a href="#__codelineno-16-2"><span class="linenos" data-linenos="  2 "></span></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a><a href="#__codelineno-16-3"><span class="linenos" data-linenos="  3 "></span></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a><a href="#__codelineno-16-4"><span class="linenos" data-linenos="  4 "></span></a><span class="c1"># Ranking configuration</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a><a href="#__codelineno-16-5"><span class="linenos" data-linenos="  5 "></span></a><span class="nt">ranking</span><span class="p">:</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a><a href="#__codelineno-16-6"><span class="linenos" data-linenos="  6 "></span></a><span class="w">  </span><span class="nt">algorithm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">balanced</span><span class="w">  </span><span class="c1"># fast|balanced|thorough|ml</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a><a href="#__codelineno-16-7"><span class="linenos" data-linenos="  7 "></span></a><span class="w">  </span><span class="nt">threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span><span class="w">       </span><span class="c1"># Minimum relevance score</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a><a href="#__codelineno-16-8"><span class="linenos" data-linenos="  8 "></span></a><span class="w">  </span><span class="nt">use_git</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">        </span><span class="c1"># Enable git signals</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9"></a><a href="#__codelineno-16-9"><span class="linenos" data-linenos="  9 "></span></a><span class="w">  </span><span class="nt">use_ml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">         </span><span class="c1"># Enable ML features</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a><a href="#__codelineno-16-10"><span class="linenos" data-linenos=" 10 "></span></a>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a><a href="#__codelineno-16-11"><span class="linenos" data-linenos=" 11 "></span></a><span class="w">  </span><span class="c1"># Factor weights (must sum to ~1.0)</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a><a href="#__codelineno-16-12"><span class="linenos" data-linenos=" 12 "></span></a><span class="w">  </span><span class="nt">weights</span><span class="p">:</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a><a href="#__codelineno-16-13"><span class="linenos" data-linenos=" 13 "></span></a><span class="w">    </span><span class="nt">semantic_similarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14"></a><a href="#__codelineno-16-14"><span class="linenos" data-linenos=" 14 "></span></a><span class="w">    </span><span class="nt">keyword_match</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15"></a><a href="#__codelineno-16-15"><span class="linenos" data-linenos=" 15 "></span></a><span class="w">    </span><span class="nt">tfidf_similarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16"></a><a href="#__codelineno-16-16"><span class="linenos" data-linenos=" 16 "></span></a><span class="w">    </span><span class="nt">import_centrality</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.10</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17"></a><a href="#__codelineno-16-17"><span class="linenos" data-linenos=" 17 "></span></a><span class="w">    </span><span class="nt">path_relevance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.10</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18"></a><a href="#__codelineno-16-18"><span class="linenos" data-linenos=" 18 "></span></a><span class="w">    </span><span class="nt">git_recency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19"></a><a href="#__codelineno-16-19"><span class="linenos" data-linenos=" 19 "></span></a><span class="w">    </span><span class="nt">git_frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20"></a><a href="#__codelineno-16-20"><span class="linenos" data-linenos=" 20 "></span></a><span class="w">    </span><span class="nt">git_authors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21"></a><a href="#__codelineno-16-21"><span class="linenos" data-linenos=" 21 "></span></a><span class="w">    </span><span class="nt">file_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22"></a><a href="#__codelineno-16-22"><span class="linenos" data-linenos=" 22 "></span></a><span class="w">    </span><span class="nt">code_patterns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.05</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23"></a><a href="#__codelineno-16-23"><span class="linenos" data-linenos=" 23 "></span></a>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24"></a><a href="#__codelineno-16-24"><span class="linenos" data-linenos=" 24 "></span></a><span class="w">  </span><span class="c1"># Performance</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25"></a><a href="#__codelineno-16-25"><span class="linenos" data-linenos=" 25 "></span></a><span class="w">  </span><span class="nt">workers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w">           </span><span class="c1"># Parallel workers</span>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26"></a><a href="#__codelineno-16-26"><span class="linenos" data-linenos=" 26 "></span></a><span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w">      </span><span class="c1"># Batch size for ML</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27"></a><a href="#__codelineno-16-27"><span class="linenos" data-linenos=" 27 "></span></a>
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28"></a><a href="#__codelineno-16-28"><span class="linenos" data-linenos=" 28 "></span></a><span class="c1"># NLP configuration</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29"></a><a href="#__codelineno-16-29"><span class="linenos" data-linenos=" 29 "></span></a><span class="nt">nlp</span><span class="p">:</span>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30"></a><a href="#__codelineno-16-30"><span class="linenos" data-linenos=" 30 "></span></a><span class="w">  </span><span class="nt">use_stopwords</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31"></a><a href="#__codelineno-16-31"><span class="linenos" data-linenos=" 31 "></span></a><span class="w">  </span><span class="nt">stopword_set</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">minimal</span><span class="w">  </span><span class="c1"># minimal|aggressive|custom</span>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32"></a><a href="#__codelineno-16-32"><span class="linenos" data-linenos=" 32 "></span></a><span class="w">  </span><span class="nt">tokenizer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">code</span><span class="w">        </span><span class="c1"># code|text</span>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33"></a><a href="#__codelineno-16-33"><span class="linenos" data-linenos=" 33 "></span></a><span class="w">  </span><span class="nt">keyword_extractor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rake</span><span class="w"> </span><span class="c1"># rake|yake|tfidf|frequency (rake is default for Python 3.13+)</span>
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34"></a><a href="#__codelineno-16-34"><span class="linenos" data-linenos=" 34 "></span></a>
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35"></a><a href="#__codelineno-16-35"><span class="linenos" data-linenos=" 35 "></span></a><span class="c1"># ML configuration</span>
</span><span id="__span-16-36"><a id="__codelineno-16-36" name="__codelineno-16-36"></a><a href="#__codelineno-16-36"><span class="linenos" data-linenos=" 36 "></span></a><span class="nt">ml</span><span class="p">:</span>
</span><span id="__span-16-37"><a id="__codelineno-16-37" name="__codelineno-16-37"></a><a href="#__codelineno-16-37"><span class="linenos" data-linenos=" 37 "></span></a><span class="w">  </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all-MiniLM-L6-v2</span>
</span><span id="__span-16-38"><a id="__codelineno-16-38" name="__codelineno-16-38"></a><a href="#__codelineno-16-38"><span class="linenos" data-linenos=" 38 "></span></a><span class="w">  </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auto</span><span class="w">         </span><span class="c1"># auto|cpu|cuda</span>
</span><span id="__span-16-39"><a id="__codelineno-16-39" name="__codelineno-16-39"></a><a href="#__codelineno-16-39"><span class="linenos" data-linenos=" 39 "></span></a><span class="w">  </span><span class="nt">cache_embeddings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-40"><a id="__codelineno-16-40" name="__codelineno-16-40"></a><a href="#__codelineno-16-40"><span class="linenos" data-linenos=" 40 "></span></a><span class="w">  </span><span class="nt">embedding_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">384</span>
</span><span id="__span-16-41"><a id="__codelineno-16-41" name="__codelineno-16-41"></a><a href="#__codelineno-16-41"><span class="linenos" data-linenos=" 41 "></span></a>
</span><span id="__span-16-42"><a id="__codelineno-16-42" name="__codelineno-16-42"></a><a href="#__codelineno-16-42"><span class="linenos" data-linenos=" 42 "></span></a><span class="c1"># Cache configuration</span>
</span><span id="__span-16-43"><a id="__codelineno-16-43" name="__codelineno-16-43"></a><a href="#__codelineno-16-43"><span class="linenos" data-linenos=" 43 "></span></a><span class="nt">cache</span><span class="p">:</span>
</span><span id="__span-16-44"><a id="__codelineno-16-44" name="__codelineno-16-44"></a><a href="#__codelineno-16-44"><span class="linenos" data-linenos=" 44 "></span></a><span class="w">  </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-45"><a id="__codelineno-16-45" name="__codelineno-16-45"></a><a href="#__codelineno-16-45"><span class="linenos" data-linenos=" 45 "></span></a><span class="w">  </span><span class="nt">directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">~/.tenets/cache</span>
</span><span id="__span-16-46"><a id="__codelineno-16-46" name="__codelineno-16-46"></a><a href="#__codelineno-16-46"><span class="linenos" data-linenos=" 46 "></span></a><span class="w">  </span><span class="nt">max_size_mb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
</span><span id="__span-16-47"><a id="__codelineno-16-47" name="__codelineno-16-47"></a><a href="#__codelineno-16-47"><span class="linenos" data-linenos=" 47 "></span></a><span class="w">  </span><span class="nt">ttl_days</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
</span><span id="__span-16-48"><a id="__codelineno-16-48" name="__codelineno-16-48"></a><a href="#__codelineno-16-48"><span class="linenos" data-linenos=" 48 "></span></a>
</span><span id="__span-16-49"><a id="__codelineno-16-49" name="__codelineno-16-49"></a><a href="#__codelineno-16-49"><span class="linenos" data-linenos=" 49 "></span></a><span class="w">  </span><span class="c1"># SQLite pragmas</span>
</span><span id="__span-16-50"><a id="__codelineno-16-50" name="__codelineno-16-50"></a><a href="#__codelineno-16-50"><span class="linenos" data-linenos=" 50 "></span></a><span class="w">  </span><span class="nt">sqlite_pragmas</span><span class="p">:</span>
</span><span id="__span-16-51"><a id="__codelineno-16-51" name="__codelineno-16-51"></a><a href="#__codelineno-16-51"><span class="linenos" data-linenos=" 51 "></span></a><span class="w">    </span><span class="nt">journal_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WAL</span>
</span><span id="__span-16-52"><a id="__codelineno-16-52" name="__codelineno-16-52"></a><a href="#__codelineno-16-52"><span class="linenos" data-linenos=" 52 "></span></a><span class="w">    </span><span class="nt">synchronous</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NORMAL</span>
</span><span id="__span-16-53"><a id="__codelineno-16-53" name="__codelineno-16-53"></a><a href="#__codelineno-16-53"><span class="linenos" data-linenos=" 53 "></span></a><span class="w">    </span><span class="nt">cache_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-64000</span>
</span><span id="__span-16-54"><a id="__codelineno-16-54" name="__codelineno-16-54"></a><a href="#__codelineno-16-54"><span class="linenos" data-linenos=" 54 "></span></a><span class="w">    </span><span class="nt">temp_store</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MEMORY</span>
</span><span id="__span-16-55"><a id="__codelineno-16-55" name="__codelineno-16-55"></a><a href="#__codelineno-16-55"><span class="linenos" data-linenos=" 55 "></span></a>
</span><span id="__span-16-56"><a id="__codelineno-16-56" name="__codelineno-16-56"></a><a href="#__codelineno-16-56"><span class="linenos" data-linenos=" 56 "></span></a><span class="c1"># File scanning</span>
</span><span id="__span-16-57"><a id="__codelineno-16-57" name="__codelineno-16-57"></a><a href="#__codelineno-16-57"><span class="linenos" data-linenos=" 57 "></span></a><span class="nt">scanner</span><span class="p">:</span>
</span><span id="__span-16-58"><a id="__codelineno-16-58" name="__codelineno-16-58"></a><a href="#__codelineno-16-58"><span class="linenos" data-linenos=" 58 "></span></a><span class="w">  </span><span class="nt">respect_gitignore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-59"><a id="__codelineno-16-59" name="__codelineno-16-59"></a><a href="#__codelineno-16-59"><span class="linenos" data-linenos=" 59 "></span></a><span class="w">  </span><span class="nt">include_hidden</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-16-60"><a id="__codelineno-16-60" name="__codelineno-16-60"></a><a href="#__codelineno-16-60"><span class="linenos" data-linenos=" 60 "></span></a><span class="w">  </span><span class="nt">follow_symlinks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-16-61"><a id="__codelineno-16-61" name="__codelineno-16-61"></a><a href="#__codelineno-16-61"><span class="linenos" data-linenos=" 61 "></span></a><span class="w">  </span><span class="nt">max_file_size_mb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-16-62"><a id="__codelineno-16-62" name="__codelineno-16-62"></a><a href="#__codelineno-16-62"><span class="linenos" data-linenos=" 62 "></span></a><span class="w">  </span><span class="nt">binary_detection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-63"><a id="__codelineno-16-63" name="__codelineno-16-63"></a><a href="#__codelineno-16-63"><span class="linenos" data-linenos=" 63 "></span></a>
</span><span id="__span-16-64"><a id="__codelineno-16-64" name="__codelineno-16-64"></a><a href="#__codelineno-16-64"><span class="linenos" data-linenos=" 64 "></span></a><span class="w">  </span><span class="c1"># Global ignores</span>
</span><span id="__span-16-65"><a id="__codelineno-16-65" name="__codelineno-16-65"></a><a href="#__codelineno-16-65"><span class="linenos" data-linenos=" 65 "></span></a><span class="w">  </span><span class="nt">ignore_patterns</span><span class="p">:</span>
</span><span id="__span-16-66"><a id="__codelineno-16-66" name="__codelineno-16-66"></a><a href="#__codelineno-16-66"><span class="linenos" data-linenos=" 66 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;*.pyc&quot;</span>
</span><span id="__span-16-67"><a id="__codelineno-16-67" name="__codelineno-16-67"></a><a href="#__codelineno-16-67"><span class="linenos" data-linenos=" 67 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;__pycache__&quot;</span>
</span><span id="__span-16-68"><a id="__codelineno-16-68" name="__codelineno-16-68"></a><a href="#__codelineno-16-68"><span class="linenos" data-linenos=" 68 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node_modules&quot;</span>
</span><span id="__span-16-69"><a id="__codelineno-16-69" name="__codelineno-16-69"></a><a href="#__codelineno-16-69"><span class="linenos" data-linenos=" 69 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;.git&quot;</span>
</span><span id="__span-16-70"><a id="__codelineno-16-70" name="__codelineno-16-70"></a><a href="#__codelineno-16-70"><span class="linenos" data-linenos=" 70 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;.venv&quot;</span>
</span><span id="__span-16-71"><a id="__codelineno-16-71" name="__codelineno-16-71"></a><a href="#__codelineno-16-71"><span class="linenos" data-linenos=" 71 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;venv&quot;</span>
</span><span id="__span-16-72"><a id="__codelineno-16-72" name="__codelineno-16-72"></a><a href="#__codelineno-16-72"><span class="linenos" data-linenos=" 72 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;*.egg-info&quot;</span>
</span><span id="__span-16-73"><a id="__codelineno-16-73" name="__codelineno-16-73"></a><a href="#__codelineno-16-73"><span class="linenos" data-linenos=" 73 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;dist&quot;</span>
</span><span id="__span-16-74"><a id="__codelineno-16-74" name="__codelineno-16-74"></a><a href="#__codelineno-16-74"><span class="linenos" data-linenos=" 74 "></span></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;build&quot;</span>
</span><span id="__span-16-75"><a id="__codelineno-16-75" name="__codelineno-16-75"></a><a href="#__codelineno-16-75"><span class="linenos" data-linenos=" 75 "></span></a>
</span><span id="__span-16-76"><a id="__codelineno-16-76" name="__codelineno-16-76"></a><a href="#__codelineno-16-76"><span class="linenos" data-linenos=" 76 "></span></a><span class="c1"># Summarization configuration</span>
</span><span id="__span-16-77"><a id="__codelineno-16-77" name="__codelineno-16-77"></a><a href="#__codelineno-16-77"><span class="linenos" data-linenos=" 77 "></span></a><span class="nt">summarizer</span><span class="p">:</span>
</span><span id="__span-16-78"><a id="__codelineno-16-78" name="__codelineno-16-78"></a><a href="#__codelineno-16-78"><span class="linenos" data-linenos=" 78 "></span></a><span class="w">  </span><span class="c1"># Documentation context-aware summarization</span>
</span><span id="__span-16-79"><a id="__codelineno-16-79" name="__codelineno-16-79"></a><a href="#__codelineno-16-79"><span class="linenos" data-linenos=" 79 "></span></a><span class="w">  </span><span class="nt">docs_context_aware</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">           </span><span class="c1"># Enable smart context-aware documentation summarization</span>
</span><span id="__span-16-80"><a id="__codelineno-16-80" name="__codelineno-16-80"></a><a href="#__codelineno-16-80"><span class="linenos" data-linenos=" 80 "></span></a><span class="w">  </span><span class="nt">docs_show_in_place_context</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">   </span><span class="c1"># Preserve relevant context sections in-place within summaries</span>
</span><span id="__span-16-81"><a id="__codelineno-16-81" name="__codelineno-16-81"></a><a href="#__codelineno-16-81"><span class="linenos" data-linenos=" 81 "></span></a><span class="w">  </span><span class="nt">docs_context_search_depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">       </span><span class="c1"># 1=direct mentions, 2=semantic similarity, 3=deep analysis</span>
</span><span id="__span-16-82"><a id="__codelineno-16-82" name="__codelineno-16-82"></a><a href="#__codelineno-16-82"><span class="linenos" data-linenos=" 82 "></span></a><span class="w">  </span><span class="nt">docs_context_min_confidence</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span><span class="w">   </span><span class="c1"># Minimum confidence for context relevance (0.0-1.0)</span>
</span><span id="__span-16-83"><a id="__codelineno-16-83" name="__codelineno-16-83"></a><a href="#__codelineno-16-83"><span class="linenos" data-linenos=" 83 "></span></a><span class="w">  </span><span class="nt">docs_context_max_sections</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">      </span><span class="c1"># Maximum contextual sections to preserve per document</span>
</span><span id="__span-16-84"><a id="__codelineno-16-84" name="__codelineno-16-84"></a><a href="#__codelineno-16-84"><span class="linenos" data-linenos=" 84 "></span></a><span class="w">  </span><span class="nt">docs_context_preserve_examples</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"> </span><span class="c1"># Always preserve code examples and snippets</span>
</span><span id="__span-16-85"><a id="__codelineno-16-85" name="__codelineno-16-85"></a><a href="#__codelineno-16-85"><span class="linenos" data-linenos=" 85 "></span></a>
</span><span id="__span-16-86"><a id="__codelineno-16-86" name="__codelineno-16-86"></a><a href="#__codelineno-16-86"><span class="linenos" data-linenos=" 86 "></span></a><span class="c1"># Output configuration</span>
</span><span id="__span-16-87"><a id="__codelineno-16-87" name="__codelineno-16-87"></a><a href="#__codelineno-16-87"><span class="linenos" data-linenos=" 87 "></span></a><span class="nt">output</span><span class="p">:</span>
</span><span id="__span-16-88"><a id="__codelineno-16-88" name="__codelineno-16-88"></a><a href="#__codelineno-16-88"><span class="linenos" data-linenos=" 88 "></span></a><span class="w">  </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">markdown</span><span class="w">     </span><span class="c1"># markdown|json|xml</span>
</span><span id="__span-16-89"><a id="__codelineno-16-89" name="__codelineno-16-89"></a><a href="#__codelineno-16-89"><span class="linenos" data-linenos=" 89 "></span></a><span class="w">  </span><span class="nt">max_tokens</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100000</span>
</span><span id="__span-16-90"><a id="__codelineno-16-90" name="__codelineno-16-90"></a><a href="#__codelineno-16-90"><span class="linenos" data-linenos=" 90 "></span></a><span class="w">  </span><span class="nt">include_metadata</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-91"><a id="__codelineno-16-91" name="__codelineno-16-91"></a><a href="#__codelineno-16-91"><span class="linenos" data-linenos=" 91 "></span></a><span class="w">  </span><span class="nt">include_instructions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-92"><a id="__codelineno-16-92" name="__codelineno-16-92"></a><a href="#__codelineno-16-92"><span class="linenos" data-linenos=" 92 "></span></a><span class="w">  </span><span class="nt">copy_on_distill</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-16-93"><a id="__codelineno-16-93" name="__codelineno-16-93"></a><a href="#__codelineno-16-93"><span class="linenos" data-linenos=" 93 "></span></a>
</span><span id="__span-16-94"><a id="__codelineno-16-94" name="__codelineno-16-94"></a><a href="#__codelineno-16-94"><span class="linenos" data-linenos=" 94 "></span></a><span class="c1"># Session configuration</span>
</span><span id="__span-16-95"><a id="__codelineno-16-95" name="__codelineno-16-95"></a><a href="#__codelineno-16-95"><span class="linenos" data-linenos=" 95 "></span></a><span class="nt">session</span><span class="p">:</span>
</span><span id="__span-16-96"><a id="__codelineno-16-96" name="__codelineno-16-96"></a><a href="#__codelineno-16-96"><span class="linenos" data-linenos=" 96 "></span></a><span class="w">  </span><span class="nt">auto_save</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-97"><a id="__codelineno-16-97" name="__codelineno-16-97"></a><a href="#__codelineno-16-97"><span class="linenos" data-linenos=" 97 "></span></a><span class="w">  </span><span class="nt">history_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
</span><span id="__span-16-98"><a id="__codelineno-16-98" name="__codelineno-16-98"></a><a href="#__codelineno-16-98"><span class="linenos" data-linenos=" 98 "></span></a><span class="w">  </span><span class="nt">branch_on_conflict</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-99"><a id="__codelineno-16-99" name="__codelineno-16-99"></a><a href="#__codelineno-16-99"><span class="linenos" data-linenos=" 99 "></span></a>
</span><span id="__span-16-100"><a id="__codelineno-16-100" name="__codelineno-16-100"></a><a href="#__codelineno-16-100"><span class="linenos" data-linenos="100 "></span></a><span class="c1"># Examination configuration</span>
</span><span id="__span-16-101"><a id="__codelineno-16-101" name="__codelineno-16-101"></a><a href="#__codelineno-16-101"><span class="linenos" data-linenos="101 "></span></a><span class="nt">examination</span><span class="p">:</span>
</span><span id="__span-16-102"><a id="__codelineno-16-102" name="__codelineno-16-102"></a><a href="#__codelineno-16-102"><span class="linenos" data-linenos="102 "></span></a><span class="w">  </span><span class="nt">complexity_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-16-103"><a id="__codelineno-16-103" name="__codelineno-16-103"></a><a href="#__codelineno-16-103"><span class="linenos" data-linenos="103 "></span></a><span class="w">  </span><span class="nt">duplication_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
</span><span id="__span-16-104"><a id="__codelineno-16-104" name="__codelineno-16-104"></a><a href="#__codelineno-16-104"><span class="linenos" data-linenos="104 "></span></a><span class="w">  </span><span class="nt">min_test_coverage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.8</span>
</span><span id="__span-16-105"><a id="__codelineno-16-105" name="__codelineno-16-105"></a><a href="#__codelineno-16-105"><span class="linenos" data-linenos="105 "></span></a>
</span><span id="__span-16-106"><a id="__codelineno-16-106" name="__codelineno-16-106"></a><a href="#__codelineno-16-106"><span class="linenos" data-linenos="106 "></span></a><span class="c1"># Chronicle configuration</span>
</span><span id="__span-16-107"><a id="__codelineno-16-107" name="__codelineno-16-107"></a><a href="#__codelineno-16-107"><span class="linenos" data-linenos="107 "></span></a><span class="nt">chronicle</span><span class="p">:</span>
</span><span id="__span-16-108"><a id="__codelineno-16-108" name="__codelineno-16-108"></a><a href="#__codelineno-16-108"><span class="linenos" data-linenos="108 "></span></a><span class="w">  </span><span class="nt">include_merges</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-16-109"><a id="__codelineno-16-109" name="__codelineno-16-109"></a><a href="#__codelineno-16-109"><span class="linenos" data-linenos="109 "></span></a><span class="w">  </span><span class="nt">max_commits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span>
</span><span id="__span-16-110"><a id="__codelineno-16-110" name="__codelineno-16-110"></a><a href="#__codelineno-16-110"><span class="linenos" data-linenos="110 "></span></a><span class="w">  </span><span class="nt">analyze_patterns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-16-111"><a id="__codelineno-16-111" name="__codelineno-16-111"></a><a href="#__codelineno-16-111"><span class="linenos" data-linenos="111 "></span></a>
</span><span id="__span-16-112"><a id="__codelineno-16-112" name="__codelineno-16-112"></a><a href="#__codelineno-16-112"><span class="linenos" data-linenos="112 "></span></a><span class="c1"># Momentum configuration</span>
</span><span id="__span-16-113"><a id="__codelineno-16-113" name="__codelineno-16-113"></a><a href="#__codelineno-16-113"><span class="linenos" data-linenos="113 "></span></a><span class="nt">momentum</span><span class="p">:</span>
</span><span id="__span-16-114"><a id="__codelineno-16-114" name="__codelineno-16-114"></a><a href="#__codelineno-16-114"><span class="linenos" data-linenos="114 "></span></a><span class="w">  </span><span class="nt">sprint_duration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">14</span>
</span><span id="__span-16-115"><a id="__codelineno-16-115" name="__codelineno-16-115"></a><a href="#__codelineno-16-115"><span class="linenos" data-linenos="115 "></span></a><span class="w">  </span><span class="nt">velocity_window</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
</span><span id="__span-16-116"><a id="__codelineno-16-116" name="__codelineno-16-116"></a><a href="#__codelineno-16-116"><span class="linenos" data-linenos="116 "></span></a><span class="w">  </span><span class="nt">include_weekends</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span></code></pre></div><h2 id="cli--api-architecture">CLI &amp; API Architecture<a class="headerlink" href="#cli--api-architecture" title="Link to this section">&para;</a></h2><h3 id="command-structure">Command Structure<a class="headerlink" href="#command-structure" title="Link to this section">&para;</a></h3><div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><a href="#__codelineno-17-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># Main Commands</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a><a href="#__codelineno-17-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="nt">tenets</span><span class="p">:</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3"></a><a href="#__codelineno-17-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">  </span><span class="nt">distill</span><span class="p">:</span><span class="w">           </span><span class="c1"># Build optimal context for prompts</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4"></a><a href="#__codelineno-17-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--copy</span><span class="w">           </span><span class="c1"># Copy to clipboard</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5"></a><a href="#__codelineno-17-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--format</span><span class="w">         </span><span class="c1"># Output format (markdown, xml, json)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6"></a><a href="#__codelineno-17-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--max-tokens</span><span class="w">     </span><span class="c1"># Token limit</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7"></a><a href="#__codelineno-17-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--exclude</span><span class="w">        </span><span class="c1"># Exclude patterns</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8"></a><a href="#__codelineno-17-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--session</span><span class="w">        </span><span class="c1"># Session name</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9"></a><a href="#__codelineno-17-9"><span class="linenos" data-linenos=" 9 "></span></a>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10"></a><a href="#__codelineno-17-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">  </span><span class="nt">examine</span><span class="p">:</span><span class="w">           </span><span class="c1"># Code quality analysis</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11"></a><a href="#__codelineno-17-11"><span class="linenos" data-linenos="11 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--show-details</span><span class="w">   </span><span class="c1"># Detailed metrics</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12"></a><a href="#__codelineno-17-12"><span class="linenos" data-linenos="12 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--hotspots</span><span class="w">       </span><span class="c1"># Show maintenance hotspots</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13"></a><a href="#__codelineno-17-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--ownership</span><span class="w">      </span><span class="c1"># Show code ownership</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14"></a><a href="#__codelineno-17-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--format</span><span class="w">         </span><span class="c1"># Output format</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15"></a><a href="#__codelineno-17-15"><span class="linenos" data-linenos="15 "></span></a>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16"></a><a href="#__codelineno-17-16"><span class="linenos" data-linenos="16 "></span></a><span class="w">  </span><span class="nt">chronicle</span><span class="p">:</span><span class="w">         </span><span class="c1"># Git history analysis</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17"></a><a href="#__codelineno-17-17"><span class="linenos" data-linenos="17 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--since</span><span class="w">          </span><span class="c1"># Time range</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18"></a><a href="#__codelineno-17-18"><span class="linenos" data-linenos="18 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--author</span><span class="w">         </span><span class="c1"># Filter by author</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19"></a><a href="#__codelineno-17-19"><span class="linenos" data-linenos="19 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--format</span><span class="w">         </span><span class="c1"># Output format</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20"></a><a href="#__codelineno-17-20"><span class="linenos" data-linenos="20 "></span></a>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21"></a><a href="#__codelineno-17-21"><span class="linenos" data-linenos="21 "></span></a><span class="w">  </span><span class="nt">momentum</span><span class="p">:</span><span class="w">          </span><span class="c1"># Velocity tracking (WIP)</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22"></a><a href="#__codelineno-17-22"><span class="linenos" data-linenos="22 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--team</span><span class="w">           </span><span class="c1"># Team metrics</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23"></a><a href="#__codelineno-17-23"><span class="linenos" data-linenos="23 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--detailed</span><span class="w">       </span><span class="c1"># Detailed breakdown</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24"></a><a href="#__codelineno-17-24"><span class="linenos" data-linenos="24 "></span></a>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25"></a><a href="#__codelineno-17-25"><span class="linenos" data-linenos="25 "></span></a><span class="w">  </span><span class="nt">session</span><span class="p">:</span><span class="w">           </span><span class="c1"># Session management</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26"></a><a href="#__codelineno-17-26"><span class="linenos" data-linenos="26 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">create</span><span class="w">           </span><span class="c1"># Create new session</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27"></a><a href="#__codelineno-17-27"><span class="linenos" data-linenos="27 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">list</span><span class="w">             </span><span class="c1"># List sessions</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28"></a><a href="#__codelineno-17-28"><span class="linenos" data-linenos="28 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">delete</span><span class="w">           </span><span class="c1"># Delete session</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29"></a><a href="#__codelineno-17-29"><span class="linenos" data-linenos="29 "></span></a>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30"></a><a href="#__codelineno-17-30"><span class="linenos" data-linenos="30 "></span></a><span class="w">  </span><span class="nt">tenet</span><span class="p">:</span><span class="w">            </span><span class="c1"># Manage guiding principles</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31"></a><a href="#__codelineno-17-31"><span class="linenos" data-linenos="31 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">add</span><span class="w">             </span><span class="c1"># Add new tenet</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32"></a><a href="#__codelineno-17-32"><span class="linenos" data-linenos="32 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">list</span><span class="w">            </span><span class="c1"># List tenets</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33"></a><a href="#__codelineno-17-33"><span class="linenos" data-linenos="33 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">remove</span><span class="w">          </span><span class="c1"># Remove tenet</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34"></a><a href="#__codelineno-17-34"><span class="linenos" data-linenos="34 "></span></a>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35"></a><a href="#__codelineno-17-35"><span class="linenos" data-linenos="35 "></span></a><span class="w">  </span><span class="nt">instill</span><span class="p">:</span><span class="w">          </span><span class="c1"># Apply tenets and system instructions</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36"></a><a href="#__codelineno-17-36"><span class="linenos" data-linenos="36 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--dry-run</span><span class="w">       </span><span class="c1"># Preview what would be applied</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37"></a><a href="#__codelineno-17-37"><span class="linenos" data-linenos="37 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">--force</span><span class="w">         </span><span class="c1"># Force application</span>
</span><span id="__span-17-38"><a id="__codelineno-17-38" name="__codelineno-17-38"></a><a href="#__codelineno-17-38"><span class="linenos" data-linenos="38 "></span></a>
</span><span id="__span-17-39"><a id="__codelineno-17-39" name="__codelineno-17-39"></a><a href="#__codelineno-17-39"><span class="linenos" data-linenos="39 "></span></a><span class="w">  </span><span class="nt">system-instruction</span><span class="p">:</span><span class="w"> </span><span class="c1"># Manage system instructions</span>
</span><span id="__span-17-40"><a id="__codelineno-17-40" name="__codelineno-17-40"></a><a href="#__codelineno-17-40"><span class="linenos" data-linenos="40 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">set</span><span class="w">             </span><span class="c1"># Set instruction</span>
</span><span id="__span-17-41"><a id="__codelineno-17-41" name="__codelineno-17-41"></a><a href="#__codelineno-17-41"><span class="linenos" data-linenos="41 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">get</span><span class="w">             </span><span class="c1"># Get current</span>
</span><span id="__span-17-42"><a id="__codelineno-17-42" name="__codelineno-17-42"></a><a href="#__codelineno-17-42"><span class="linenos" data-linenos="42 "></span></a><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">enable/disable</span><span class="w">  </span><span class="c1"># Toggle</span>
</span></code></pre></div><h3 id="python-api-design">Python API Design<a class="headerlink" href="#python-api-design" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1"></a><a href="#__codelineno-18-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="kn">from</span><span class="w"> </span><span class="nn">tenets</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tenets</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2"></a><a href="#__codelineno-18-2"><span class="linenos" data-linenos=" 2 "></span></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3"></a><a href="#__codelineno-18-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="c1"># Initialize</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4"></a><a href="#__codelineno-18-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="n">tenets</span> <span class="o">=</span> <span class="n">Tenets</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;./my-project&quot;</span><span class="p">)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5"></a><a href="#__codelineno-18-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6"></a><a href="#__codelineno-18-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="c1"># Simple usage</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7"></a><a href="#__codelineno-18-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="n">context</span> <span class="o">=</span> <span class="n">tenets</span><span class="o">.</span><span class="n">distill</span><span class="p">(</span><span class="s2">&quot;implement OAuth2 authentication&quot;</span><span class="p">)</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8"></a><a href="#__codelineno-18-8"><span class="linenos" data-linenos=" 8 "></span></a>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9"></a><a href="#__codelineno-18-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="c1"># Advanced usage</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10"></a><a href="#__codelineno-18-10"><span class="linenos" data-linenos="10 "></span></a><span class="n">result</span> <span class="o">=</span> <span class="n">tenets</span><span class="o">.</span><span class="n">distill</span><span class="p">(</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11"></a><a href="#__codelineno-18-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;refactor database layer&quot;</span><span class="p">,</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12"></a><a href="#__codelineno-18-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;ml&quot;</span><span class="p">,</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13"></a><a href="#__codelineno-18-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="n">max_tokens</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14"></a><a href="#__codelineno-18-14"><span class="linenos" data-linenos="14 "></span></a>    <span class="n">filters</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;*.py&quot;</span><span class="p">,</span> <span class="s2">&quot;!test_*&quot;</span><span class="p">]</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15"></a><a href="#__codelineno-18-15"><span class="linenos" data-linenos="15 "></span></a><span class="p">)</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16"></a><a href="#__codelineno-18-16"><span class="linenos" data-linenos="16 "></span></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17"></a><a href="#__codelineno-18-17"><span class="linenos" data-linenos="17 "></span></a><span class="c1"># Session management</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18"></a><a href="#__codelineno-18-18"><span class="linenos" data-linenos="18 "></span></a><span class="n">session</span> <span class="o">=</span> <span class="n">tenets</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s2">&quot;oauth-implementation&quot;</span><span class="p">)</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19"></a><a href="#__codelineno-18-19"><span class="linenos" data-linenos="19 "></span></a><span class="n">context1</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">distill</span><span class="p">(</span><span class="s2">&quot;add OAuth2 support&quot;</span><span class="p">)</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20"></a><a href="#__codelineno-18-20"><span class="linenos" data-linenos="20 "></span></a><span class="n">context2</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">distill</span><span class="p">(</span><span class="s2">&quot;add unit tests&quot;</span><span class="p">,</span> <span class="n">incremental</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21"></a><a href="#__codelineno-18-21"><span class="linenos" data-linenos="21 "></span></a>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22"></a><a href="#__codelineno-18-22"><span class="linenos" data-linenos="22 "></span></a><span class="c1"># Analysis tools</span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23"></a><a href="#__codelineno-18-23"><span class="linenos" data-linenos="23 "></span></a><span class="n">examination</span> <span class="o">=</span> <span class="n">tenets</span><span class="o">.</span><span class="n">examine</span><span class="p">()</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24"></a><a href="#__codelineno-18-24"><span class="linenos" data-linenos="24 "></span></a><span class="n">chronicle</span> <span class="o">=</span> <span class="n">tenets</span><span class="o">.</span><span class="n">chronicle</span><span class="p">()</span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25"></a><a href="#__codelineno-18-25"><span class="linenos" data-linenos="25 "></span></a><span class="n">momentum</span> <span class="o">=</span> <span class="n">tenets</span><span class="o">.</span><span class="n">momentum</span><span class="p">()</span>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26"></a><a href="#__codelineno-18-26"><span class="linenos" data-linenos="26 "></span></a>
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27"></a><a href="#__codelineno-18-27"><span class="linenos" data-linenos="27 "></span></a><span class="c1"># Configuration</span>
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28"></a><a href="#__codelineno-18-28"><span class="linenos" data-linenos="28 "></span></a><span class="n">tenets</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29"></a><a href="#__codelineno-18-29"><span class="linenos" data-linenos="29 "></span></a>    <span class="n">ranking_algorithm</span><span class="o">=</span><span class="s2">&quot;thorough&quot;</span><span class="p">,</span>
</span><span id="__span-18-30"><a id="__codelineno-18-30" name="__codelineno-18-30"></a><a href="#__codelineno-18-30"><span class="linenos" data-linenos="30 "></span></a>    <span class="n">use_ml</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-18-31"><a id="__codelineno-18-31" name="__codelineno-18-31"></a><a href="#__codelineno-18-31"><span class="linenos" data-linenos="31 "></span></a>    <span class="n">cache_ttl_days</span><span class="o">=</span><span class="mi">30</span>
</span><span id="__span-18-32"><a id="__codelineno-18-32" name="__codelineno-18-32"></a><a href="#__codelineno-18-32"><span class="linenos" data-linenos="32 "></span></a><span class="p">)</span>
</span></code></pre></div><h2 id="security--privacy-architecture">Security &amp; Privacy Architecture<a class="headerlink" href="#security--privacy-architecture" title="Link to this section">&para;</a></h2><h3 id="local-first-security-model">Local-First Security Model<a class="headerlink" href="#local-first-security-model" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Privacy Guarantees"
        LOCAL[All Processing Local&lt;br/&gt;No external API calls for analysis]
        NO_TELEMETRY[No Telemetry&lt;br/&gt;No usage tracking]
        NO_CLOUD[No Cloud Storage&lt;br/&gt;All data stays local]
        NO_PHONE_HOME[No Phone Home&lt;br/&gt;No automatic updates]
    end

    subgraph "Secret Detection"
        API_KEYS[API Key Detection&lt;br/&gt;Common patterns]
        PASSWORDS[Password Detection&lt;br/&gt;Credential patterns]
        TOKENS[Token Detection&lt;br/&gt;JWT, OAuth tokens]
        PRIVATE_KEYS[Private Key Detection&lt;br/&gt;RSA, SSH keys]
        CONNECTION_STRINGS[Connection Strings&lt;br/&gt;Database URLs]
        ENV_VARS[Environment Variables&lt;br/&gt;Sensitive values]
    end

    subgraph "Output Sanitization (Roadmap)"
        REDACT[Redact Secrets&lt;br/&gt;**WIP** - Coming soon]
        MASK_PII[Mask PII&lt;br/&gt;**WIP** - Planned feature]
        CLEAN_PATHS[Clean File Paths&lt;br/&gt;Remove sensitive paths]
        REMOVE_URLS[Remove Internal URLs&lt;br/&gt;**WIP** - Under development]
        ANONYMIZE[Anonymization&lt;br/&gt;**WIP** - Future release]
    end

    subgraph "Data Protection"
        ENCRYPTED_CACHE[Encrypted Cache&lt;br/&gt;Optional encryption at rest]
        SECURE_DELETE[Secure Deletion&lt;br/&gt;Overwrite sensitive data]
        ACCESS_CONTROL[File Access Control&lt;br/&gt;Respect permissions]
        AUDIT_LOG[Audit Logging&lt;br/&gt;Security events]
    end

    LOCAL --&gt; API_KEYS
    NO_TELEMETRY --&gt; PASSWORDS
    NO_CLOUD --&gt; TOKENS
    NO_PHONE_HOME --&gt; PRIVATE_KEYS

    API_KEYS --&gt; REDACT
    PASSWORDS --&gt; MASK_PII
    TOKENS --&gt; CLEAN_PATHS
    PRIVATE_KEYS --&gt; REMOVE_URLS
    CONNECTION_STRINGS --&gt; ANONYMIZE
    ENV_VARS --&gt; ANONYMIZE

    REDACT --&gt; ENCRYPTED_CACHE
    MASK_PII --&gt; SECURE_DELETE
    CLEAN_PATHS --&gt; ACCESS_CONTROL
    REMOVE_URLS --&gt; AUDIT_LOG
    ANONYMIZE --&gt; AUDIT_LOG</code></pre><h3 id="secret-detection-patterns-roadmap">Secret Detection Patterns (Roadmap)<a class="headerlink" href="#secret-detection-patterns-roadmap" title="Link to this section">&para;</a></h3><p><strong>Note: Secret detection and redaction is a planned feature for future releases.</strong></p><p>The following architecture represents the planned implementation:</p><pre class="mermaid"><code>graph LR
    subgraph "Detection Methods"
        REGEX[Regex Patterns&lt;br/&gt;Known formats]
        ENTROPY[Entropy Analysis&lt;br/&gt;Random strings]
        CONTEXT[Context Analysis&lt;br/&gt;Variable names]
        KEYWORDS[Keyword Detection&lt;br/&gt;password, secret, key]
    end

    subgraph "Secret Types"
        AWS[AWS Access Keys&lt;br/&gt;AKIA...]
        GITHUB[GitHub Tokens&lt;br/&gt;ghp_, gho_]
        JWT[JWT Tokens&lt;br/&gt;eyJ pattern]
        RSA[RSA Private Keys&lt;br/&gt;-----BEGIN RSA]
        DATABASE[Database URLs&lt;br/&gt;postgres://, mysql://]
        GENERIC[Generic Secrets&lt;br/&gt;High entropy strings]
    end

    subgraph "Response Actions"
        FLAG[Flag for Review&lt;br/&gt;Warn user]
        REDACT_AUTO[Auto Redaction&lt;br/&gt;Replace with [REDACTED]]
        EXCLUDE[Exclude File&lt;br/&gt;Skip entirely]
        LOG[Security Log&lt;br/&gt;Record detection]
    end

    REGEX --&gt; AWS
    ENTROPY --&gt; GITHUB
    CONTEXT --&gt; JWT
    KEYWORDS --&gt; RSA

    AWS --&gt; FLAG
    GITHUB --&gt; REDACT_AUTO
    JWT --&gt; EXCLUDE
    RSA --&gt; LOG
    DATABASE --&gt; LOG
    GENERIC --&gt; FLAG</code></pre><h2 id="testing--quality-assurance">Testing &amp; Quality Assurance<a class="headerlink" href="#testing--quality-assurance" title="Link to this section">&para;</a></h2><h3 id="test-architecture">Test Architecture<a class="headerlink" href="#test-architecture" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Test Categories"
        UNIT[Unit Tests&lt;br/&gt;Target: High coverage&lt;br/&gt;Fast, isolated]
        INTEGRATION[Integration Tests&lt;br/&gt;Component interaction&lt;br/&gt;Real workflows]
        E2E[End-to-End Tests&lt;br/&gt;Complete user journeys&lt;br/&gt;CLI to output]
        PERFORMANCE[Performance Tests&lt;br/&gt;Benchmark regression&lt;br/&gt;Memory usage]
    end

    subgraph "Test Structure"
        FIXTURES[Test Fixtures&lt;br/&gt;Sample codebases&lt;br/&gt;Known outputs]
        MOCKS[Mock Objects&lt;br/&gt;External dependencies&lt;br/&gt;Controlled behavior]
        HELPERS[Test Helpers&lt;br/&gt;Common operations&lt;br/&gt;Assertion utilities]
        FACTORIES[Data Factories&lt;br/&gt;Generate test data&lt;br/&gt;Realistic scenarios]
    end

    subgraph "Quality Metrics"
        COVERAGE[Code Coverage&lt;br/&gt;Line and branch coverage]
        COMPLEXITY[Complexity Limits&lt;br/&gt;Cyclomatic &lt; 10]
        DUPLICATION[Duplication Check&lt;br/&gt;&lt; 5% duplicate code]
        DOCUMENTATION[Documentation&lt;br/&gt;100% public API]
    end

    subgraph "Continuous Testing"
        PRE_COMMIT[Pre-commit Hooks&lt;br/&gt;Fast feedback]
        CI_PIPELINE[CI Pipeline&lt;br/&gt;Full test suite]
        NIGHTLY[Nightly Tests&lt;br/&gt;Extended scenarios]
        BENCHMARKS[Benchmark Tracking&lt;br/&gt;Performance trends]
    end

    UNIT --&gt; FIXTURES
    INTEGRATION --&gt; MOCKS
    E2E --&gt; HELPERS
    PERFORMANCE --&gt; FACTORIES

    FIXTURES --&gt; COVERAGE
    MOCKS --&gt; COMPLEXITY
    HELPERS --&gt; DUPLICATION
    FACTORIES --&gt; DOCUMENTATION

    COVERAGE --&gt; PRE_COMMIT
    COMPLEXITY --&gt; CI_PIPELINE
    DUPLICATION --&gt; NIGHTLY
    DOCUMENTATION --&gt; BENCHMARKS</code></pre><h3 id="test-coverage-requirements">Test Coverage Requirements<a class="headerlink" href="#test-coverage-requirements" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Coverage Targets"
        UNIT_COV[Unit Tests&lt;br/&gt;&gt;90% coverage&lt;br/&gt;Critical paths 100%]
        INTEGRATION_COV[Integration Tests&lt;br/&gt;All major workflows&lt;br/&gt;Error scenarios]
        E2E_COV[E2E Tests&lt;br/&gt;Critical user journeys&lt;br/&gt;Happy paths]
        PERF_COV[Performance Tests&lt;br/&gt;Regression prevention&lt;br/&gt;Memory leak detection]
    end

    subgraph "Quality Gates"
        CODE_QUALITY[Code Quality&lt;br/&gt;Complexity &lt; 10&lt;br/&gt;Function length &lt; 50]
        DOCUMENTATION[Documentation&lt;br/&gt;100% public API&lt;br/&gt;Usage examples]
        SECURITY[Security Tests&lt;br/&gt;Secret detection&lt;br/&gt;Input validation]
        COMPATIBILITY[Compatibility&lt;br/&gt;Python 3.8+&lt;br/&gt;Multiple platforms]
    end

    UNIT_COV --&gt; CODE_QUALITY
    INTEGRATION_COV --&gt; DOCUMENTATION
    E2E_COV --&gt; SECURITY
    PERF_COV --&gt; COMPATIBILITY</code></pre><h2 id="guiding-principles-tenets-system">Guiding Principles (Tenets) System<a class="headerlink" href="#guiding-principles-tenets-system" title="Link to this section">&para;</a></h2><h3 id="overview">Overview<a class="headerlink" href="#overview" title="Link to this section">&para;</a></h3><p>The Guiding Principles system (internally called "Tenets") provides a way to inject persistent, context-aware instructions into generated code context. These principles help maintain consistency across AI interactions and combat context drift by ensuring important architectural decisions, coding standards, and project-specific requirements are consistently reinforced.</p><h3 id="output-format-conventions">Output Format Conventions<a class="headerlink" href="#output-format-conventions" title="Link to this section">&para;</a></h3><p>Following OpenAI's recommendations for structured output, tenets are formatted as "guiding principles" in human-readable formats:</p><h4 id="markdown-format">Markdown Format<a class="headerlink" href="#markdown-format" title="Link to this section">&para;</a></h4><div class="language-markdown highlight"><span class="filename">Markdown</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1"></a><a href="#__codelineno-19-1"><span class="linenos" data-linenos="1 "></span></a><span class="gs">**🎯 Key Guiding Principle:**</span> Always validate user input before processing
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2"></a><a href="#__codelineno-19-2"><span class="linenos" data-linenos="2 "></span></a><span class="gs">**📌 Important Guiding Principle:**</span> Use async/await for all I/O operations
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3"></a><a href="#__codelineno-19-3"><span class="linenos" data-linenos="3 "></span></a><span class="gs">**💡 Guiding Principle:**</span> Prefer composition over inheritance
</span></code></pre></div><h4 id="xml-format-recommended-by-openai">XML Format (Recommended by OpenAI)<a class="headerlink" href="#xml-format-recommended-by-openai" title="Link to this section">&para;</a></h4><div class="language-xml highlight"><span class="filename">XML</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1"></a><a href="#__codelineno-20-1"><span class="linenos" data-linenos="1 "></span></a><span class="nt">&lt;guiding_principle</span><span class="w"> </span><span class="na">priority=</span><span class="s">&quot;high&quot;</span><span class="w"> </span><span class="na">category=</span><span class="s">&quot;security&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2"></a><a href="#__codelineno-20-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">  </span>Always<span class="w"> </span>validate<span class="w"> </span>and<span class="w"> </span>sanitize<span class="w"> </span>user<span class="w"> </span>input
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3"></a><a href="#__codelineno-20-3"><span class="linenos" data-linenos="3 "></span></a><span class="nt">&lt;/guiding_principle&gt;</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4"></a><a href="#__codelineno-20-4"><span class="linenos" data-linenos="4 "></span></a>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5"></a><a href="#__codelineno-20-5"><span class="linenos" data-linenos="5 "></span></a><span class="nt">&lt;guiding_principles&gt;</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6"></a><a href="#__codelineno-20-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">  </span><span class="nt">&lt;guiding_principle</span><span class="w"> </span><span class="na">priority=</span><span class="s">&quot;critical&quot;</span><span class="nt">&gt;</span>Maintain<span class="w"> </span>backward<span class="w"> </span>compatibility<span class="nt">&lt;/guiding_principle&gt;</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7"></a><a href="#__codelineno-20-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">  </span><span class="nt">&lt;guiding_principle</span><span class="w"> </span><span class="na">priority=</span><span class="s">&quot;medium&quot;</span><span class="nt">&gt;</span>Use<span class="w"> </span>descriptive<span class="w"> </span>variable<span class="w"> </span>names<span class="nt">&lt;/guiding_principle&gt;</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8"></a><a href="#__codelineno-20-8"><span class="linenos" data-linenos="8 "></span></a><span class="nt">&lt;/guiding_principles&gt;</span>
</span></code></pre></div><h4 id="json-format">JSON Format<a class="headerlink" href="#json-format" title="Link to this section">&para;</a></h4><div class="language-json highlight"><span class="filename">JSON</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a><a href="#__codelineno-21-1"><span class="linenos" data-linenos="1 "></span></a><span class="cm">/* GUIDING PRINCIPLE: Follow REST API conventions for all endpoints */</span>
</span></code></pre></div><h3 id="injection-strategy">Injection Strategy<a class="headerlink" href="#injection-strategy" title="Link to this section">&para;</a></h3><p>The system uses intelligent injection strategies to place guiding principles where they'll be most effective:</p><pre class="mermaid"><code>graph TD
    subgraph "Injection Decision Engine"
        ANALYZER[Content Analyzer&lt;br/&gt;Structure &amp; complexity]
        STRATEGY[Strategy Selector&lt;br/&gt;Top, distributed, contextual]
        INJECTOR[Smart Injector&lt;br/&gt;Natural break detection]
    end

    subgraph "Priority System"
        CRITICAL[Critical Principles&lt;br/&gt;Security, data integrity]
        HIGH[High Priority&lt;br/&gt;Architecture, performance]
        MEDIUM[Medium Priority&lt;br/&gt;Style, conventions]
        LOW[Low Priority&lt;br/&gt;Preferences, suggestions]
    end

    subgraph "Reinforcement"
        TOP_INJECTION[Top of Context&lt;br/&gt;Most visible]
        DISTRIBUTED[Throughout Content&lt;br/&gt;Natural sections]
        END_SUMMARY[End Reinforcement&lt;br/&gt;Key reminders]
    end

    ANALYZER --&gt; STRATEGY
    STRATEGY --&gt; INJECTOR

    CRITICAL --&gt; TOP_INJECTION
    HIGH --&gt; DISTRIBUTED
    MEDIUM --&gt; DISTRIBUTED
    LOW --&gt; END_SUMMARY</code></pre><h3 id="injection-behavior">Injection Behavior<a class="headerlink" href="#injection-behavior" title="Link to this section">&para;</a></h3><p>The system ensures guiding principles are present when needed:</p><h4 id="session-based-injection">Session-Based Injection<a class="headerlink" href="#session-based-injection" title="Link to this section">&para;</a></h4><ul><li><strong>First Output Rule</strong>: Guiding principles are ALWAYS injected on the first distill in any session</li><li><strong>Named Sessions</strong>: After first injection, follows configured frequency (adaptive/periodic/always)</li><li><strong>Unnamed Sessions</strong>: Treated as important contexts that always receive guiding principles</li><li><strong>No Delay</strong>: Previously required 5 operations before first injection; now immediate</li></ul><h4 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Link to this section">&para;</a></h4><div class="language-yaml highlight"><span class="filename">YAML</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1"></a><a href="#__codelineno-22-1"><span class="linenos" data-linenos="1 "></span></a><span class="nt">tenet</span><span class="p">:</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2"></a><a href="#__codelineno-22-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">  </span><span class="nt">auto_instill</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3"></a><a href="#__codelineno-22-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">  </span><span class="nt">max_per_context</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4"></a><a href="#__codelineno-22-4"><span class="linenos" data-linenos="4 "></span></a><span class="w">  </span><span class="nt">injection_strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">strategic</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5"></a><a href="#__codelineno-22-5"><span class="linenos" data-linenos="5 "></span></a><span class="w">  </span><span class="nt">injection_frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">adaptive</span><span class="w">  </span><span class="c1"># &#39;always&#39;, &#39;periodic&#39;, &#39;adaptive&#39;, &#39;manual&#39;</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6"></a><a href="#__codelineno-22-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">  </span><span class="nt">injection_interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span><span class="w">          </span><span class="c1"># For periodic mode</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7"></a><a href="#__codelineno-22-7"><span class="linenos" data-linenos="7 "></span></a><span class="w">  </span><span class="nt">min_session_length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">          </span><span class="c1"># Now 1 (was 5) - first injection always happens</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8"></a><a href="#__codelineno-22-8"><span class="linenos" data-linenos="8 "></span></a><span class="w">  </span><span class="nt">system_instruction</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Prefer</span><span class="nv"> </span><span class="s">small,</span><span class="nv"> </span><span class="s">safe</span><span class="nv"> </span><span class="s">diffs</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">add</span><span class="nv"> </span><span class="s">tests&quot;</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9"></a><a href="#__codelineno-22-9"><span class="linenos" data-linenos="9 "></span></a><span class="w">  </span><span class="nt">system_instruction_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span></code></pre></div><h4 id="injection-frequencies">Injection Frequencies<a class="headerlink" href="#injection-frequencies" title="Link to this section">&para;</a></h4><ul><li><strong>always</strong>: Inject on every distill operation</li><li><strong>periodic</strong>: Inject every N operations (set by <code>injection_interval</code>)</li><li><strong>adaptive</strong>: Smart injection based on context complexity and session state</li><li><strong>manual</strong>: Only inject when explicitly requested</li></ul><h3 id="integration-with-distill-command">Integration with Distill Command<a class="headerlink" href="#integration-with-distill-command" title="Link to this section">&para;</a></h3><p>When using the <code>distill</code> command, guiding principles are automatically injected based on configuration.</p><p><strong>Note:</strong> System instructions are excluded from HTML reports (which are meant for human consumption) but included in formats intended for AI consumption (markdown, XML, JSON).</p><h2 id="future-roadmap--vision">Future Roadmap &amp; Vision<a class="headerlink" href="#future-roadmap--vision" title="Link to this section">&para;</a></h2><h3 id="near-term-q1-2025">Near Term (Q1 2025)<a class="headerlink" href="#near-term-q1-2025" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Core Improvements"
        INCREMENTAL[Incremental Indexing&lt;br/&gt;Real-time updates&lt;br/&gt;Watch file changes]
        FASTER_EMBED[Faster Embeddings&lt;br/&gt;Model quantization&lt;br/&gt;ONNX optimization]
        LANGUAGE_SUP[Better Language Support&lt;br/&gt;30+ languages&lt;br/&gt;Language-specific patterns]
        IDE_PLUGINS[IDE Plugin Ecosystem&lt;br/&gt;VS Code, IntelliJ, Vim]
        CROSS_REPO[Cross-repository Analysis&lt;br/&gt;Monorepo support&lt;br/&gt;Dependency tracking]
    end

    subgraph "ML Enhancements"
        NEWER_MODELS[Newer Embedding Models&lt;br/&gt;Code-specific transformers&lt;br/&gt;Better accuracy]
        FINE_TUNING[Fine-tuning Pipeline&lt;br/&gt;Domain-specific models&lt;br/&gt;Custom training]
        MULTIMODAL[Multi-modal Understanding&lt;br/&gt;Diagrams, images&lt;br/&gt;Architecture docs]
        CODE_TRANSFORMERS[Code-specific Models&lt;br/&gt;Programming language aware&lt;br/&gt;Syntax understanding]
    end

    INCREMENTAL --&gt; NEWER_MODELS
    FASTER_EMBED --&gt; FINE_TUNING
    LANGUAGE_SUP --&gt; MULTIMODAL
    IDE_PLUGINS --&gt; CODE_TRANSFORMERS
    CROSS_REPO --&gt; CODE_TRANSFORMERS</code></pre><h3 id="medium-term-q2-q3-2025">Medium Term (Q2-Q3 2025)<a class="headerlink" href="#medium-term-q2-q3-2025" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Platform Features"
        WEB_UI[Web UI&lt;br/&gt;Real-time collaboration&lt;br/&gt;Team workspaces]
        SHARED_CONTEXT[Shared Context Libraries&lt;br/&gt;Team knowledge base&lt;br/&gt;Best practices]
        KNOWLEDGE_GRAPHS[Knowledge Graphs&lt;br/&gt;Code relationships&lt;br/&gt;Semantic connections]
        AI_AGENTS[AI Agent Integration&lt;br/&gt;Autonomous assistance&lt;br/&gt;Proactive suggestions]
    end

    subgraph "Enterprise Features"
        SSO[SSO/SAML Support&lt;br/&gt;Enterprise authentication&lt;br/&gt;Role-based access]
        AUDIT[Audit Logging&lt;br/&gt;Compliance tracking&lt;br/&gt;Usage monitoring]
        COMPLIANCE[Compliance Modes&lt;br/&gt;GDPR, SOX, HIPAA&lt;br/&gt;Data governance]
        AIR_GAPPED[Air-gapped Deployment&lt;br/&gt;Offline operation&lt;br/&gt;Secure environments]
        CUSTOM_ML[Custom ML Models&lt;br/&gt;Private model training&lt;br/&gt;Domain expertise]
    end

    WEB_UI --&gt; SSO
    SHARED_CONTEXT --&gt; AUDIT
    KNOWLEDGE_GRAPHS --&gt; COMPLIANCE
    AI_AGENTS --&gt; AIR_GAPPED
    AI_AGENTS --&gt; CUSTOM_ML</code></pre><h3 id="long-term-2026">Long Term (2026+)<a class="headerlink" href="#long-term-2026" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Vision Goals"
        AUTONOMOUS[Autonomous Code Understanding&lt;br/&gt;Self-improving analysis&lt;br/&gt;Minimal human input]
        PREDICTIVE[Predictive Development&lt;br/&gt;Anticipate needs&lt;br/&gt;Suggest improvements]
        UNIVERSAL[Universal Code Intelligence&lt;br/&gt;Any language, any domain&lt;br/&gt;Contextual understanding]
        INDUSTRY_STANDARD[Industry Standard&lt;br/&gt;AI pair programming&lt;br/&gt;Developer toolchain]
    end

    subgraph "Research Areas"
        GRAPH_NEURAL[Graph Neural Networks&lt;br/&gt;Code structure understanding&lt;br/&gt;Relationship modeling]
        REINFORCEMENT[Reinforcement Learning&lt;br/&gt;Ranking optimization&lt;br/&gt;Adaptive behavior]
        FEW_SHOT[Few-shot Learning&lt;br/&gt;New language support&lt;br/&gt;Rapid adaptation]
        EXPLAINABLE[Explainable AI&lt;br/&gt;Ranking transparency&lt;br/&gt;Decision reasoning]
        FEDERATED[Federated Learning&lt;br/&gt;Team knowledge sharing&lt;br/&gt;Privacy-preserving]
    end

    AUTONOMOUS --&gt; GRAPH_NEURAL
    PREDICTIVE --&gt; REINFORCEMENT
    UNIVERSAL --&gt; FEW_SHOT
    INDUSTRY_STANDARD --&gt; EXPLAINABLE
    INDUSTRY_STANDARD --&gt; FEDERATED</code></pre><h3 id="technology-evolution">Technology Evolution<a class="headerlink" href="#technology-evolution" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>timeline
    title Tenets Technology Roadmap

    2025 Q1 : Core ML Pipeline
            : Local Embeddings
            : Multi-language Support
            : IDE Integrations

    2025 Q2 : Web Collaboration
            : Team Features
            : Enterprise Security
            : Performance Optimization

    2025 Q3 : Knowledge Graphs
            : AI Agent Integration
            : Custom Models
            : Advanced Analytics

    2026    : Autonomous Understanding
            : Predictive Intelligence
            : Graph Neural Networks
            : Industry Adoption

    2027+   : Universal Code Intelligence
            : Federated Learning
            : Next-gen AI Integration
            : Market Leadership</code></pre><h2 id="output-generation--visualization">Output Generation &amp; Visualization<a class="headerlink" href="#output-generation--visualization" title="Link to this section">&para;</a></h2><h3 id="output-formatting-system">Output Formatting System<a class="headerlink" href="#output-formatting-system" title="Link to this section">&para;</a></h3><p>The output formatting system in Tenets provides multiple format options to suit different use cases and integrations:</p><pre class="mermaid"><code>graph TB
    subgraph "Format Types"
        MARKDOWN[Markdown Format&lt;br/&gt;Human-readable]
        JSON[JSON Format&lt;br/&gt;Machine-parseable]
        XML[XML Format&lt;br/&gt;Structured data]
        HTML[HTML Format&lt;br/&gt;Interactive reports]
    end

    subgraph "HTML Report Features"
        INTERACTIVE[Interactive Elements&lt;br/&gt;Collapsible sections]
        VISUALS[Visualizations&lt;br/&gt;Charts &amp; graphs]
        STYLING[Professional Styling&lt;br/&gt;Modern UI]
        RESPONSIVE[Responsive Design&lt;br/&gt;Mobile-friendly]
    end

    subgraph "Report Components"
        HEADER[Report Header&lt;br/&gt;Title &amp; metadata]
        PROMPT_DISPLAY[Prompt Analysis&lt;br/&gt;Keywords &amp; intent]
        STATS[Statistics Dashboard&lt;br/&gt;Metrics &amp; KPIs]
        FILES[File Listings&lt;br/&gt;Code previews]
        GIT[Git Context&lt;br/&gt;Commits &amp; contributors]
    end

    HTML --&gt; INTERACTIVE
    HTML --&gt; VISUALS
    HTML --&gt; STYLING
    HTML --&gt; RESPONSIVE

    INTERACTIVE --&gt; HEADER
    VISUALS --&gt; STATS
    STYLING --&gt; FILES
    RESPONSIVE --&gt; GIT</code></pre><h3 id="html-report-generation">HTML Report Generation<a class="headerlink" href="#html-report-generation" title="Link to this section">&para;</a></h3><p>The HTML formatter leverages the reporting infrastructure to create rich, interactive reports:</p><h4 id="features">Features:<a class="headerlink" href="#features" title="Link to this section">&para;</a></h4><ul><li><strong>Interactive Dashboard</strong>: Collapsible sections, sortable tables, and filterable content</li><li><strong>Visual Statistics</strong>: Charts for file distribution, token usage, and relevance scores</li><li><strong>Code Previews</strong>: Syntax-highlighted code snippets with truncation for large files</li><li><strong>Responsive Design</strong>: Mobile-friendly layout that adapts to screen size</li><li><strong>Professional Styling</strong>: Modern UI with gradients, shadows, and animations</li><li><strong>Git Integration</strong>: Display of recent commits, contributors, and branch information</li></ul><h4 id="architecture">Architecture:<a class="headerlink" href="#architecture" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1"></a><a href="#__codelineno-23-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">HTMLFormatter</span><span class="p">:</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2"></a><a href="#__codelineno-23-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;HTML report generation for distill command.&quot;&quot;&quot;</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3"></a><a href="#__codelineno-23-3"><span class="linenos" data-linenos=" 3 "></span></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4"></a><a href="#__codelineno-23-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">format_html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aggregated</span><span class="p">,</span> <span class="n">prompt_context</span><span class="p">,</span> <span class="n">session</span><span class="p">):</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5"></a><a href="#__codelineno-23-5"><span class="linenos" data-linenos=" 5 "></span></a>        <span class="c1"># Create HTML template with modern styling</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6"></a><a href="#__codelineno-23-6"><span class="linenos" data-linenos=" 6 "></span></a>        <span class="n">template</span> <span class="o">=</span> <span class="n">HTMLTemplate</span><span class="p">(</span><span class="n">theme</span><span class="o">=</span><span class="s2">&quot;modern&quot;</span><span class="p">,</span> <span class="n">include_charts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7"></a><a href="#__codelineno-23-7"><span class="linenos" data-linenos=" 7 "></span></a>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8"></a><a href="#__codelineno-23-8"><span class="linenos" data-linenos=" 8 "></span></a>        <span class="c1"># Build report sections</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9"></a><a href="#__codelineno-23-9"><span class="linenos" data-linenos=" 9 "></span></a>        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10"></a><a href="#__codelineno-23-10"><span class="linenos" data-linenos="10 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_build_header</span><span class="p">(</span><span class="n">prompt_context</span><span class="p">,</span> <span class="n">session</span><span class="p">),</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11"></a><a href="#__codelineno-23-11"><span class="linenos" data-linenos="11 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_build_prompt_analysis</span><span class="p">(</span><span class="n">prompt_context</span><span class="p">),</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12"></a><a href="#__codelineno-23-12"><span class="linenos" data-linenos="12 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_build_statistics</span><span class="p">(</span><span class="n">aggregated</span><span class="p">),</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13"></a><a href="#__codelineno-23-13"><span class="linenos" data-linenos="13 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_build_file_cards</span><span class="p">(</span><span class="n">aggregated</span><span class="p">[</span><span class="s2">&quot;included_files&quot;</span><span class="p">]),</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14"></a><a href="#__codelineno-23-14"><span class="linenos" data-linenos="14 "></span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_build_git_context</span><span class="p">(</span><span class="n">aggregated</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;git_context&quot;</span><span class="p">))</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15"></a><a href="#__codelineno-23-15"><span class="linenos" data-linenos="15 "></span></a>        <span class="p">]</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16"></a><a href="#__codelineno-23-16"><span class="linenos" data-linenos="16 "></span></a>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17"></a><a href="#__codelineno-23-17"><span class="linenos" data-linenos="17 "></span></a>        <span class="c1"># Generate final HTML with embedded styles and scripts</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18"></a><a href="#__codelineno-23-18"><span class="linenos" data-linenos="18 "></span></a>        <span class="k">return</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span>
</span></code></pre></div><h3 id="visualization-components">Visualization Components<a class="headerlink" href="#visualization-components" title="Link to this section">&para;</a></h3><p>The visualization system provides rich visual representations of code analysis with intelligent project detection:</p><pre class="mermaid"><code>graph LR
    subgraph "Project Detection"
        DETECTOR[Project Detector&lt;br/&gt;Auto-detects type]
        LANGUAGES[Language Analysis&lt;br/&gt;% distribution]
        FRAMEWORKS[Framework Detection&lt;br/&gt;Django, React, etc]
        ENTRYPOINTS[Entry Points&lt;br/&gt;main.py, index.js]
    end

    subgraph "Graph Generation"
        GRAPHGEN[Graph Generator&lt;br/&gt;Multiple formats]
        NETWORKX[NetworkX&lt;br/&gt;Graph algorithms]
        GRAPHVIZ[Graphviz&lt;br/&gt;DOT rendering]
        PLOTLY[Plotly&lt;br/&gt;Interactive HTML]
        D3JS[D3.js&lt;br/&gt;Web visualization]
    end

    subgraph "Dependency Visualization"
        FILE_DEPS[File-level&lt;br/&gt;Individual files]
        MODULE_DEPS[Module-level&lt;br/&gt;Aggregated modules]
        PACKAGE_DEPS[Package-level&lt;br/&gt;Top-level packages]
        CLUSTERING[Clustering&lt;br/&gt;Group by criteria]
    end

    subgraph "Output Formats"
        ASCII[ASCII Tree&lt;br/&gt;Terminal output]
        SVG[SVG&lt;br/&gt;Vector graphics]
        PNG[PNG/PDF&lt;br/&gt;Static images]
        HTML_INT[Interactive HTML&lt;br/&gt;D3.js/Plotly]
        DOT[DOT Format&lt;br/&gt;Graphviz source]
        JSON_OUT[JSON&lt;br/&gt;Raw data]
    end

    subgraph "Layout Algorithms"
        HIERARCHICAL[Hierarchical&lt;br/&gt;Tree layout]
        CIRCULAR[Circular&lt;br/&gt;Radial layout]
        SHELL[Shell&lt;br/&gt;Concentric circles]
        KAMADA[Kamada-Kawai&lt;br/&gt;Force-directed]
    end

    DETECTOR --&gt; LANGUAGES
    DETECTOR --&gt; FRAMEWORKS
    DETECTOR --&gt; ENTRYPOINTS

    GRAPHGEN --&gt; NETWORKX
    GRAPHGEN --&gt; GRAPHVIZ
    GRAPHGEN --&gt; PLOTLY
    GRAPHGEN --&gt; D3JS

    FILE_DEPS --&gt; MODULE_DEPS
    MODULE_DEPS --&gt; PACKAGE_DEPS
    PACKAGE_DEPS --&gt; CLUSTERING

    GRAPHGEN --&gt; ASCII
    GRAPHGEN --&gt; SVG
    GRAPHGEN --&gt; PNG
    GRAPHGEN --&gt; HTML_INT
    GRAPHGEN --&gt; DOT
    GRAPHGEN --&gt; JSON_OUT</code></pre><h4 id="project-detection-system">Project Detection System<a class="headerlink" href="#project-detection-system" title="Link to this section">&para;</a></h4><p>The new ProjectDetector automatically identifies: - <strong>Project Type</strong>: Python package, Node.js app, Django project, React app, etc. - <strong>Language Distribution</strong>: Percentages of each language in the codebase - <strong>Frameworks</strong>: Detects Django, Flask, React, Vue, Spring, Rails, etc. - <strong>Entry Points</strong>: Finds main.py, index.js, package.json main field, etc. - <strong>Project Structure</strong>: Identifies src/, tests/, docs/ directories</p><h4 id="dependency-visualization-modes">Dependency Visualization Modes<a class="headerlink" href="#dependency-visualization-modes" title="Link to this section">&para;</a></h4><p>Three levels of dependency aggregation: 1. <strong>File-level</strong>: Shows individual file dependencies (detailed view) 2. <strong>Module-level</strong>: Aggregates to module/directory level (balanced view) 3. <strong>Package-level</strong>: Shows only top-level package dependencies (high-level view)</p><h4 id="graph-generation-features">Graph Generation Features<a class="headerlink" href="#graph-generation-features" title="Link to this section">&para;</a></h4><ul><li><strong>Multiple Formats</strong>: SVG, PNG, PDF, HTML, DOT, JSON</li><li><strong>Pure Python</strong>: All dependencies installable via pip (no system deps)</li><li><strong>Interactive HTML</strong>: D3.js or Plotly-based interactive visualizations</li><li><strong>Clustering</strong>: Group nodes by directory, module, or package</li><li><strong>Layout Algorithms</strong>: Hierarchical, circular, shell, force-directed</li><li><strong>Node Limiting</strong>: Handle large graphs with --max-nodes option</li></ul><h3 id="integration-with-report-generator">Integration with Report Generator<a class="headerlink" href="#integration-with-report-generator" title="Link to this section">&para;</a></h3><p>The distill command now fully integrates with the report generation infrastructure:</p><ol><li><strong>Shared Templates</strong>: Uses the same HTML templates as the examine command</li><li><strong>Consistent Styling</strong>: Unified visual design across all report types</li><li><strong>Reusable Components</strong>: Shared visualization libraries and chart generators</li><li><strong>Export Options</strong>: Support for PDF export via HTML rendering</li></ol><h3 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Link to this section">&para;</a></h3><div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1"></a><a href="#__codelineno-24-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="c1"># Generate HTML report for context</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2"></a><a href="#__codelineno-24-2"><span class="linenos" data-linenos=" 2 "></span></a>tenets<span class="w"> </span>distill<span class="w"> </span><span class="s2">&quot;review API&quot;</span><span class="w"> </span>--format<span class="w"> </span>html<span class="w"> </span>-o<span class="w"> </span>report.html
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3"></a><a href="#__codelineno-24-3"><span class="linenos" data-linenos=" 3 "></span></a>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4"></a><a href="#__codelineno-24-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="c1"># Create interactive dashboard with verbose details</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5"></a><a href="#__codelineno-24-5"><span class="linenos" data-linenos=" 5 "></span></a>tenets<span class="w"> </span>distill<span class="w"> </span><span class="s2">&quot;analyze security&quot;</span><span class="w"> </span>--format<span class="w"> </span>html<span class="w"> </span>--verbose<span class="w"> </span>-o<span class="w"> </span>security_context.html
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6"></a><a href="#__codelineno-24-6"><span class="linenos" data-linenos=" 6 "></span></a>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7"></a><a href="#__codelineno-24-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="c1"># Generate report with custom styling</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8"></a><a href="#__codelineno-24-8"><span class="linenos" data-linenos=" 8 "></span></a>tenets<span class="w"> </span>distill<span class="w"> </span><span class="s2">&quot;refactor database&quot;</span><span class="w"> </span>--format<span class="w"> </span>html<span class="w"> </span>--theme<span class="w"> </span>dark<span class="w"> </span>-o<span class="w"> </span>refactor.html
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9"></a><a href="#__codelineno-24-9"><span class="linenos" data-linenos=" 9 "></span></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10"></a><a href="#__codelineno-24-10"><span class="linenos" data-linenos="10 "></span></a><span class="c1"># Dependency visualization with auto-detection</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11"></a><a href="#__codelineno-24-11"><span class="linenos" data-linenos="11 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w">  </span><span class="c1"># Auto-detects project type and generates ASCII tree</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12"></a><a href="#__codelineno-24-12"><span class="linenos" data-linenos="12 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--output<span class="w"> </span>deps.svg<span class="w">  </span><span class="c1"># Generate SVG dependency graph</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13"></a><a href="#__codelineno-24-13"><span class="linenos" data-linenos="13 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--format<span class="w"> </span>html<span class="w"> </span>--output<span class="w"> </span>interactive.html<span class="w">  </span><span class="c1"># Interactive visualization</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14"></a><a href="#__codelineno-24-14"><span class="linenos" data-linenos="14 "></span></a>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15"></a><a href="#__codelineno-24-15"><span class="linenos" data-linenos="15 "></span></a><span class="c1"># Different aggregation levels</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16"></a><a href="#__codelineno-24-16"><span class="linenos" data-linenos="16 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--level<span class="w"> </span>file<span class="w">  </span><span class="c1"># Show all file dependencies (detailed)</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17"></a><a href="#__codelineno-24-17"><span class="linenos" data-linenos="17 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--level<span class="w"> </span>module<span class="w">  </span><span class="c1"># Aggregate by module (balanced)</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18"></a><a href="#__codelineno-24-18"><span class="linenos" data-linenos="18 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--level<span class="w"> </span>package<span class="w">  </span><span class="c1"># Show package architecture (high-level)</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19"></a><a href="#__codelineno-24-19"><span class="linenos" data-linenos="19 "></span></a>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20"></a><a href="#__codelineno-24-20"><span class="linenos" data-linenos="20 "></span></a><span class="c1"># Advanced visualization options</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21"></a><a href="#__codelineno-24-21"><span class="linenos" data-linenos="21 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--cluster-by<span class="w"> </span>directory<span class="w"> </span>--layout<span class="w"> </span>circular<span class="w">  </span><span class="c1"># Circular with clustering</span>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22"></a><a href="#__codelineno-24-22"><span class="linenos" data-linenos="22 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--max-nodes<span class="w"> </span><span class="m">100</span><span class="w"> </span>--format<span class="w"> </span>png<span class="w">  </span><span class="c1"># Limit to top 100 nodes</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23"></a><a href="#__codelineno-24-23"><span class="linenos" data-linenos="23 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>src/<span class="w"> </span>--include<span class="w"> </span><span class="s2">&quot;*.py&quot;</span><span class="w"> </span>--exclude<span class="w"> </span><span class="s2">&quot;*test*&quot;</span><span class="w">  </span><span class="c1"># Filter files</span>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24"></a><a href="#__codelineno-24-24"><span class="linenos" data-linenos="24 "></span></a>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25"></a><a href="#__codelineno-24-25"><span class="linenos" data-linenos="25 "></span></a><span class="c1"># Export formats</span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26"></a><a href="#__codelineno-24-26"><span class="linenos" data-linenos="26 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--format<span class="w"> </span>dot<span class="w"> </span>--output<span class="w"> </span>graph.dot<span class="w">  </span><span class="c1"># Graphviz DOT for further processing</span>
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27"></a><a href="#__codelineno-24-27"><span class="linenos" data-linenos="27 "></span></a>tenets<span class="w"> </span>viz<span class="w"> </span>deps<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>--output<span class="w"> </span>data.json<span class="w">  </span><span class="c1"># Raw JSON for custom tools</span>
</span></code></pre></div><h3 id="performance-optimizations">Performance Optimizations<a class="headerlink" href="#performance-optimizations" title="Link to this section">&para;</a></h3><ul><li><strong>Lazy Loading</strong>: Large code sections load on-demand</li><li><strong>Virtual Scrolling</strong>: Efficient rendering of long file lists</li><li><strong>Minified Assets</strong>: Compressed CSS and JavaScript</li><li><strong>Inline Resources</strong>: No external dependencies for offline viewing</li></ul><h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Link to this section">&para;</a></h2><p>Tenets represents a fundamental shift in how developers interact with their codebases when working with AI. By combining sophisticated NLP/ML techniques with traditional code analysis, git mining, and intelligent caching, we've created a system that truly understands code in context.</p><p>The architecture is designed to be:</p><ul><li><strong>Performant</strong>: Sub-second responses for most operations</li><li><strong>Scalable</strong>: From small projects to massive monorepos</li><li><strong>Extensible</strong>: Plugin system for custom logic</li><li><strong>Private</strong>: Everything runs locally</li><li><strong>Intelligent</strong>: Advanced ML when available</li><li><strong>Practical</strong>: Works today, improves tomorrow</li></ul><h3 id="key-architectural-strengths">Key Architectural Strengths<a class="headerlink" href="#key-architectural-strengths" title="Link to this section">&para;</a></h3><ol><li><strong>Multi-Modal Intelligence</strong>: Combines semantic understanding, structural analysis, and historical context</li><li><strong>Progressive Enhancement</strong>: Works with minimal dependencies, scales with available resources</li><li><strong>Local-First Privacy</strong>: Complete data sovereignty and security</li><li><strong>Configurable Ranking</strong>: Every factor can be tuned for specific use cases</li><li><strong>Streaming Performance</strong>: Results available as soon as possible</li><li><strong>Intelligent Caching</strong>: Multiple cache levels with smart invalidation</li><li><strong>Extensible Design</strong>: Plugin architecture for custom functionality</li></ol><p>The future of code intelligence is local, intelligent, and developer-centric. Tenets embodies this vision while remaining practical and immediately useful for development teams of any size.</p><aside class="md-source-file"><span class="md-source-file__fact"><span class="md-icon" title="Last update"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="September 3, 2025 17:14:48 UTC"><span class="timeago" datetime="2025-09-03T17:14:48+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="September 3, 2025 17:14:48 UTC">2025-09-03</span></span><span class="md-source-file__fact"><span class="md-icon" title="Created"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="August 8, 2025 16:53:30 UTC"><span class="timeago" datetime="2025-08-08T16:53:30+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="August 8, 2025 16:53:30 UTC">2025-08-08</span></span></aside></article></div><script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button type="button" class="md-top md-icon" data-md-component="top" hidden><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button></main><footer class="md-footer victorian-footer"><div class="footer-content"><div class="footer-grid"><div class="footer-brand"><div class="footer-logo-container"><img src="../logos/tenets_dark_icon_transparent.png" alt="Tenets" class="footer-logo dark-logo" loading="lazy"><img src="../logos/tenets_light_icon_transparent.png" alt="Tenets" class="footer-logo light-logo" loading="lazy"><div class="footer-brand-text"><h4>tenets</h4><div class="footer-tagline">Context that feeds your prompts</div></div></div><p class="footer-description"> Intelligent code aggregation and analysis for modern development. Built with obsessive attention to detail by manic.agency. </p><div class="social-links"><a href="https://github.com/jddunn/tenets" class="social-link" title="GitHub" target="_blank" rel="noopener"><svg viewbox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a><a href="https://discord.gg/DzNgXdYm" class="social-link" title="Discord" target="_blank" rel="noopener"><svg viewbox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/></svg></a><a href="https://twitter.com/manicagency" class="social-link" title="Twitter" target="_blank" rel="noopener"><svg viewbox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a></div></div><div class="footer-column"><h5>Documentation</h5><ul><li><a href="quickstart/">Quick Start</a></li><li><a href="installation/">Installation</a></li><li><a href="features/">Features</a></li><li><a href="CLI/">CLI Reference</a></li><li><a href="CONFIG/">Configuration</a></li></ul></div><div class="footer-column"><h5>Resources</h5><ul><li><a href="https://github.com/jddunn/tenets" target="_blank" rel="noopener">GitHub</a></li><li><a href="https://pypi.org/project/tenets/" target="_blank" rel="noopener">PyPI</a></li><li><a href="https://discord.gg/DzNgXdYm" target="_blank" rel="noopener">Discord</a></li><li><a href="https://github.com/jddunn/tenets/issues" target="_blank" rel="noopener">Issues</a></li></ul></div><div class="footer-column"><h5>Development sponsored by manic.agency</h5><ul><li><a href="https://manic.agency" target="_blank" rel="noopener">Website</a></li><li><a href="https://manic.agency/blog" target="_blank" rel="noopener">Blog</a></li><li><a href="https://manic.agency/about" target="_blank" rel="noopener">About</a></li><li><a href="mailto:team@manic.agency">Contact</a></li></ul></div><div class="footer-column"><h5>Project Status</h5><div class="badge-showcase"><div class="badge-item"><img src="https://img.shields.io/pypi/v/tenets.svg" alt="PyPI version"></div><div class="badge-item"><img src="https://github.com/jddunn/tenets/actions/workflows/ci.yml/badge.svg" alt="CI"></div><div class="badge-item"><img src="https://codecov.io/gh/jddunn/tenets/branch/main/graph/badge.svg" alt="Coverage"></div><div class="badge-item"><img src="https://img.shields.io/github/license/jddunn/tenets.svg" alt="License"></div></div></div></div></div><div class="footer-bottom"><div class="footer-bottom-content"><div class="footer-copyright"> © 2024 <a href="https://jddunn.github.io" target="_blank" rel="noopener">Johnny Dunn</a> | MIT License </div><div class="footer-links"><a href="https://github.com/jddunn/tenets/blob/main/LICENSE" target="_blank" rel="noopener">License</a><a href="https://github.com/jddunn/tenets/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing</a><a href="https://github.com/jddunn/tenets/security" target="_blank" rel="noopener">Security</a></div></div></div></footer><footer class="md-footer"><nav class="md-footer__inner md-grid" aria-label="Footer"><a href="../examples/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Examples"><div class="md-footer__button md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></div><div class="md-footer__title"><span class="md-footer__direction"> Previous </span><div class="md-ellipsis"> Examples </div></div></a><a href="../api/" class="md-footer__link md-footer__link--next" aria-label="Next: API Docs"><div class="md-footer__title"><span class="md-footer__direction"> Next </span><div class="md-ellipsis"> API Docs </div></div><div class="md-footer__button md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div></a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-copyright"><div class="md-copyright__highlight"> Copyright &copy; 2024-2025 <a href="https://jddunn.github.io" target="_blank" rel="noopener">Johnny Dunn</a></div></div><div class="md-social"><a href="https://github.com/jddunn/tenets" target="_blank" rel="noopener" title="Tenets on GitHub" class="md-social__link"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></a><a href="https://discord.gg/DzNgXdYm" target="_blank" rel="noopener" title="Join our Discord" class="md-social__link"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg></a><a href="https://pypi.org/project/tenets/" target="_blank" rel="noopener" title="Tenets on PyPI" class="md-social__link"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg></a></div></div></div></footer></div><div class="md-dialog" data-md-component="dialog"><div class="md-dialog__inner md-typeset"></div></div><div class="md-progress" data-md-component="progress" role="progressbar"></div><script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script><script src="../assets/javascripts/bundle.92b07e13.min.js"></script><script src="../js/timeago.min.js"></script><script src="../js/timeago_mkdocs_material.js"></script><script src="../js/main.js"></script><script src="../js/page-flags.js"></script><script src="../js/theme-toggle.js"></script><script src="../js/terminal.js"></script><script src="../js/mobile-menu.js"></script><script src="../js/copy-buttons.js"></script><script src="../js/back-to-top.js"></script><script src="../js/image-modal.js"></script><script src="../js/lantern.js"></script><script src="../js/architecture-diagram.js"></script><script src="../js/see-it-in-action.js"></script><script src="https://unpkg.com/@phosphor-icons/web@2.0.3/src/index.js"></script></body></html>