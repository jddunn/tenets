<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Deep dive into Tenets core systems, algorithms, and processing pipelines"><meta name="author" content="Johnny Dunn"><link rel="canonical" href="https://tenets.dev/dev/architecture/core_systems/"><link rel="prev" href="../overview/"><link rel="next" href="../data_storage/"><link rel="icon" href="../../favicon/favicon.ico"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>Core Systems - Tenets</title><link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css"><link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css"><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.5%201.75v11.5c0%20.138.112.25.25.25h3.17a.75.75%200%200%201%200%201.5H2.75A1.75%201.75%200%200%201%201%2013.25V1.75C1%20.784%201.784%200%202.75%200h8.5C12.216%200%2013%20.784%2013%201.75v7.736a.75.75%200%200%201-1.5%200V1.75a.25.25%200%200%200-.25-.25h-8.5a.25.25%200%200%200-.25.25m13.274%209.537zl-4.557%204.45a.75.75%200%200%201-1.055-.008l-1.943-1.95a.75.75%200%200%201%201.062-1.058l1.419%201.425%204.026-3.932a.75.75%200%201%201%201.048%201.074M4.75%204h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M4%207.75A.75.75%200%200%201%204.75%207h2a.75.75%200%200%201%200%201.5h-2A.75.75%200%200%201%204%207.75%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M3.499.75a.75.75%200%200%201%201.5%200v.996C5.9%202.903%206.793%203.65%207.662%204.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873%2010.794-.045%2012.622.26%2014.408.558%2016%201.94%2016%204.25c0%201.278-.954%202.575-2.44%202.734l.146.508.065.22c.203.701.412%201.455.476%202.226.142%201.707-.4%203.03-1.487%203.898C11.714%2014.671%2010.27%2015%208.75%2015h-6a.75.75%200%200%201%200-1.5h1.376a4.5%204.5%200%200%201-.563-1.191%203.84%203.84%200%200%201-.05-2.063%204.65%204.65%200%200%201-2.025-.293.75.75%200%200%201%20.525-1.406c1.357.507%202.376-.006%202.698-.318l.009-.01a.747.747%200%200%201%201.06%200%20.75.75%200%200%201-.012%201.074c-.912.92-.992%201.835-.768%202.586.221.74.745%201.337%201.196%201.621H8.75c1.343%200%202.398-.296%203.074-.836.635-.507%201.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4%202.4%200%200%201-.507-.441%203.1%203.1%200%200%201-.633-1.248.75.75%200%200%201%201.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738%200%201.25-.615%201.25-1.25%200-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706%201.345-.46.92-.27%201.774.019%203.062l.042.19.01.05c.348.443.666.949.94%201.553a.75.75%200%201%201-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7%205.527c-.814-.68-1.75-1.462-2.692-2.619a3.7%203.7%200%200%200-1.023.88c-.406.495-.663%201.036-.722%201.508.116.122.306.21.591.239.388.038.797-.06%201.032-.19a.75.75%200%200%201%20.728%201.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75%205.677V5.5c0-.984.48-1.94%201.077-2.664.46-.559%201.05-1.055%201.673-1.353z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style><link rel="stylesheet" href="../../css/timeago.css"><link rel="stylesheet" href="../../assets/_mkdocstrings.css"><link rel="stylesheet" href="../../styles/variables.css"><link rel="stylesheet" href="../../styles/main.css"><link rel="stylesheet" href="../../styles/architecture.css"><link rel="stylesheet" href="../../styles/animations.css"><link rel="stylesheet" href="../../styles/victorian.css"><link rel="stylesheet" href="../../styles/neumorphic.css"><link rel="stylesheet" href="../../styles/header.css"><link rel="stylesheet" href="../../styles/footer.css"><link rel="stylesheet" href="../../styles/buttons.css"><link rel="stylesheet" href="../../styles/cards.css"><link rel="stylesheet" href="../../styles/hero.css"><link rel="stylesheet" href="../../styles/terminal.css"><link rel="stylesheet" href="../../styles/back-to-top.css"><link rel="stylesheet" href="../../styles/see-it-in-action.css"><link rel="stylesheet" href="../../styles/search.css"><link rel="stylesheet" href="../../styles/image-modal.css"><link rel="stylesheet" href="../../styles/mobile.css"><link rel="stylesheet" href="../../styles/overrides.css"><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta name="description" content="Deep dive into Tenets core systems, algorithms, and processing pipelines"><meta name="keywords" content="tenets, code context, AI programming, LLM tools, developer tools"><meta name="author" content="Johnny Dunn, manic.agency"><meta property="og:title" content="Core Systems - Tenets"><meta property="og:description" content="Deep dive into Tenets core systems, algorithms, and processing pipelines"><meta property="og:type" content="website"><meta property="og:url" content="https://tenets.dev/dev/architecture/core_systems/"><meta property="og:image" content="https://tenets.dev/dev/logos/tenets_dark_icon_transparent_cropped.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Core Systems - Tenets"><meta name="twitter:description" content="Deep dive into Tenets core systems, algorithms, and processing pipelines"><meta name="twitter:image" content="https://tenets.dev/dev/logos/tenets_dark_icon_transparent_cropped.png"><meta name="twitter:site" content="@manicagency"><meta name="twitter:creator" content="@manicagency"><link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png"><link rel="manifest" href="../../favicon/site.webmanifest"><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Tenets",
    "description": "Context that feeds your prompts - Intelligent code exploration and AI pair programming tool",
    "url": "https://tenets.dev",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Windows, macOS, Linux",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Organization",
      "name": "manic.agency",
      "url": "https://manic.agency"
    }
  }
  </script></head><body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="amber"><input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"><input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"><label class="md-overlay" for="__drawer"></label><div data-md-component="skip"><a href="#core-systems-architecture" class="md-skip"> Skip to content </a></div><div data-md-component="announce"></div><header class="md-header md-header--shadow md-header--lifted" data-md-component="header"><nav class="md-header__inner md-grid" aria-label="Header"><a href="../.." title="Tenets" class="md-header__button md-logo" aria-label="Tenets" data-md-component="logo"><a href="../.." title="Tenets" class="md-header__button md-logo" aria-label="Home"><img src="../../logos/tenets_dark_icon_transparent.png" alt="Tenets" class="dark-logo" loading="lazy"><img src="../../logos/tenets_light_icon_transparent.png" alt="Tenets" class="light-logo" loading="lazy"></a></a><label class="md-header__button md-icon" for="__drawer"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class="md-header__title" data-md-component="header-title"><div class="md-header__ellipsis"><div class="md-header__topic"><span class="md-ellipsis"> Tenets </span></div><div class="md-header__topic" data-md-component="header-topic"><span class="md-ellipsis"> Core Systems </span></div></div></div><form class="md-header__option" data-md-component="palette"><input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="amber" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"><label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg></label><input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="amber" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"><label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for="__search"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required><label class="md-search__icon md-icon" for="__search"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav class="md-search__options" aria-label="Search"><a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text data-md-component="search-share" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg></a><button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav><div class="md-search__suggest" data-md-component="search-suggest"></div></form><div class="md-search__output"><div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix><div class="md-search-result" data-md-component="search-result"><div class="md-search-result__meta"> Initializing search </div><ol class="md-search-result__list" role="presentation"></ol></div></div></div></div></div><div class="md-header__source"><a href="https://github.com/jddunn/tenets" title="Go to repository" class="md-source" data-md-component="source"><div class="md-source__icon md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div><div class="md-source__repository"> jddunn/tenets </div></a></div></nav><nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"><div class="md-grid"><ul class="md-tabs__list"><li class="md-tabs__item"><a href="../../quickstart/" class="md-tabs__link"> Getting Started </a></li><li class="md-tabs__item"><a href="../../cli.md" class="md-tabs__link"> User Guide </a></li><li class="md-tabs__item md-tabs__item--active"><a href="../" class="md-tabs__link"> Architecture </a></li><li class="md-tabs__item"><a href="../../api/index.md" class="md-tabs__link"> API Reference </a></li><li class="md-tabs__item"><a href="https://manic.agency/blog" class="md-tabs__link"> Blog </a></li><li class="md-tabs__item"><a href="https://manic.agency/contact" class="md-tabs__link"> Contact </a></li></ul></div></nav></header><div class="md-container" data-md-component="container"><main class="md-main" data-md-component="main"><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0"><label class="md-nav__title" for="__drawer"><a href="../.." title="Tenets" class="md-nav__button md-logo" aria-label="Tenets" data-md-component="logo"><a href="../.." title="Tenets" class="md-header__button md-logo" aria-label="Home"><img src="../../logos/tenets_dark_icon_transparent.png" alt="Tenets" class="dark-logo" loading="lazy"><img src="../../logos/tenets_light_icon_transparent.png" alt="Tenets" class="light-logo" loading="lazy"></a></a> Tenets </label><div class="md-nav__source"><a href="https://github.com/jddunn/tenets" title="Go to repository" class="md-source" data-md-component="source"><div class="md-source__icon md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></div><div class="md-source__repository"> jddunn/tenets </div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href="../../quickstart/" class="md-nav__link"><span class="md-ellipsis"> Getting Started </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href="../../cli.md" class="md-nav__link"><span class="md-ellipsis"> User Guide </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked><div class="md-nav__link md-nav__container"><a href="../" class="md-nav__link "><span class="md-ellipsis"> Architecture </span></a><label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex><span class="md-nav__icon md-icon"></span></label></div><nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true"><label class="md-nav__title" for="__nav_3"><span class="md-nav__icon md-icon"></span> Architecture </label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../overview/" class="md-nav__link"><span class="md-ellipsis"> System Overview </span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc"><span class="md-ellipsis"> Core Systems </span><span class="md-nav__icon md-icon"></span></label><a href="./" class="md-nav__link md-nav__link--active"><span class="md-ellipsis"> Core Systems </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class="md-nav__title" for="__toc"><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class="md-nav__list" data-md-component="toc" data-md-scrollfix><li class="md-nav__item"><a href="#overview" class="md-nav__link"><span class="md-ellipsis"> Overview </span></a></li><li class="md-nav__item"><a href="#system-flow--pipeline" class="md-nav__link"><span class="md-ellipsis"> System Flow &amp; Pipeline </span></a></li><li class="md-nav__item"><a href="#nlpml-pipeline-architecture" class="md-nav__link"><span class="md-ellipsis"> NLP/ML Pipeline Architecture </span></a><nav class="md-nav" aria-label="NLP/ML Pipeline Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#pipeline-component-flow" class="md-nav__link"><span class="md-ellipsis"> Pipeline Component Flow </span></a></li><li class="md-nav__item"><a href="#tokenization-strategy" class="md-nav__link"><span class="md-ellipsis"> Tokenization Strategy </span></a></li><li class="md-nav__item"><a href="#embedding-models" class="md-nav__link"><span class="md-ellipsis"> Embedding Models </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#file-discovery--scanning-system" class="md-nav__link"><span class="md-ellipsis"> File Discovery &amp; Scanning System </span></a><nav class="md-nav" aria-label="File Discovery & Scanning System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#scanner-architecture" class="md-nav__link"><span class="md-ellipsis"> Scanner Architecture </span></a></li><li class="md-nav__item"><a href="#binary-detection-strategy" class="md-nav__link"><span class="md-ellipsis"> Binary Detection Strategy </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#1-ranking-system-deep-dive" class="md-nav__link"><span class="md-ellipsis"> 1. Ranking System Deep Dive </span></a><nav class="md-nav" aria-label="1. Ranking System Deep Dive"><ul class="md-nav__list"><li class="md-nav__item"><a href="#ranking-algorithms" class="md-nav__link"><span class="md-ellipsis"> Ranking Algorithms </span></a></li><li class="md-nav__item"><a href="#multi-factor-ranking-architecture" class="md-nav__link"><span class="md-ellipsis"> Multi-Factor Ranking Architecture </span></a></li><li class="md-nav__item"><a href="#ranking-factors-explained" class="md-nav__link"><span class="md-ellipsis"> Ranking Factors Explained </span></a></li><li class="md-nav__item"><a href="#ranking-strategy-selection" class="md-nav__link"><span class="md-ellipsis"> Ranking Strategy Selection </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#2-analysis-engine-architecture" class="md-nav__link"><span class="md-ellipsis"> 2. Analysis Engine Architecture </span></a><nav class="md-nav" aria-label="2. Analysis Engine Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#language-analyzer-system" class="md-nav__link"><span class="md-ellipsis"> Language Analyzer System </span></a></li><li class="md-nav__item"><a href="#complexity-analysis-deep-dive" class="md-nav__link"><span class="md-ellipsis"> Complexity Analysis Deep Dive </span></a></li><li class="md-nav__item"><a href="#ranking-factor-details" class="md-nav__link"><span class="md-ellipsis"> Ranking Factor Details </span></a></li><li class="md-nav__item"><a href="#dependency-analysis" class="md-nav__link"><span class="md-ellipsis"> Dependency Analysis </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#3-summarization-system" class="md-nav__link"><span class="md-ellipsis"> 3. Summarization System </span></a><nav class="md-nav" aria-label="3. Summarization System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#summarization-strategies" class="md-nav__link"><span class="md-ellipsis"> Summarization Strategies </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#4-context-optimization--token-management" class="md-nav__link"><span class="md-ellipsis"> 4. Context Optimization &amp; Token Management </span></a><nav class="md-nav" aria-label="4. Context Optimization & Token Management"><ul class="md-nav__list"><li class="md-nav__item"><a href="#token-budget-allocation" class="md-nav__link"><span class="md-ellipsis"> Token Budget Allocation </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#5-caching--performance-architecture" class="md-nav__link"><span class="md-ellipsis"> 5. Caching &amp; Performance Architecture </span></a><nav class="md-nav" aria-label="5. Caching & Performance Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#cache-hierarchy" class="md-nav__link"><span class="md-ellipsis"> Cache Hierarchy </span></a></li><li class="md-nav__item"><a href="#cache-invalidation-strategy" class="md-nav__link"><span class="md-ellipsis"> Cache Invalidation Strategy </span></a></li><li class="md-nav__item"><a href="#prompt-parsing--understanding" class="md-nav__link"><span class="md-ellipsis"> Prompt Parsing &amp; Understanding </span></a></li><li class="md-nav__item"><a href="#performance-optimizations" class="md-nav__link"><span class="md-ellipsis"> Performance Optimizations </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#5-session-management--state" class="md-nav__link"><span class="md-ellipsis"> 5. Session Management &amp; State </span></a><nav class="md-nav" aria-label="5. Session Management & State"><ul class="md-nav__list"><li class="md-nav__item"><a href="#session-architecture" class="md-nav__link"><span class="md-ellipsis"> Session Architecture </span></a></li><li class="md-nav__item"><a href="#tenets-system" class="md-nav__link"><span class="md-ellipsis"> Tenets System </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#integration--extension-points" class="md-nav__link"><span class="md-ellipsis"> Integration &amp; Extension Points </span></a><nav class="md-nav" aria-label="Integration & Extension Points"><ul class="md-nav__list"><li class="md-nav__item"><a href="#custom-analyzers" class="md-nav__link"><span class="md-ellipsis"> Custom Analyzers </span></a></li><li class="md-nav__item"><a href="#custom-ranking-factors" class="md-nav__link"><span class="md-ellipsis"> Custom Ranking Factors </span></a></li><li class="md-nav__item"><a href="#plugin-system" class="md-nav__link"><span class="md-ellipsis"> Plugin System </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#performance-characteristics" class="md-nav__link"><span class="md-ellipsis"> Performance Characteristics </span></a><nav class="md-nav" aria-label="Performance Characteristics"><ul class="md-nav__list"><li class="md-nav__item"><a href="#typical-performance-on-modern-hardware" class="md-nav__link"><span class="md-ellipsis"> Typical Performance (on modern hardware) </span></a></li><li class="md-nav__item"><a href="#memory-usage" class="md-nav__link"><span class="md-ellipsis"> Memory Usage </span></a></li><li class="md-nav__item"><a href="#scalability-limits" class="md-nav__link"><span class="md-ellipsis"> Scalability Limits </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#language-analyzer-architecture" class="md-nav__link"><span class="md-ellipsis"> Language Analyzer Architecture </span></a><nav class="md-nav" aria-label="Language Analyzer Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#analyzer-system-overview" class="md-nav__link"><span class="md-ellipsis"> Analyzer System Overview </span></a></li><li class="md-nav__item"><a href="#python-analyzer-deep-dive" class="md-nav__link"><span class="md-ellipsis"> Python Analyzer Deep Dive </span></a></li><li class="md-nav__item"><a href="#language-support-matrix" class="md-nav__link"><span class="md-ellipsis"> Language Support Matrix </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../data_storage/" class="md-nav__link"><span class="md-ellipsis"> Data & Storage </span></a></li><li class="md-nav__item"><a href="../integration/" class="md-nav__link"><span class="md-ellipsis"> Integration & APIs </span></a></li><li class="md-nav__item"><a href="../performance/" class="md-nav__link"><span class="md-ellipsis"> Performance </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href="../../api/index.md" class="md-nav__link"><span class="md-ellipsis"> API Reference </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item"><a href="https://manic.agency/blog" class="md-nav__link"><span class="md-ellipsis"> Blog </span></a></li><li class="md-nav__item"><a href="https://manic.agency/contact" class="md-nav__link"><span class="md-ellipsis"> Contact </span></a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class="md-nav__title" for="__toc"><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class="md-nav__list" data-md-component="toc" data-md-scrollfix><li class="md-nav__item"><a href="#overview" class="md-nav__link"><span class="md-ellipsis"> Overview </span></a></li><li class="md-nav__item"><a href="#system-flow--pipeline" class="md-nav__link"><span class="md-ellipsis"> System Flow &amp; Pipeline </span></a></li><li class="md-nav__item"><a href="#nlpml-pipeline-architecture" class="md-nav__link"><span class="md-ellipsis"> NLP/ML Pipeline Architecture </span></a><nav class="md-nav" aria-label="NLP/ML Pipeline Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#pipeline-component-flow" class="md-nav__link"><span class="md-ellipsis"> Pipeline Component Flow </span></a></li><li class="md-nav__item"><a href="#tokenization-strategy" class="md-nav__link"><span class="md-ellipsis"> Tokenization Strategy </span></a></li><li class="md-nav__item"><a href="#embedding-models" class="md-nav__link"><span class="md-ellipsis"> Embedding Models </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#file-discovery--scanning-system" class="md-nav__link"><span class="md-ellipsis"> File Discovery &amp; Scanning System </span></a><nav class="md-nav" aria-label="File Discovery & Scanning System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#scanner-architecture" class="md-nav__link"><span class="md-ellipsis"> Scanner Architecture </span></a></li><li class="md-nav__item"><a href="#binary-detection-strategy" class="md-nav__link"><span class="md-ellipsis"> Binary Detection Strategy </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#1-ranking-system-deep-dive" class="md-nav__link"><span class="md-ellipsis"> 1. Ranking System Deep Dive </span></a><nav class="md-nav" aria-label="1. Ranking System Deep Dive"><ul class="md-nav__list"><li class="md-nav__item"><a href="#ranking-algorithms" class="md-nav__link"><span class="md-ellipsis"> Ranking Algorithms </span></a></li><li class="md-nav__item"><a href="#multi-factor-ranking-architecture" class="md-nav__link"><span class="md-ellipsis"> Multi-Factor Ranking Architecture </span></a></li><li class="md-nav__item"><a href="#ranking-factors-explained" class="md-nav__link"><span class="md-ellipsis"> Ranking Factors Explained </span></a></li><li class="md-nav__item"><a href="#ranking-strategy-selection" class="md-nav__link"><span class="md-ellipsis"> Ranking Strategy Selection </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#2-analysis-engine-architecture" class="md-nav__link"><span class="md-ellipsis"> 2. Analysis Engine Architecture </span></a><nav class="md-nav" aria-label="2. Analysis Engine Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#language-analyzer-system" class="md-nav__link"><span class="md-ellipsis"> Language Analyzer System </span></a></li><li class="md-nav__item"><a href="#complexity-analysis-deep-dive" class="md-nav__link"><span class="md-ellipsis"> Complexity Analysis Deep Dive </span></a></li><li class="md-nav__item"><a href="#ranking-factor-details" class="md-nav__link"><span class="md-ellipsis"> Ranking Factor Details </span></a></li><li class="md-nav__item"><a href="#dependency-analysis" class="md-nav__link"><span class="md-ellipsis"> Dependency Analysis </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#3-summarization-system" class="md-nav__link"><span class="md-ellipsis"> 3. Summarization System </span></a><nav class="md-nav" aria-label="3. Summarization System"><ul class="md-nav__list"><li class="md-nav__item"><a href="#summarization-strategies" class="md-nav__link"><span class="md-ellipsis"> Summarization Strategies </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#4-context-optimization--token-management" class="md-nav__link"><span class="md-ellipsis"> 4. Context Optimization &amp; Token Management </span></a><nav class="md-nav" aria-label="4. Context Optimization & Token Management"><ul class="md-nav__list"><li class="md-nav__item"><a href="#token-budget-allocation" class="md-nav__link"><span class="md-ellipsis"> Token Budget Allocation </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#5-caching--performance-architecture" class="md-nav__link"><span class="md-ellipsis"> 5. Caching &amp; Performance Architecture </span></a><nav class="md-nav" aria-label="5. Caching & Performance Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#cache-hierarchy" class="md-nav__link"><span class="md-ellipsis"> Cache Hierarchy </span></a></li><li class="md-nav__item"><a href="#cache-invalidation-strategy" class="md-nav__link"><span class="md-ellipsis"> Cache Invalidation Strategy </span></a></li><li class="md-nav__item"><a href="#prompt-parsing--understanding" class="md-nav__link"><span class="md-ellipsis"> Prompt Parsing &amp; Understanding </span></a></li><li class="md-nav__item"><a href="#performance-optimizations" class="md-nav__link"><span class="md-ellipsis"> Performance Optimizations </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#5-session-management--state" class="md-nav__link"><span class="md-ellipsis"> 5. Session Management &amp; State </span></a><nav class="md-nav" aria-label="5. Session Management & State"><ul class="md-nav__list"><li class="md-nav__item"><a href="#session-architecture" class="md-nav__link"><span class="md-ellipsis"> Session Architecture </span></a></li><li class="md-nav__item"><a href="#tenets-system" class="md-nav__link"><span class="md-ellipsis"> Tenets System </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#integration--extension-points" class="md-nav__link"><span class="md-ellipsis"> Integration &amp; Extension Points </span></a><nav class="md-nav" aria-label="Integration & Extension Points"><ul class="md-nav__list"><li class="md-nav__item"><a href="#custom-analyzers" class="md-nav__link"><span class="md-ellipsis"> Custom Analyzers </span></a></li><li class="md-nav__item"><a href="#custom-ranking-factors" class="md-nav__link"><span class="md-ellipsis"> Custom Ranking Factors </span></a></li><li class="md-nav__item"><a href="#plugin-system" class="md-nav__link"><span class="md-ellipsis"> Plugin System </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#performance-characteristics" class="md-nav__link"><span class="md-ellipsis"> Performance Characteristics </span></a><nav class="md-nav" aria-label="Performance Characteristics"><ul class="md-nav__list"><li class="md-nav__item"><a href="#typical-performance-on-modern-hardware" class="md-nav__link"><span class="md-ellipsis"> Typical Performance (on modern hardware) </span></a></li><li class="md-nav__item"><a href="#memory-usage" class="md-nav__link"><span class="md-ellipsis"> Memory Usage </span></a></li><li class="md-nav__item"><a href="#scalability-limits" class="md-nav__link"><span class="md-ellipsis"> Scalability Limits </span></a></li></ul></nav></li><li class="md-nav__item"><a href="#language-analyzer-architecture" class="md-nav__link"><span class="md-ellipsis"> Language Analyzer Architecture </span></a><nav class="md-nav" aria-label="Language Analyzer Architecture"><ul class="md-nav__list"><li class="md-nav__item"><a href="#analyzer-system-overview" class="md-nav__link"><span class="md-ellipsis"> Analyzer System Overview </span></a></li><li class="md-nav__item"><a href="#python-analyzer-deep-dive" class="md-nav__link"><span class="md-ellipsis"> Python Analyzer Deep Dive </span></a></li><li class="md-nav__item"><a href="#language-support-matrix" class="md-nav__link"><span class="md-ellipsis"> Language Support Matrix </span></a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content" data-md-component="content"><article class="md-content__inner md-typeset"><h1 id="core-systems-architecture">Core Systems Architecture<a class="headerlink" href="#core-systems-architecture" title="Link to this section">&para;</a></h1><h2 id="overview">Overview<a class="headerlink" href="#overview" title="Link to this section">&para;</a></h2><p>Tenets is built around a sophisticated, multi-layered architecture that transforms raw code into intelligent, contextual insights. At its heart, the system uses advanced ranking algorithms, comprehensive code analysis, and intelligent caching to provide developers with exactly the right context at exactly the right time.</p><h2 id="system-flow--pipeline">System Flow &amp; Pipeline<a class="headerlink" href="#system-flow--pipeline" title="Link to this section">&para;</a></h2><p>The entire Tenets system follows a carefully orchestrated pipeline:</p><pre class="mermaid"><code>graph TB
    A[User Input] --&gt; B[Prompt Parser]
    B --&gt; C[Intent Detection]
    C --&gt; D[File Discovery Engine]
    D --&gt; E[Language-Specific Analysis]
    E --&gt; F[Multi-Factor Ranking]
    F --&gt; G[Token Optimization]
    G --&gt; H[Context Assembly]
    H --&gt; I[Output Formatting]

    subgraph "Analysis Pipeline"
        E1[Static Analysis]
        E2[Complexity Analysis]
        E3[Git History Analysis]
        E4[Dependency Analysis]
        E5[Pattern Recognition]
    end

    subgraph "Ranking Pipeline"
        F1[TF-IDF Scoring]
        F2[BM25 Relevance]
        F3[Semantic Similarity]
        F4[Git Signals]
        F5[File Characteristics]
        F6[Project Structure]
    end

    E --&gt; E1
    E --&gt; E2
    E --&gt; E3
    E --&gt; E4
    E --&gt; E5

    F --&gt; F1
    F --&gt; F2
    F --&gt; F3
    F --&gt; F4
    F --&gt; F5
    F --&gt; F6

    style A fill:#e1f5fe
    style I fill:#e8f5e8
    style E fill:#fff3e0
    style F fill:#fce4ec</code></pre><h2 id="nlpml-pipeline-architecture">NLP/ML Pipeline Architecture<a class="headerlink" href="#nlpml-pipeline-architecture" title="Link to this section">&para;</a></h2><p>The NLP/ML pipeline powers Tenets' semantic understanding capabilities, enabling intelligent keyword extraction, similarity matching, and context-aware ranking.</p><h3 id="pipeline-component-flow">Pipeline Component Flow<a class="headerlink" href="#pipeline-component-flow" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Input Processing"
        INPUT[Raw Text Input]
        PROMPT[User Prompt]
        CODE[Code Content]
    end

    subgraph "Tokenization Layer"
        CODE_TOK[Code Tokenizer&lt;br/&gt;camelCase, snake_case]
        TEXT_TOK[Text Tokenizer&lt;br/&gt;NLP processing]
    end

    subgraph "Keyword Extraction"
        YAKE_EXT[YAKE Extractor&lt;br/&gt;Statistical]
        TFIDF_EXT[TF-IDF Extractor&lt;br/&gt;Frequency-based]
        FREQ_EXT[Frequency Extractor&lt;br/&gt;Fallback]
    end

    subgraph "Embedding Generation"
        LOCAL_EMB[Local Embeddings&lt;br/&gt;sentence-transformers]
        MODEL_SEL[Model Selection&lt;br/&gt;MiniLM, MPNet]
        FALLBACK[TF-IDF Fallback&lt;br/&gt;No ML required]
    end

    subgraph "Similarity Computing"
        COSINE[Cosine Similarity]
        BATCH[Batch Processing]
        CACHE[Result Caching]
    end

    INPUT --&gt; CODE_TOK
    INPUT --&gt; TEXT_TOK
    PROMPT --&gt; TEXT_TOK
    CODE --&gt; CODE_TOK

    CODE_TOK --&gt; YAKE_EXT
    TEXT_TOK --&gt; YAKE_EXT
    YAKE_EXT --&gt; TFIDF_EXT
    TFIDF_EXT --&gt; FREQ_EXT

    FREQ_EXT --&gt; LOCAL_EMB
    LOCAL_EMB --&gt; MODEL_SEL
    MODEL_SEL --&gt; FALLBACK

    FALLBACK --&gt; COSINE
    COSINE --&gt; BATCH
    BATCH --&gt; CACHE

    style INPUT fill:#e1f5fe
    style CACHE fill:#e8f5e8</code></pre><h3 id="tokenization-strategy">Tokenization Strategy<a class="headerlink" href="#tokenization-strategy" title="Link to this section">&para;</a></h3><p>Tenets uses specialized tokenizers for different content types:</p><h4 id="code-tokenizer">Code Tokenizer<a class="headerlink" href="#code-tokenizer" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">CodeTokenizer</span><span class="p">:</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos="2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles programming language tokens.&quot;&quot;&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos="3 "></span></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos="4 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos="5 "></span></a>        <span class="c1"># Split on camelCase: &#39;getUserName&#39; → [&#39;get&#39;, &#39;User&#39;, &#39;Name&#39;]</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><a href="#__codelineno-0-6"><span class="linenos" data-linenos="6 "></span></a>        <span class="c1"># Split on snake_case: &#39;get_user_name&#39; → [&#39;get&#39;, &#39;user&#39;, &#39;name&#39;]</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><a href="#__codelineno-0-7"><span class="linenos" data-linenos="7 "></span></a>        <span class="c1"># Split on kebab-case: &#39;get-user-name&#39; → [&#39;get&#39;, &#39;user&#39;, &#39;name&#39;]</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><a href="#__codelineno-0-8"><span class="linenos" data-linenos="8 "></span></a>        <span class="c1"># Preserve special tokens: &#39;__init__&#39;, &#39;UTF-8&#39;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><a href="#__codelineno-0-9"><span class="linenos" data-linenos="9 "></span></a>        <span class="c1"># Handle operators: &#39;++&#39;, &#39;==&#39;, &#39;!=&#39;</span>
</span></code></pre></div><h4 id="stopword-management">Stopword Management<a class="headerlink" href="#stopword-management" title="Link to this section">&para;</a></h4><ul><li><strong>Code Stopwords</strong>: Minimal set (~30 words) - 'function', 'class', 'return'</li><li><strong>Prompt Stopwords</strong>: Aggressive filtering (~200+ words) - common English words</li><li><strong>Context-Aware</strong>: Different stopword sets for different operations</li></ul><h3 id="embedding-models">Embedding Models<a class="headerlink" href="#embedding-models" title="Link to this section">&para;</a></h3><table><thead><tr><th>Model</th><th>Size</th><th>Speed</th><th>Quality</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>all-MiniLM-L6-v2</strong></td><td>90MB</td><td>Fastest</td><td>Good</td><td>Default, quick searches</td></tr><tr><td><strong>all-MiniLM-L12-v2</strong></td><td>120MB</td><td>Fast</td><td>Better</td><td>Balanced performance</td></tr><tr><td><strong>all-mpnet-base-v2</strong></td><td>420MB</td><td>Moderate</td><td>Best</td><td>Thorough mode</td></tr><tr><td><strong>multi-qa-MiniLM</strong></td><td>90MB</td><td>Fast</td><td>Specialized</td><td>Q&amp;A optimized tasks</td></tr></tbody></table><p>The system automatically selects models based on: - Available memory - Task complexity - User configuration - Performance requirements</p><h2 id="file-discovery--scanning-system">File Discovery &amp; Scanning System<a class="headerlink" href="#file-discovery--scanning-system" title="Link to this section">&para;</a></h2><p>The file discovery system efficiently traverses codebases of any size, applying intelligent filtering and parallel processing.</p><h3 id="scanner-architecture">Scanner Architecture<a class="headerlink" href="#scanner-architecture" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TD
    subgraph "Entry Points"
        ROOT[Project Root]
        PATHS[Specified Paths]
        PATTERNS[Include Patterns]
    end

    subgraph "Ignore System Hierarchy"
        CLI[CLI Arguments&lt;br/&gt;Highest Priority]
        TENETS[.tenetsignore]
        GIT[.gitignore]
        GLOBAL[Global Ignores&lt;br/&gt;Lowest Priority]
    end

    subgraph "Detection Systems"
        BINARY[Binary Detection]
        SIZE[Size Check&lt;br/&gt;Max 10MB]
        CONTENT[Content Analysis]
    end

    subgraph "Parallel Processing"
        QUEUE[Work Queue]
        WORKERS[Thread Pool]
        PROGRESS[Progress Tracking]
    end

    ROOT --&gt; CLI
    PATHS --&gt; CLI
    PATTERNS --&gt; CLI

    CLI --&gt; TENETS
    TENETS --&gt; GIT
    GIT --&gt; GLOBAL

    GLOBAL --&gt; BINARY
    BINARY --&gt; SIZE
    SIZE --&gt; CONTENT

    CONTENT --&gt; QUEUE
    QUEUE --&gt; WORKERS
    WORKERS --&gt; PROGRESS

    style ROOT fill:#e1f5fe
    style PROGRESS fill:#e8f5e8</code></pre><h3 id="binary-detection-strategy">Binary Detection Strategy<a class="headerlink" href="#binary-detection-strategy" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>flowchart TD
    FILE[Input File] --&gt; EXT{Known Binary&lt;br/&gt;Extension?}
    EXT --&gt;|Yes| BINARY[Mark as Binary]
    EXT --&gt;|No| SIZE{Size &gt; 10MB?}
    SIZE --&gt;|Yes| SKIP[Skip File]
    SIZE --&gt;|No| SAMPLE[Sample First 8KB]
    SAMPLE --&gt; NULL{Contains&lt;br/&gt;Null Bytes?}
    NULL --&gt;|Yes| BINARY
    NULL --&gt;|No| RATIO[Calculate Text Ratio]
    RATIO --&gt; THRESHOLD{&gt;95%&lt;br/&gt;Printable?}
    THRESHOLD --&gt;|Yes| TEXT[Mark as Text]
    THRESHOLD --&gt;|No| BINARY
    TEXT --&gt; ANALYZE[Ready for Analysis]
    BINARY --&gt; IGNORE[Skip Analysis]
    SKIP --&gt; IGNORE</code></pre><h2 id="1-ranking-system-deep-dive">1. Ranking System Deep Dive<a class="headerlink" href="#1-ranking-system-deep-dive" title="Link to this section">&para;</a></h2><p>The ranking system (<code>tenets.core.ranking</code>) is the intelligence core of Tenets, using multiple sophisticated algorithms to determine file relevance.</p><h3 id="ranking-algorithms">Ranking Algorithms<a class="headerlink" href="#ranking-algorithms" title="Link to this section">&para;</a></h3><h4 id="fast-algorithm-fastrankingstrategy">Fast Algorithm (<code>FastRankingStrategy</code>)<a class="headerlink" href="#fast-algorithm-fastrankingstrategy" title="Link to this section">&para;</a></h4><ul><li><strong>Use Case</strong>: Quick exploration, CI/CD, large codebases</li><li><strong>Speed</strong>: Sub-second on most projects</li><li><strong>Factors</strong>: Keyword matching, path analysis, file size heuristics</li><li><strong>Accuracy</strong>: Good for obvious relevance matches</li></ul><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><a href="#__codelineno-1-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Fast algorithm priorities:</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><a href="#__codelineno-1-2"><span class="linenos" data-linenos="2 "></span></a><span class="mf">1.</span> <span class="n">Exact</span> <span class="n">keyword</span> <span class="n">matches</span> <span class="ow">in</span> <span class="n">filename</span><span class="o">/</span><span class="n">path</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><a href="#__codelineno-1-3"><span class="linenos" data-linenos="3 "></span></a><span class="mf">2.</span> <span class="n">File</span> <span class="n">extension</span> <span class="n">relevance</span> <span class="n">to</span> <span class="n">prompt</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><a href="#__codelineno-1-4"><span class="linenos" data-linenos="4 "></span></a><span class="mf">3.</span> <span class="n">Directory</span> <span class="n">importance</span> <span class="p">(</span><span class="n">src</span><span class="o">/</span> <span class="o">&gt;</span> <span class="n">tests</span><span class="o">/</span><span class="p">)</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><a href="#__codelineno-1-5"><span class="linenos" data-linenos="5 "></span></a><span class="mf">4.</span> <span class="n">Recent</span> <span class="n">modification</span> <span class="n">time</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a><a href="#__codelineno-1-6"><span class="linenos" data-linenos="6 "></span></a><span class="mf">5.</span> <span class="n">File</span> <span class="n">size</span> <span class="p">(</span><span class="n">prefer</span> <span class="n">moderate</span> <span class="n">sizes</span><span class="p">)</span>
</span></code></pre></div><h4 id="balanced-algorithm-balancedrankingstrategy---default">Balanced Algorithm (<code>BalancedRankingStrategy</code>) - <strong>Default</strong><a class="headerlink" href="#balanced-algorithm-balancedrankingstrategy---default" title="Link to this section">&para;</a></h4><ul><li><strong>Use Case</strong>: Daily development, general context building</li><li><strong>Speed</strong>: 1-3 seconds on typical projects</li><li><strong>Factors</strong>: TF-IDF, BM25, basic git signals, structural analysis</li><li><strong>Accuracy</strong>: High for most development tasks</li></ul><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><a href="#__codelineno-2-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Balanced algorithm combines:</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a><a href="#__codelineno-2-2"><span class="linenos" data-linenos="2 "></span></a><span class="o">-</span> <span class="n">TF</span><span class="o">-</span><span class="n">IDF</span> <span class="n">relevance</span> <span class="n">scoring</span> <span class="p">(</span><span class="mi">40</span><span class="o">%</span> <span class="n">weight</span><span class="p">)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><a href="#__codelineno-2-3"><span class="linenos" data-linenos="3 "></span></a><span class="o">-</span> <span class="n">BM25</span> <span class="n">document</span> <span class="n">ranking</span> <span class="p">(</span><span class="mi">30</span><span class="o">%</span> <span class="n">weight</span><span class="p">)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a><a href="#__codelineno-2-4"><span class="linenos" data-linenos="4 "></span></a><span class="o">-</span> <span class="n">Git</span> <span class="n">activity</span> <span class="n">signals</span> <span class="p">(</span><span class="mi">15</span><span class="o">%</span> <span class="n">weight</span><span class="p">)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a><a href="#__codelineno-2-5"><span class="linenos" data-linenos="5 "></span></a><span class="o">-</span> <span class="n">File</span> <span class="n">structure</span> <span class="n">analysis</span> <span class="p">(</span><span class="mi">15</span><span class="o">%</span> <span class="n">weight</span><span class="p">)</span>
</span></code></pre></div><h4 id="thorough-algorithm-thoroughrankingstrategy">Thorough Algorithm (<code>ThoroughRankingStrategy</code>)<a class="headerlink" href="#thorough-algorithm-thoroughrankingstrategy" title="Link to this section">&para;</a></h4><ul><li><strong>Use Case</strong>: Complex refactoring, architecture reviews, debugging</li><li><strong>Speed</strong>: 3-10 seconds depending on codebase</li><li><strong>Factors</strong>: ML semantic similarity, dependency graphs, pattern analysis</li><li><strong>Accuracy</strong>: Highest, finds subtle relevance connections</li></ul><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><a href="#__codelineno-3-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Thorough algorithm includes:</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a><a href="#__codelineno-3-2"><span class="linenos" data-linenos="2 "></span></a><span class="o">-</span> <span class="n">Semantic</span> <span class="n">similarity</span> <span class="n">via</span> <span class="n">embeddings</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a><a href="#__codelineno-3-3"><span class="linenos" data-linenos="3 "></span></a><span class="o">-</span> <span class="n">Complex</span> <span class="n">dependency</span> <span class="n">analysis</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a><a href="#__codelineno-3-4"><span class="linenos" data-linenos="4 "></span></a><span class="o">-</span> <span class="n">Code</span> <span class="n">pattern</span> <span class="n">recognition</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a><a href="#__codelineno-3-5"><span class="linenos" data-linenos="5 "></span></a><span class="o">-</span> <span class="n">Cross</span><span class="o">-</span><span class="n">reference</span> <span class="n">analysis</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a><a href="#__codelineno-3-6"><span class="linenos" data-linenos="6 "></span></a><span class="o">-</span> <span class="n">Advanced</span> <span class="n">git</span> <span class="n">history</span> <span class="n">mining</span>
</span></code></pre></div><h3 id="multi-factor-ranking-architecture">Multi-Factor Ranking Architecture<a class="headerlink" href="#multi-factor-ranking-architecture" title="Link to this section">&para;</a></h3><p>The ranking system combines multiple signals to determine file relevance:</p><pre class="mermaid"><code>graph TD
    subgraph "Ranking Strategies"
        FAST[Fast Strategy&lt;br/&gt;~10ms/file&lt;br/&gt;Keywords + Path]
        BALANCED[Balanced Strategy&lt;br/&gt;~50ms/file&lt;br/&gt;TF-IDF + Structure]
        THOROUGH[Thorough Strategy&lt;br/&gt;~200ms/file&lt;br/&gt;Deep Analysis + ML]
    end

    subgraph "Core Ranking Factors"
        SEM[Semantic Similarity&lt;br/&gt;25% weight]
        TEXT[Text Matching&lt;br/&gt;30% weight]
        STRUCT[Code Structure&lt;br/&gt;20% weight]
        GIT[Git Signals&lt;br/&gt;15% weight]
        FILE[File Characteristics&lt;br/&gt;10% weight]
    end

    subgraph "Scoring Engine"
        COMBINE[Weighted Combination]
        NORMALIZE[Score Normalization]
        FILTER[Threshold Filtering]
        RANK[Final Rankings]
    end

    FAST --&gt; TEXT
    BALANCED --&gt; STRUCT
    THOROUGH --&gt; SEM

    SEM --&gt; COMBINE
    TEXT --&gt; COMBINE
    STRUCT --&gt; COMBINE
    GIT --&gt; COMBINE
    FILE --&gt; COMBINE

    COMBINE --&gt; NORMALIZE
    NORMALIZE --&gt; FILTER
    FILTER --&gt; RANK

    style FAST fill:#90caf9
    style BALANCED fill:#a5d6a7
    style THOROUGH fill:#ffab91</code></pre><h3 id="ranking-factors-explained">Ranking Factors Explained<a class="headerlink" href="#ranking-factors-explained" title="Link to this section">&para;</a></h3><h4 id="1-tf-idf-term-frequency-inverse-document-frequency">1. <strong>TF-IDF (Term Frequency-Inverse Document Frequency)</strong><a class="headerlink" href="#1-tf-idf-term-frequency-inverse-document-frequency" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><a href="#__codelineno-4-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">TFIDFCalculator</span><span class="p">:</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><a href="#__codelineno-4-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_relevance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">,</span> <span class="n">query_terms</span><span class="p">,</span> <span class="n">corpus</span><span class="p">):</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a><a href="#__codelineno-4-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><a href="#__codelineno-4-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        TF-IDF measures how important a word is in a document</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a><a href="#__codelineno-4-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">        relative to a collection of documents (corpus).</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><a href="#__codelineno-4-6"><span class="linenos" data-linenos=" 6 "></span></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a><a href="#__codelineno-4-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        TF = (term frequency in doc) / (total terms in doc)</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a><a href="#__codelineno-4-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        IDF = log(total docs / docs containing term)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><a href="#__codelineno-4-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        TF-IDF = TF × IDF</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a><a href="#__codelineno-4-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><p><strong>Example</strong>: If your prompt is "authentication login", files with these terms will score higher, but common terms like "function" get lower weights.</p><h4 id="2-bm25-best-matching-25">2. <strong>BM25 (Best Matching 25)</strong><a class="headerlink" href="#2-bm25-best-matching-25" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><a href="#__codelineno-5-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">BM25Calculator</span><span class="p">:</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a><a href="#__codelineno-5-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">score</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">document</span><span class="p">):</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a><a href="#__codelineno-5-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4"></a><a href="#__codelineno-5-4"><span class="linenos" data-linenos="4 "></span></a><span class="sd">        BM25 is a probabilistic ranking function that improves</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5"></a><a href="#__codelineno-5-5"><span class="linenos" data-linenos="5 "></span></a><span class="sd">        on TF-IDF by considering document length normalization</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6"></a><a href="#__codelineno-5-6"><span class="linenos" data-linenos="6 "></span></a><span class="sd">        and term saturation.</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7"></a><a href="#__codelineno-5-7"><span class="linenos" data-linenos="7 "></span></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8"></a><a href="#__codelineno-5-8"><span class="linenos" data-linenos="8 "></span></a><span class="sd">        More sophisticated than TF-IDF for search relevance.</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9"></a><a href="#__codelineno-5-9"><span class="linenos" data-linenos="9 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><p><strong>Use Case</strong>: Better handles documents of varying lengths and prevents over-weighting of term repetition.</p><h4 id="3-git-activity-signals">3. <strong>Git Activity Signals</strong><a class="headerlink" href="#3-git-activity-signals" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><a href="#__codelineno-6-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">GitRankingFactor</span><span class="p">:</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a><a href="#__codelineno-6-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_git_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><a href="#__codelineno-6-3"><span class="linenos" data-linenos="3 "></span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><a href="#__codelineno-6-4"><span class="linenos" data-linenos="4 "></span></a>            <span class="s1">&#39;recent_commits&#39;</span><span class="p">:</span> <span class="n">recent_commit_count</span><span class="p">,</span>      <span class="c1"># Files changed recently</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><a href="#__codelineno-6-5"><span class="linenos" data-linenos="5 "></span></a>            <span class="s1">&#39;commit_frequency&#39;</span><span class="p">:</span> <span class="n">historical_changes</span><span class="p">,</span>     <span class="c1"># Frequently modified files</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6"></a><a href="#__codelineno-6-6"><span class="linenos" data-linenos="6 "></span></a>            <span class="s1">&#39;author_diversity&#39;</span><span class="p">:</span> <span class="n">unique_contributors</span><span class="p">,</span>    <span class="c1"># Files many people work on</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7"></a><a href="#__codelineno-6-7"><span class="linenos" data-linenos="7 "></span></a>            <span class="s1">&#39;recency_score&#39;</span><span class="p">:</span> <span class="n">days_since_last_change</span><span class="p">,</span>   <span class="c1"># How fresh is the file</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8"></a><a href="#__codelineno-6-8"><span class="linenos" data-linenos="8 "></span></a>            <span class="s1">&#39;blame_distribution&#39;</span><span class="p">:</span> <span class="n">line_ownership</span><span class="p">,</span>      <span class="c1"># Code ownership patterns</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9"></a><a href="#__codelineno-6-9"><span class="linenos" data-linenos="9 "></span></a>        <span class="p">}</span>
</span></code></pre></div><p><strong>Why This Matters</strong>: Recently changed files are more likely relevant to current work. Files with many contributors often contain core logic.</p><h4 id="4-structural-analysis-factors">4. <strong>Structural Analysis Factors</strong><a class="headerlink" href="#4-structural-analysis-factors" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a><a href="#__codelineno-7-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">StructuralRankingFactor</span><span class="p">:</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2"></a><a href="#__codelineno-7-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">analyze_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_analysis</span><span class="p">):</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3"></a><a href="#__codelineno-7-3"><span class="linenos" data-linenos="3 "></span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4"></a><a href="#__codelineno-7-4"><span class="linenos" data-linenos="4 "></span></a>            <span class="s1">&#39;complexity_score&#39;</span><span class="p">:</span> <span class="n">cyclomatic_complexity</span><span class="p">,</span>   <span class="c1"># Code complexity</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5"></a><a href="#__codelineno-7-5"><span class="linenos" data-linenos="5 "></span></a>            <span class="s1">&#39;import_centrality&#39;</span><span class="p">:</span> <span class="n">incoming_references</span><span class="p">,</span>    <span class="c1"># How many files import this</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6"></a><a href="#__codelineno-7-6"><span class="linenos" data-linenos="6 "></span></a>            <span class="s1">&#39;export_richness&#39;</span><span class="p">:</span> <span class="n">outgoing_dependencies</span><span class="p">,</span>    <span class="c1"># What this file provides</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7"></a><a href="#__codelineno-7-7"><span class="linenos" data-linenos="7 "></span></a>            <span class="s1">&#39;directory_importance&#39;</span><span class="p">:</span> <span class="n">path_significance</span><span class="p">,</span>    <span class="c1"># /src vs /tests importance</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8"></a><a href="#__codelineno-7-8"><span class="linenos" data-linenos="8 "></span></a>            <span class="s1">&#39;file_role&#39;</span><span class="p">:</span> <span class="n">detected_file_type</span><span class="p">,</span>            <span class="c1"># Config, model, util, etc.</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9"></a><a href="#__codelineno-7-9"><span class="linenos" data-linenos="9 "></span></a>        <span class="p">}</span>
</span></code></pre></div><h3 id="ranking-strategy-selection">Ranking Strategy Selection<a class="headerlink" href="#ranking-strategy-selection" title="Link to this section">&para;</a></h3><p>The system intelligently selects strategies based on context:</p><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><a href="#__codelineno-8-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">select_strategy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">PromptContext</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">TenetsConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RankingStrategy</span><span class="p">:</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a><a href="#__codelineno-8-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a><a href="#__codelineno-8-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="sd">    Auto-select the best strategy based on:</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a><a href="#__codelineno-8-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">    - Codebase size</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5"></a><a href="#__codelineno-8-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">    - Available dependencies</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6"></a><a href="#__codelineno-8-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">    - User preferences</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7"></a><a href="#__codelineno-8-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">    - Time constraints</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8"></a><a href="#__codelineno-8-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9"></a><a href="#__codelineno-8-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">ranking</span><span class="o">.</span><span class="n">algorithm</span> <span class="o">==</span> <span class="s2">&quot;auto&quot;</span><span class="p">:</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10"></a><a href="#__codelineno-8-10"><span class="linenos" data-linenos="10 "></span></a>        <span class="k">if</span> <span class="n">file_count</span> <span class="o">&gt;</span> <span class="mi">10000</span><span class="p">:</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11"></a><a href="#__codelineno-8-11"><span class="linenos" data-linenos="11 "></span></a>            <span class="k">return</span> <span class="n">FastRankingStrategy</span><span class="p">()</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12"></a><a href="#__codelineno-8-12"><span class="linenos" data-linenos="12 "></span></a>        <span class="k">elif</span> <span class="n">has_ml_dependencies</span> <span class="ow">and</span> <span class="n">context</span><span class="o">.</span><span class="n">complexity_level</span> <span class="o">==</span> <span class="s2">&quot;high&quot;</span><span class="p">:</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13"></a><a href="#__codelineno-8-13"><span class="linenos" data-linenos="13 "></span></a>            <span class="k">return</span> <span class="n">ThoroughRankingStrategy</span><span class="p">()</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14"></a><a href="#__codelineno-8-14"><span class="linenos" data-linenos="14 "></span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15"></a><a href="#__codelineno-8-15"><span class="linenos" data-linenos="15 "></span></a>            <span class="k">return</span> <span class="n">BalancedRankingStrategy</span><span class="p">()</span>
</span></code></pre></div><h2 id="2-analysis-engine-architecture">2. Analysis Engine Architecture<a class="headerlink" href="#2-analysis-engine-architecture" title="Link to this section">&para;</a></h2><p>The analysis engine (<code>tenets.core.analysis</code>) provides deep code understanding through language-specific parsers and cross-language analysis.</p><h3 id="language-analyzer-system">Language Analyzer System<a class="headerlink" href="#language-analyzer-system" title="Link to this section">&para;</a></h3><h4 id="analyzer-architecture">Analyzer Architecture<a class="headerlink" href="#analyzer-architecture" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a><a href="#__codelineno-9-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">LanguageAnalyzer</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2"></a><a href="#__codelineno-9-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all language-specific analyzers&quot;&quot;&quot;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3"></a><a href="#__codelineno-9-3"><span class="linenos" data-linenos=" 3 "></span></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4"></a><a href="#__codelineno-9-4"><span class="linenos" data-linenos=" 4 "></span></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5"></a><a href="#__codelineno-9-5"><span class="linenos" data-linenos=" 5 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">analyze_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeStructure</span><span class="p">:</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6"></a><a href="#__codelineno-9-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract functions, classes, imports, etc.&quot;&quot;&quot;</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7"></a><a href="#__codelineno-9-7"><span class="linenos" data-linenos=" 7 "></span></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8"></a><a href="#__codelineno-9-8"><span class="linenos" data-linenos=" 8 "></span></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9"></a><a href="#__codelineno-9-9"><span class="linenos" data-linenos=" 9 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_complexity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComplexityMetrics</span><span class="p">:</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10"></a><a href="#__codelineno-9-10"><span class="linenos" data-linenos="10 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate cyclomatic complexity, maintainability index&quot;&quot;&quot;</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11"></a><a href="#__codelineno-9-11"><span class="linenos" data-linenos="11 "></span></a>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12"></a><a href="#__codelineno-9-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13"></a><a href="#__codelineno-9-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">extract_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ImportInfo</span><span class="p">]:</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14"></a><a href="#__codelineno-9-14"><span class="linenos" data-linenos="14 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Find imports, requires, includes&quot;&quot;&quot;</span>
</span></code></pre></div><h4 id="supported-languages--features">Supported Languages &amp; Features<a class="headerlink" href="#supported-languages--features" title="Link to this section">&para;</a></h4><table><thead><tr><th>Language</th><th>Parser</th><th>Complexity</th><th>Dependencies</th><th>AST Analysis</th><th>Special Features</th></tr></thead><tbody><tr><td><strong>Python</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ imports, from</td><td>✅ Full</td><td>Decorators, async/await</td></tr><tr><td><strong>JavaScript/TypeScript</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ import/require</td><td>✅ Full</td><td>React components, Node.js</td></tr><tr><td><strong>Java</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ import, package</td><td>✅ Full</td><td>Annotations, Spring</td></tr><tr><td><strong>C#</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ using, namespace</td><td>✅ Full</td><td>Attributes, LINQ</td></tr><tr><td><strong>Go</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ import, package</td><td>✅ Full</td><td>Goroutines, interfaces</td></tr><tr><td><strong>Rust</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ use, extern</td><td>✅ Full</td><td>Traits, lifetimes</td></tr><tr><td><strong>C++</strong></td><td>Regex+</td><td>✅ Basic</td><td>✅ #include</td><td>Partial</td><td>Headers, namespaces</td></tr><tr><td><strong>Ruby</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ require, gem</td><td>✅ Full</td><td>Gems, Rails detection</td></tr><tr><td><strong>PHP</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ require, use</td><td>✅ Full</td><td>Composer, namespaces</td></tr><tr><td><strong>Kotlin</strong></td><td>Full AST</td><td>✅ CC, MI</td><td>✅ import, package</td><td>✅ Full</td><td>Coroutines, DSLs</td></tr></tbody></table><p><em>CC = Cyclomatic Complexity, MI = Maintainability Index</em></p><h3 id="complexity-analysis-deep-dive">Complexity Analysis Deep Dive<a class="headerlink" href="#complexity-analysis-deep-dive" title="Link to this section">&para;</a></h3><h4 id="cyclomatic-complexity">Cyclomatic Complexity<a class="headerlink" href="#cyclomatic-complexity" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><a href="#__codelineno-10-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_cyclomatic_complexity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a><a href="#__codelineno-10-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3"></a><a href="#__codelineno-10-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="sd">    Measures the number of linearly independent paths through code.</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4"></a><a href="#__codelineno-10-4"><span class="linenos" data-linenos=" 4 "></span></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5"></a><a href="#__codelineno-10-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">    Decision points that increase complexity:</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6"></a><a href="#__codelineno-10-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">    - if/elif statements</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7"></a><a href="#__codelineno-10-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">    - for/while loops</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8"></a><a href="#__codelineno-10-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">    - try/catch blocks</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9"></a><a href="#__codelineno-10-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">    - switch/case statements</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10"></a><a href="#__codelineno-10-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">    - logical operators (&amp;&amp;, ||)</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11"></a><a href="#__codelineno-10-11"><span class="linenos" data-linenos="11 "></span></a><span class="sd">    - ternary operators</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12"></a><a href="#__codelineno-10-12"><span class="linenos" data-linenos="12 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13"></a><a href="#__codelineno-10-13"><span class="linenos" data-linenos="13 "></span></a>    <span class="n">complexity</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Base complexity</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14"></a><a href="#__codelineno-10-14"><span class="linenos" data-linenos="14 "></span></a>    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">ast</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15"></a><a href="#__codelineno-10-15"><span class="linenos" data-linenos="15 "></span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">If</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">For</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">While</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">ExceptHandler</span><span class="p">)):</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16"></a><a href="#__codelineno-10-16"><span class="linenos" data-linenos="16 "></span></a>            <span class="n">complexity</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17"></a><a href="#__codelineno-10-17"><span class="linenos" data-linenos="17 "></span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">BoolOp</span><span class="p">):</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18"></a><a href="#__codelineno-10-18"><span class="linenos" data-linenos="18 "></span></a>            <span class="n">complexity</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19"></a><a href="#__codelineno-10-19"><span class="linenos" data-linenos="19 "></span></a>    <span class="k">return</span> <span class="n">complexity</span>
</span></code></pre></div><p><strong>Complexity Levels:</strong> - 1-10: Simple, low risk - 11-20: Moderate complexity - 21-50: High complexity, refactor recommended - 50+: Very high risk, immediate attention needed</p><h4 id="maintainability-index">Maintainability Index<a class="headerlink" href="#maintainability-index" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><a href="#__codelineno-11-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_maintainability_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metrics</span><span class="p">):</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2"></a><a href="#__codelineno-11-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3"></a><a href="#__codelineno-11-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="sd">    MI = 171 - 5.2 * ln(HV) - 0.23 * CC - 16.2 * ln(LOC)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4"></a><a href="#__codelineno-11-4"><span class="linenos" data-linenos=" 4 "></span></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5"></a><a href="#__codelineno-11-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">    Where:</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6"></a><a href="#__codelineno-11-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">    - HV = Halstead Volume (operators + operands)</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7"></a><a href="#__codelineno-11-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">    - CC = Cyclomatic Complexity</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8"></a><a href="#__codelineno-11-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">    - LOC = Lines of Code</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9"></a><a href="#__codelineno-11-9"><span class="linenos" data-linenos=" 9 "></span></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10"></a><a href="#__codelineno-11-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">    Scale: 0-100 (higher is more maintainable)</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11"></a><a href="#__codelineno-11-11"><span class="linenos" data-linenos="11 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span></code></pre></div><p><strong>MI Interpretation:</strong> - 85-100: Excellent maintainability - 70-85: Good maintainability - 50-70: Moderate maintainability - 25-50: Below average, needs attention - 0-25: Difficult to maintain</p><h3 id="ranking-factor-details">Ranking Factor Details<a class="headerlink" href="#ranking-factor-details" title="Link to this section">&para;</a></h3><table><thead><tr><th>Factor Category</th><th>Weight</th><th>Components</th><th>Description</th></tr></thead><tbody><tr><td><strong>Semantic Similarity</strong></td><td>25%</td><td>Embedding cosine similarity, contextual relevance</td><td>ML-based understanding of semantic meaning</td></tr><tr><td><strong>Text Matching</strong></td><td>30%</td><td>Keyword matches (15%), TF-IDF (15%)</td><td>Direct term matching and statistical relevance</td></tr><tr><td><strong>Code Structure</strong></td><td>20%</td><td>Import centrality (10%), path relevance (10%)</td><td>File importance in codebase architecture</td></tr><tr><td><strong>Git Signals</strong></td><td>15%</td><td>Recency (5%), frequency (5%), authors (5%)</td><td>Version control activity indicators</td></tr><tr><td><strong>File Characteristics</strong></td><td>10%</td><td>File type (5%), code patterns (5%)</td><td>Language and pattern-based relevance</td></tr></tbody></table><h3 id="dependency-analysis">Dependency Analysis<a class="headerlink" href="#dependency-analysis" title="Link to this section">&para;</a></h3><h4 id="import-graph-construction">Import Graph Construction<a class="headerlink" href="#import-graph-construction" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1"></a><a href="#__codelineno-12-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">DependencyAnalyzer</span><span class="p">:</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2"></a><a href="#__codelineno-12-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_files</span><span class="p">):</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3"></a><a href="#__codelineno-12-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4"></a><a href="#__codelineno-12-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Builds a directed graph of file dependencies:</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5"></a><a href="#__codelineno-12-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6"></a><a href="#__codelineno-12-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        1. Extract all imports/includes from each file</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7"></a><a href="#__codelineno-12-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        2. Resolve import paths to actual files</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8"></a><a href="#__codelineno-12-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        3. Create edges between dependent files</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9"></a><a href="#__codelineno-12-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        4. Calculate centrality metrics</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10"></a><a href="#__codelineno-12-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        5. Identify circular dependencies</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11"></a><a href="#__codelineno-12-11"><span class="linenos" data-linenos="11 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12"></a><a href="#__codelineno-12-12"><span class="linenos" data-linenos="12 "></span></a>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13"></a><a href="#__codelineno-12-13"><span class="linenos" data-linenos="13 "></span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14"></a><a href="#__codelineno-12-14"><span class="linenos" data-linenos="14 "></span></a>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15"></a><a href="#__codelineno-12-15"><span class="linenos" data-linenos="15 "></span></a>        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">project_files</span><span class="p">:</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16"></a><a href="#__codelineno-12-16"><span class="linenos" data-linenos="16 "></span></a>            <span class="n">imports</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_imports</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17"></a><a href="#__codelineno-12-17"><span class="linenos" data-linenos="17 "></span></a>            <span class="k">for</span> <span class="n">imp</span> <span class="ow">in</span> <span class="n">imports</span><span class="p">:</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18"></a><a href="#__codelineno-12-18"><span class="linenos" data-linenos="18 "></span></a>                <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_import_path</span><span class="p">(</span><span class="n">imp</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19"></a><a href="#__codelineno-12-19"><span class="linenos" data-linenos="19 "></span></a>                <span class="k">if</span> <span class="n">target</span><span class="p">:</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20"></a><a href="#__codelineno-12-20"><span class="linenos" data-linenos="20 "></span></a>                    <span class="n">graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">target</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21"></a><a href="#__codelineno-12-21"><span class="linenos" data-linenos="21 "></span></a>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22"></a><a href="#__codelineno-12-22"><span class="linenos" data-linenos="22 "></span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_centrality_metrics</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span></code></pre></div><h4 id="dependency-metrics">Dependency Metrics<a class="headerlink" href="#dependency-metrics" title="Link to this section">&para;</a></h4><p>The system calculates various centrality metrics to understand file importance:</p><pre class="mermaid"><code>graph LR
    subgraph "Centrality Metrics"
        IN[In-Degree&lt;br/&gt;Files importing this]
        OUT[Out-Degree&lt;br/&gt;Files imported]
        BETWEEN[Betweenness&lt;br/&gt;Bridge importance]
        PAGE[PageRank&lt;br/&gt;Link analysis]
    end

    subgraph "Analysis"
        CRITICAL[Critical Files&lt;br/&gt;High in-degree]
        HUBS[Hub Files&lt;br/&gt;High out-degree]
        BRIDGES[Bridge Files&lt;br/&gt;High betweenness]
        CENTRAL[Central Files&lt;br/&gt;High PageRank]
    end

    IN --&gt; CRITICAL
    OUT --&gt; HUBS
    BETWEEN --&gt; BRIDGES
    PAGE --&gt; CENTRAL

    style CRITICAL fill:#ffcdd2
    style CENTRAL fill:#c5e1a5</code></pre><ul><li><strong>In-Degree</strong>: Number of files that import this file (dependency count)</li><li><strong>Out-Degree</strong>: Number of files this file imports (dependency scope)</li><li><strong>Betweenness</strong>: How often this file appears in shortest paths between other files</li><li><strong>PageRank</strong>: Importance based on the importance of files that import it</li><li><strong>Clustering Coefficient</strong>: How connected this file's dependencies are to each other</li></ul><h2 id="3-summarization-system">3. Summarization System<a class="headerlink" href="#3-summarization-system" title="Link to this section">&para;</a></h2><p>When files exceed token limits, Tenets uses intelligent summarization to preserve the most important content.</p><h3 id="summarization-strategies">Summarization Strategies<a class="headerlink" href="#summarization-strategies" title="Link to this section">&para;</a></h3><h4 id="1-structural-preservation">1. <strong>Structural Preservation</strong><a class="headerlink" href="#1-structural-preservation" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a><a href="#__codelineno-13-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">StructuralSummarizer</span><span class="p">:</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2"></a><a href="#__codelineno-13-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">summarize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">target_size</span><span class="p">):</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3"></a><a href="#__codelineno-13-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4"></a><a href="#__codelineno-13-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Preserves code structure while reducing content:</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5"></a><a href="#__codelineno-13-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6"></a><a href="#__codelineno-13-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        Priority Order:</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7"></a><a href="#__codelineno-13-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        1. Function/class signatures (always keep)</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8"></a><a href="#__codelineno-13-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        2. Public API definitions</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9"></a><a href="#__codelineno-13-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        3. Complex logic blocks</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10"></a><a href="#__codelineno-13-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        4. Important comments/docstrings</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11"></a><a href="#__codelineno-13-11"><span class="linenos" data-linenos="11 "></span></a><span class="sd">        5. Configuration/constants</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12"></a><a href="#__codelineno-13-12"><span class="linenos" data-linenos="12 "></span></a><span class="sd">        6. Simple variable assignments (truncate)</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13"></a><a href="#__codelineno-13-13"><span class="linenos" data-linenos="13 "></span></a><span class="sd">        7. Repetitive code (remove)</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14"></a><a href="#__codelineno-13-14"><span class="linenos" data-linenos="14 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><h4 id="2-semantic-summarization-ml-mode">2. <strong>Semantic Summarization</strong> (ML mode)<a class="headerlink" href="#2-semantic-summarization-ml-mode" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a><a href="#__codelineno-14-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">SemanticSummarizer</span><span class="p">:</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2"></a><a href="#__codelineno-14-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">summarize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">target_size</span><span class="p">):</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3"></a><a href="#__codelineno-14-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4"></a><a href="#__codelineno-14-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Uses ML to understand semantic importance:</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5"></a><a href="#__codelineno-14-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6"></a><a href="#__codelineno-14-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        1. Split content into logical segments</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7"></a><a href="#__codelineno-14-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        2. Generate embeddings for each segment</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8"></a><a href="#__codelineno-14-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        3. Calculate relevance to user prompt</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9"></a><a href="#__codelineno-14-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        4. Rank segments by importance</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10"></a><a href="#__codelineno-14-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        5. Select top segments that fit token budget</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11"></a><a href="#__codelineno-14-11"><span class="linenos" data-linenos="11 "></span></a><span class="sd">        6. Maintain code coherence</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12"></a><a href="#__codelineno-14-12"><span class="linenos" data-linenos="12 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><h4 id="3-contextual-summarization">3. <strong>Contextual Summarization</strong><a class="headerlink" href="#3-contextual-summarization" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><a href="#__codelineno-15-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">ContextualSummarizer</span><span class="p">:</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2"></a><a href="#__codelineno-15-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">summarize_for_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_content</span><span class="p">,</span> <span class="n">prompt_context</span><span class="p">):</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3"></a><a href="#__codelineno-15-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4"></a><a href="#__codelineno-15-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Tailors summarization to specific prompt needs:</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5"></a><a href="#__codelineno-15-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6"></a><a href="#__codelineno-15-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        - &quot;debug bug&quot;: Keep error handling, logging</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7"></a><a href="#__codelineno-15-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        - &quot;add feature&quot;: Keep interfaces, extension points</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8"></a><a href="#__codelineno-15-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        - &quot;refactor&quot;: Keep complex logic, dependencies</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9"></a><a href="#__codelineno-15-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        - &quot;security&quot;: Keep authentication, validation</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10"></a><a href="#__codelineno-15-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><h2 id="4-context-optimization--token-management">4. Context Optimization &amp; Token Management<a class="headerlink" href="#4-context-optimization--token-management" title="Link to this section">&para;</a></h2><p>Tenets intelligently manages token budgets to maximize relevant context while staying within model limits.</p><h3 id="token-budget-allocation">Token Budget Allocation<a class="headerlink" href="#token-budget-allocation" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Token Budget"
        TOTAL[Total Token Limit]
        PROMPT[Prompt Reservation&lt;br/&gt;~2K tokens]
        RESPONSE[Response Buffer&lt;br/&gt;~4K tokens]
        CONTEXT[Available for Context]
    end

    subgraph "Optimization Strategy"
        RANK[Rank Files]
        SELECT[Select Top N]
        MEASURE[Measure Tokens]
        SUMMARIZE[Summarize if Needed]
    end

    subgraph "Content Priority"
        CRITICAL[Critical Files&lt;br/&gt;Always included]
        HIGH[High Relevance&lt;br/&gt;Full content]
        MEDIUM[Medium Relevance&lt;br/&gt;Summarized]
        LOW[Low Relevance&lt;br/&gt;Signatures only]
    end

    TOTAL --&gt; PROMPT
    TOTAL --&gt; RESPONSE
    TOTAL --&gt; CONTEXT

    CONTEXT --&gt; RANK
    RANK --&gt; SELECT
    SELECT --&gt; MEASURE
    MEASURE --&gt; SUMMARIZE

    SUMMARIZE --&gt; CRITICAL
    SUMMARIZE --&gt; HIGH
    SUMMARIZE --&gt; MEDIUM
    SUMMARIZE --&gt; LOW

    style TOTAL fill:#e1f5fe
    style CRITICAL fill:#ffcdd2</code></pre><h2 id="5-caching--performance-architecture">5. Caching &amp; Performance Architecture<a class="headerlink" href="#5-caching--performance-architecture" title="Link to this section">&para;</a></h2><p>Tenets uses sophisticated multi-level caching to provide instant responses after initial analysis.</p><h3 id="cache-hierarchy">Cache Hierarchy<a class="headerlink" href="#cache-hierarchy" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    A[Request] --&gt; B[Memory Cache]
    B --&gt;|Miss| C[SQLite Session DB]
    C --&gt;|Miss| D[File System Cache]
    D --&gt;|Miss| E[Analysis Pipeline]

    E --&gt; F[Store in File Cache]
    F --&gt; G[Store in SQLite]
    G --&gt; H[Store in Memory]
    H --&gt; I[Return Results]

    subgraph "Cache Types"
        J[Hot Data - Memory]
        K[Structured Data - SQLite]
        L[Analysis Results - Disk]
        M[Embeddings - Specialized]
    end

    style B fill:#ffeb3b
    style C fill:#4caf50
    style D fill:#2196f3
    style E fill:#ff5722</code></pre><h3 id="cache-invalidation-strategy">Cache Invalidation Strategy<a class="headerlink" href="#cache-invalidation-strategy" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><a href="#__codelineno-16-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">CacheManager</span><span class="p">:</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><a href="#__codelineno-16-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">should_invalidate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">cache_entry</span><span class="p">):</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a><a href="#__codelineno-16-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a><a href="#__codelineno-16-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Smart cache invalidation based on:</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a><a href="#__codelineno-16-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a><a href="#__codelineno-16-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        1. File modification time (mtime)</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a><a href="#__codelineno-16-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        2. Content hash changes (for accuracy)</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a><a href="#__codelineno-16-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        3. Git commit changes (for git-based signals)</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9"></a><a href="#__codelineno-16-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        4. Configuration changes (for ranking params)</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a><a href="#__codelineno-16-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        5. Dependency changes (for import analysis)</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a><a href="#__codelineno-16-11"><span class="linenos" data-linenos="11 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a><a href="#__codelineno-16-12"><span class="linenos" data-linenos="12 "></span></a>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a><a href="#__codelineno-16-13"><span class="linenos" data-linenos="13 "></span></a>        <span class="n">reasons</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14"></a><a href="#__codelineno-16-14"><span class="linenos" data-linenos="14 "></span></a>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15"></a><a href="#__codelineno-16-15"><span class="linenos" data-linenos="15 "></span></a>        <span class="k">if</span> <span class="n">file_path</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mtime</span> <span class="o">&gt;</span> <span class="n">cache_entry</span><span class="o">.</span><span class="n">mtime</span><span class="p">:</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16"></a><a href="#__codelineno-16-16"><span class="linenos" data-linenos="16 "></span></a>            <span class="n">reasons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;file_modified&quot;</span><span class="p">)</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17"></a><a href="#__codelineno-16-17"><span class="linenos" data-linenos="17 "></span></a>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18"></a><a href="#__codelineno-16-18"><span class="linenos" data-linenos="18 "></span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_content_hash</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="o">!=</span> <span class="n">cache_entry</span><span class="o">.</span><span class="n">content_hash</span><span class="p">:</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19"></a><a href="#__codelineno-16-19"><span class="linenos" data-linenos="19 "></span></a>            <span class="n">reasons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;content_changed&quot;</span><span class="p">)</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20"></a><a href="#__codelineno-16-20"><span class="linenos" data-linenos="20 "></span></a>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21"></a><a href="#__codelineno-16-21"><span class="linenos" data-linenos="21 "></span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_git_commit_hash</span><span class="p">()</span> <span class="o">!=</span> <span class="n">cache_entry</span><span class="o">.</span><span class="n">git_hash</span><span class="p">:</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22"></a><a href="#__codelineno-16-22"><span class="linenos" data-linenos="22 "></span></a>            <span class="n">reasons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;git_changed&quot;</span><span class="p">)</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23"></a><a href="#__codelineno-16-23"><span class="linenos" data-linenos="23 "></span></a>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24"></a><a href="#__codelineno-16-24"><span class="linenos" data-linenos="24 "></span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">reasons</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">reasons</span>
</span></code></pre></div><h3 id="prompt-parsing--understanding">Prompt Parsing &amp; Understanding<a class="headerlink" href="#prompt-parsing--understanding" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "Prompt Analysis"
        INPUT[User Prompt]
        INTENT[Intent Detection]
        KEYWORDS[Keyword Extraction]
        CONTEXT[Context Building]
    end

    subgraph "Intent Types"
        DEBUG[Debug/Fix&lt;br/&gt;Error handling focus]
        FEATURE[Feature/Add&lt;br/&gt;New functionality]
        REFACTOR[Refactor/Optimize&lt;br/&gt;Code improvement]
        EXPLORE[Explore/Understand&lt;br/&gt;Learning focus]
    end

    subgraph "Extraction Methods"
        YAKE[YAKE Algorithm&lt;br/&gt;Statistical extraction]
        TFIDF[TF-IDF&lt;br/&gt;Term importance]
        NER[Named Entity&lt;br/&gt;Code entities]
    end

    INPUT --&gt; INTENT
    INTENT --&gt; KEYWORDS
    KEYWORDS --&gt; CONTEXT

    INTENT --&gt; DEBUG
    INTENT --&gt; FEATURE
    INTENT --&gt; REFACTOR
    INTENT --&gt; EXPLORE

    KEYWORDS --&gt; YAKE
    KEYWORDS --&gt; TFIDF
    KEYWORDS --&gt; NER</code></pre><h3 id="performance-optimizations">Performance Optimizations<a class="headerlink" href="#performance-optimizations" title="Link to this section">&para;</a></h3><h4 id="parallel-processing">Parallel Processing<a class="headerlink" href="#parallel-processing" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><a href="#__codelineno-17-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">def</span><span class="w"> </span><span class="nf">analyze_files_parallel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">files</span><span class="p">,</span> <span class="n">max_workers</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a><a href="#__codelineno-17-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3"></a><a href="#__codelineno-17-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="sd">    Parallel analysis with intelligent work distribution:</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4"></a><a href="#__codelineno-17-4"><span class="linenos" data-linenos=" 4 "></span></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5"></a><a href="#__codelineno-17-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">    - Small files: Batch process in single thread</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6"></a><a href="#__codelineno-17-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">    - Large files: Individual threads</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7"></a><a href="#__codelineno-17-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">    - I/O bound: Higher thread count</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8"></a><a href="#__codelineno-17-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">    - CPU bound: Thread count = CPU cores</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9"></a><a href="#__codelineno-17-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10"></a><a href="#__codelineno-17-10"><span class="linenos" data-linenos="10 "></span></a>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11"></a><a href="#__codelineno-17-11"><span class="linenos" data-linenos="11 "></span></a>    <span class="k">with</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">optimal_worker_count</span><span class="p">())</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12"></a><a href="#__codelineno-17-12"><span class="linenos" data-linenos="12 "></span></a>        <span class="n">future_to_file</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13"></a><a href="#__codelineno-17-13"><span class="linenos" data-linenos="13 "></span></a>            <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analyze_file</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span> <span class="n">f</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14"></a><a href="#__codelineno-17-14"><span class="linenos" data-linenos="14 "></span></a>            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15"></a><a href="#__codelineno-17-15"><span class="linenos" data-linenos="15 "></span></a>        <span class="p">}</span>
</span></code></pre></div><h4 id="memory-management">Memory Management<a class="headerlink" href="#memory-management" title="Link to this section">&para;</a></h4><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1"></a><a href="#__codelineno-18-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">MemoryManager</span><span class="p">:</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2"></a><a href="#__codelineno-18-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">manage_analysis_memory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3"></a><a href="#__codelineno-18-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4"></a><a href="#__codelineno-18-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Prevents memory bloat during large project analysis:</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5"></a><a href="#__codelineno-18-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6"></a><a href="#__codelineno-18-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        1. Stream file processing (don&#39;t load all at once)</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7"></a><a href="#__codelineno-18-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        2. Release analysis objects after ranking</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8"></a><a href="#__codelineno-18-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        3. Use generators for large result sets</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9"></a><a href="#__codelineno-18-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        4. Monitor memory usage and trigger cleanup</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10"></a><a href="#__codelineno-18-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><h2 id="5-session-management--state">5. Session Management &amp; State<a class="headerlink" href="#5-session-management--state" title="Link to this section">&para;</a></h2><p>Sessions provide persistent context and configuration for project work.</p><h3 id="session-architecture">Session Architecture<a class="headerlink" href="#session-architecture" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1"></a><a href="#__codelineno-19-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">SessionManager</span><span class="p">:</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2"></a><a href="#__codelineno-19-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">project_path</span><span class="p">):</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3"></a><a href="#__codelineno-19-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4"></a><a href="#__codelineno-19-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Session contains:</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5"></a><a href="#__codelineno-19-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">        - Pinned files (guaranteed inclusion)</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6"></a><a href="#__codelineno-19-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        - Custom ranking weights</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7"></a><a href="#__codelineno-19-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        - Project-specific configuration</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8"></a><a href="#__codelineno-19-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        - Analysis cache keys</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9"></a><a href="#__codelineno-19-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        - Tenet definitions (guiding principles)</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10"></a><a href="#__codelineno-19-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11"></a><a href="#__codelineno-19-11"><span class="linenos" data-linenos="11 "></span></a>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12"></a><a href="#__codelineno-19-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">merge_contexts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_name</span><span class="p">,</span> <span class="n">new_context</span><span class="p">):</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13"></a><a href="#__codelineno-19-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14"></a><a href="#__codelineno-19-14"><span class="linenos" data-linenos="14 "></span></a><span class="sd">        Intelligently merge new analysis with existing session:</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15"></a><a href="#__codelineno-19-15"><span class="linenos" data-linenos="15 "></span></a>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16"></a><a href="#__codelineno-19-16"><span class="linenos" data-linenos="16 "></span></a><span class="sd">        1. Preserve pinned files</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17"></a><a href="#__codelineno-19-17"><span class="linenos" data-linenos="17 "></span></a><span class="sd">        2. Update file rankings</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18"></a><a href="#__codelineno-19-18"><span class="linenos" data-linenos="18 "></span></a><span class="sd">        3. Maintain tenet priorities</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19"></a><a href="#__codelineno-19-19"><span class="linenos" data-linenos="19 "></span></a><span class="sd">        4. Merge analysis results</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20"></a><a href="#__codelineno-19-20"><span class="linenos" data-linenos="20 "></span></a><span class="sd">        5. Update cache references</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21"></a><a href="#__codelineno-19-21"><span class="linenos" data-linenos="21 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><h3 id="tenets-system">Tenets System<a class="headerlink" href="#tenets-system" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1"></a><a href="#__codelineno-20-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">TenetManager</span><span class="p">:</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2"></a><a href="#__codelineno-20-2"><span class="linenos" data-linenos=" 2 "></span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3"></a><a href="#__codelineno-20-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="sd">    Manages &#39;tenets&#39; - persistent principles that guide context generation</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4"></a><a href="#__codelineno-20-4"><span class="linenos" data-linenos=" 4 "></span></a>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5"></a><a href="#__codelineno-20-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">    Examples:</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6"></a><a href="#__codelineno-20-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">    - &quot;Always include error handling examples&quot;</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7"></a><a href="#__codelineno-20-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">    - &quot;Prioritize async/await patterns&quot;</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8"></a><a href="#__codelineno-20-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">    - &quot;Include security considerations&quot;</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9"></a><a href="#__codelineno-20-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">    - &quot;Focus on performance implications&quot;</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10"></a><a href="#__codelineno-20-10"><span class="linenos" data-linenos="10 "></span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11"></a><a href="#__codelineno-20-11"><span class="linenos" data-linenos="11 "></span></a>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12"></a><a href="#__codelineno-20-12"><span class="linenos" data-linenos="12 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">apply_tenets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_result</span><span class="p">,</span> <span class="n">active_tenets</span><span class="p">):</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13"></a><a href="#__codelineno-20-13"><span class="linenos" data-linenos="13 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14"></a><a href="#__codelineno-20-14"><span class="linenos" data-linenos="14 "></span></a><span class="sd">        Inject tenets into generated context:</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15"></a><a href="#__codelineno-20-15"><span class="linenos" data-linenos="15 "></span></a>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16"></a><a href="#__codelineno-20-16"><span class="linenos" data-linenos="16 "></span></a><span class="sd">        1. Analyze context for tenet relevance</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17"></a><a href="#__codelineno-20-17"><span class="linenos" data-linenos="17 "></span></a><span class="sd">        2. Select most applicable tenets</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18"></a><a href="#__codelineno-20-18"><span class="linenos" data-linenos="18 "></span></a><span class="sd">        3. Format tenets appropriately</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19"></a><a href="#__codelineno-20-19"><span class="linenos" data-linenos="19 "></span></a><span class="sd">        4. Insert at strategic positions</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20"></a><a href="#__codelineno-20-20"><span class="linenos" data-linenos="20 "></span></a><span class="sd">        5. Ensure token budget compliance</span>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21"></a><a href="#__codelineno-20-21"><span class="linenos" data-linenos="21 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span></code></pre></div><h2 id="integration--extension-points">Integration &amp; Extension Points<a class="headerlink" href="#integration--extension-points" title="Link to this section">&para;</a></h2><h3 id="custom-analyzers">Custom Analyzers<a class="headerlink" href="#custom-analyzers" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a><a href="#__codelineno-21-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">MyCustomAnalyzer</span><span class="p">(</span><span class="n">LanguageAnalyzer</span><span class="p">):</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2"></a><a href="#__codelineno-21-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">analyze_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CodeStructure</span><span class="p">:</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3"></a><a href="#__codelineno-21-3"><span class="linenos" data-linenos=" 3 "></span></a>        <span class="c1"># Implement custom parsing logic</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4"></a><a href="#__codelineno-21-4"><span class="linenos" data-linenos=" 4 "></span></a>        <span class="k">pass</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5"></a><a href="#__codelineno-21-5"><span class="linenos" data-linenos=" 5 "></span></a>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6"></a><a href="#__codelineno-21-6"><span class="linenos" data-linenos=" 6 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_language_patterns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7"></a><a href="#__codelineno-21-7"><span class="linenos" data-linenos=" 7 "></span></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8"></a><a href="#__codelineno-21-8"><span class="linenos" data-linenos=" 8 "></span></a>            <span class="s1">&#39;function_def&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;def\s+(\w+)\s*\(&#39;</span><span class="p">,</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9"></a><a href="#__codelineno-21-9"><span class="linenos" data-linenos=" 9 "></span></a>            <span class="s1">&#39;class_def&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;class\s+(\w+)&#39;</span><span class="p">,</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10"></a><a href="#__codelineno-21-10"><span class="linenos" data-linenos="10 "></span></a>            <span class="s1">&#39;import&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;import\s+(.+)&#39;</span><span class="p">,</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11"></a><a href="#__codelineno-21-11"><span class="linenos" data-linenos="11 "></span></a>        <span class="p">}</span>
</span></code></pre></div><h3 id="custom-ranking-factors">Custom Ranking Factors<a class="headerlink" href="#custom-ranking-factors" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1"></a><a href="#__codelineno-22-1"><span class="linenos" data-linenos=" 1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">MyRankingFactor</span><span class="p">(</span><span class="n">RankingFactor</span><span class="p">):</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2"></a><a href="#__codelineno-22-2"><span class="linenos" data-linenos=" 2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_analysis</span><span class="p">,</span> <span class="n">prompt_context</span><span class="p">):</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3"></a><a href="#__codelineno-22-3"><span class="linenos" data-linenos=" 3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4"></a><a href="#__codelineno-22-4"><span class="linenos" data-linenos=" 4 "></span></a><span class="sd">        Add custom ranking logic:</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5"></a><a href="#__codelineno-22-5"><span class="linenos" data-linenos=" 5 "></span></a><span class="sd">        - Domain-specific patterns</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6"></a><a href="#__codelineno-22-6"><span class="linenos" data-linenos=" 6 "></span></a><span class="sd">        - Company coding standards</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7"></a><a href="#__codelineno-22-7"><span class="linenos" data-linenos=" 7 "></span></a><span class="sd">        - Architecture preferences</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8"></a><a href="#__codelineno-22-8"><span class="linenos" data-linenos=" 8 "></span></a><span class="sd">        - Performance considerations</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9"></a><a href="#__codelineno-22-9"><span class="linenos" data-linenos=" 9 "></span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10"></a><a href="#__codelineno-22-10"><span class="linenos" data-linenos="10 "></span></a>        <span class="k">return</span> <span class="n">relevance_score</span>
</span></code></pre></div><h3 id="plugin-system">Plugin System<a class="headerlink" href="#plugin-system" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1"></a><a href="#__codelineno-23-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">class</span><span class="w"> </span><span class="nc">TenetsPlugin</span><span class="p">:</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2"></a><a href="#__codelineno-23-2"><span class="linenos" data-linenos="2 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_analyzer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">analyzer_class</span><span class="p">):</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3"></a><a href="#__codelineno-23-3"><span class="linenos" data-linenos="3 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register custom language analyzer&quot;&quot;&quot;</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4"></a><a href="#__codelineno-23-4"><span class="linenos" data-linenos="4 "></span></a>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5"></a><a href="#__codelineno-23-5"><span class="linenos" data-linenos="5 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_ranking_factor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">factor_class</span><span class="p">):</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6"></a><a href="#__codelineno-23-6"><span class="linenos" data-linenos="6 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register custom ranking factor&quot;&quot;&quot;</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7"></a><a href="#__codelineno-23-7"><span class="linenos" data-linenos="7 "></span></a>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8"></a><a href="#__codelineno-23-8"><span class="linenos" data-linenos="8 "></span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_output_formatter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">formatter_class</span><span class="p">):</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9"></a><a href="#__codelineno-23-9"><span class="linenos" data-linenos="9 "></span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register custom output format&quot;&quot;&quot;</span>
</span></code></pre></div><h2 id="performance-characteristics">Performance Characteristics<a class="headerlink" href="#performance-characteristics" title="Link to this section">&para;</a></h2><h3 id="typical-performance-on-modern-hardware">Typical Performance (on modern hardware)<a class="headerlink" href="#typical-performance-on-modern-hardware" title="Link to this section">&para;</a></h3><table><thead><tr><th>Operation</th><th>Small Project (&lt;1K files)</th><th>Medium Project (1K-10K files)</th><th>Large Project (10K+ files)</th></tr></thead><tbody><tr><td><strong>Fast Mode</strong></td><td>&lt;1s</td><td>1-3s</td><td>3-8s</td></tr><tr><td><strong>Balanced Mode</strong></td><td>1-2s</td><td>3-8s</td><td>10-30s</td></tr><tr><td><strong>Thorough Mode</strong></td><td>2-5s</td><td>8-20s</td><td>30s-2m</td></tr><tr><td><strong>Cache Hit</strong></td><td>&lt;100ms</td><td>&lt;200ms</td><td>&lt;500ms</td></tr></tbody></table><h3 id="memory-usage">Memory Usage<a class="headerlink" href="#memory-usage" title="Link to this section">&para;</a></h3><div class="language-python highlight"><span class="filename">Python</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1"></a><a href="#__codelineno-24-1"><span class="linenos" data-linenos="1 "></span></a><span class="c1"># Typical memory footprint:</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2"></a><a href="#__codelineno-24-2"><span class="linenos" data-linenos="2 "></span></a><span class="n">base_memory</span> <span class="o">=</span> <span class="mi">50_000_000</span>      <span class="c1"># ~50MB base</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3"></a><a href="#__codelineno-24-3"><span class="linenos" data-linenos="3 "></span></a><span class="n">per_file_overhead</span> <span class="o">=</span> <span class="mi">5_000</span>     <span class="c1"># ~5KB per analyzed file</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4"></a><a href="#__codelineno-24-4"><span class="linenos" data-linenos="4 "></span></a><span class="n">embedding_cache</span> <span class="o">=</span> <span class="mi">200_000_000</span> <span class="c1"># ~200MB for ML embeddings (when used)</span>
</span></code></pre></div><h3 id="scalability-limits">Scalability Limits<a class="headerlink" href="#scalability-limits" title="Link to this section">&para;</a></h3><ul><li><strong>Files</strong>: Tested up to 100K+ files</li><li><strong>File Size</strong>: Handles up to 10MB individual files</li><li><strong>Concurrency</strong>: Scales to available CPU cores</li><li><strong>Memory</strong>: Degrades gracefully with limited RAM</li></ul><h2 id="language-analyzer-architecture">Language Analyzer Architecture<a class="headerlink" href="#language-analyzer-architecture" title="Link to this section">&para;</a></h2><p>Tenets provides specialized analyzers for each programming language, extracting structure, complexity, and relationships.</p><h3 id="analyzer-system-overview">Analyzer System Overview<a class="headerlink" href="#analyzer-system-overview" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph TB
    subgraph "Base Analyzer Interface"
        BASE[LanguageAnalyzer&lt;br/&gt;Abstract Base]
        EXTRACT[extract_structure()]
        COMPLEX[calculate_complexity()]
        DEPS[trace_dependencies()]
    end

    subgraph "Language-Specific Analyzers"
        PYTHON[Python&lt;br/&gt;Full AST]
        JS[JavaScript&lt;br/&gt;ES6+ support]
        GO[Go&lt;br/&gt;Package detection]
        JAVA[Java&lt;br/&gt;OOP patterns]
        RUST[Rust&lt;br/&gt;Ownership]
        GENERIC[Generic&lt;br/&gt;Pattern-based]
    end

    subgraph "Analysis Output"
        CLASSES[Classes &amp; Methods]
        FUNCTIONS[Functions &amp; Signatures]
        IMPORTS[Import Graph]
        METRICS[Complexity Metrics]
    end

    BASE --&gt; EXTRACT
    BASE --&gt; COMPLEX
    BASE --&gt; DEPS

    BASE --&gt; PYTHON
    BASE --&gt; JS
    BASE --&gt; GO
    BASE --&gt; JAVA
    BASE --&gt; RUST
    BASE --&gt; GENERIC

    PYTHON --&gt; CLASSES
    PYTHON --&gt; FUNCTIONS
    PYTHON --&gt; IMPORTS
    PYTHON --&gt; METRICS

    style BASE fill:#e1f5fe
    style METRICS fill:#e8f5e8</code></pre><h3 id="python-analyzer-deep-dive">Python Analyzer Deep Dive<a class="headerlink" href="#python-analyzer-deep-dive" title="Link to this section">&para;</a></h3><pre class="mermaid"><code>graph LR
    subgraph "AST Analysis"
        PARSE[AST Parser]
        VISIT[Node Visitor]
        TABLE[Symbol Table]
    end

    subgraph "Structure Extraction"
        CLASSES[Classes&lt;br/&gt;Inheritance]
        FUNCTIONS[Functions&lt;br/&gt;Async/Sync]
        DECORATORS[Decorators]
        TYPES[Type Hints]
    end

    subgraph "Import Analysis"
        ABS[Absolute Imports]
        REL[Relative Imports]
        GRAPH[Import Graph]
    end

    subgraph "Complexity"
        CYCLO[Cyclomatic]
        COGNITIVE[Cognitive]
        HALSTEAD[Halstead]
    end

    PARSE --&gt; VISIT
    VISIT --&gt; TABLE

    TABLE --&gt; CLASSES
    TABLE --&gt; FUNCTIONS
    TABLE --&gt; DECORATORS
    TABLE --&gt; TYPES

    VISIT --&gt; ABS
    VISIT --&gt; REL
    ABS --&gt; GRAPH
    REL --&gt; GRAPH

    TABLE --&gt; CYCLO
    TABLE --&gt; COGNITIVE
    TABLE --&gt; HALSTEAD</code></pre><h3 id="language-support-matrix">Language Support Matrix<a class="headerlink" href="#language-support-matrix" title="Link to this section">&para;</a></h3><table><thead><tr><th>Language</th><th>AST Support</th><th>Complexity Analysis</th><th>Import Resolution</th><th>Special Features</th></tr></thead><tbody><tr><td><strong>Python</strong></td><td>✅ Full</td><td>✅ CC, MI, Halstead</td><td>✅ Complete</td><td>Decorators, async/await, type hints</td></tr><tr><td><strong>JavaScript/TypeScript</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ ES6+ modules</td><td>React components, JSX, Node.js</td></tr><tr><td><strong>Java</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ Package/class</td><td>Annotations, Spring framework</td></tr><tr><td><strong>C#</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ Namespace/using</td><td>Attributes, LINQ, async</td></tr><tr><td><strong>Go</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ Package/import</td><td>Goroutines, interfaces</td></tr><tr><td><strong>Rust</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ Use/extern</td><td>Traits, lifetimes, macros</td></tr><tr><td><strong>Ruby</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ Require/gem</td><td>Gems, Rails detection</td></tr><tr><td><strong>PHP</strong></td><td>✅ Full</td><td>✅ CC, MI</td><td>✅ Require/use</td><td>Composer, namespaces</td></tr><tr><td><strong>C/C++</strong></td><td>🟨 Regex+</td><td>✅ Basic</td><td>✅ #include</td><td>Headers, templates</td></tr><tr><td><strong>Others</strong></td><td>🟨 Pattern</td><td>🟨 Basic</td><td>🟨 Pattern-based</td><td>Extensible patterns</td></tr></tbody></table><p><em>CC = Cyclomatic Complexity, MI = Maintainability Index</em></p><p>This architecture provides the foundation for intelligent, fast, and scalable code intelligence that adapts to any project size and developer workflow.</p><aside class="md-source-file"><span class="md-source-file__fact"><span class="md-icon" title="Last update"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="September 4, 2025 23:49:45 UTC"><span class="timeago" datetime="2025-09-04T23:49:45+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="September 4, 2025 23:49:45 UTC">2025-09-04</span></span><span class="md-source-file__fact"><span class="md-icon" title="Created"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="September 4, 2025 23:49:45 UTC"><span class="timeago" datetime="2025-09-04T23:49:45+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="September 4, 2025 23:49:45 UTC">2025-09-04</span></span></aside></article></div><script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button type="button" class="md-top md-icon" data-md-component="top" hidden><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button></main><footer class="md-footer victorian-footer"><div class="footer-content"><div class="footer-grid"><div class="footer-brand"><div class="footer-logo-container"><img src="../../logos/tenets_dark_icon_transparent.png" alt="Tenets" class="footer-logo dark-logo" loading="lazy"><img src="../../logos/tenets_light_icon_transparent.png" alt="Tenets" class="footer-logo light-logo" loading="lazy"><div class="footer-brand-text"><h4>tenets</h4><div class="footer-tagline">Context that feeds your prompts</div></div></div><p class="footer-description"> Intelligent code aggregation and analysis for modern development. Built with obsessive attention to detail by manic.agency. </p><div class="social-links"><a href="https://github.com/jddunn/tenets" class="social-link" title="GitHub" target="_blank" rel="noopener"><svg viewbox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a><a href="https://discord.gg/DzNgXdYm" class="social-link" title="Discord" target="_blank" rel="noopener"><svg viewbox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/></svg></a><a href="https://twitter.com/manicagency" class="social-link" title="Twitter" target="_blank" rel="noopener"><svg viewbox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg></a></div></div><div class="footer-column"><h5>Documentation</h5><ul><li><a href="quickstart/">Quick Start</a></li><li><a href="installation/">Installation</a></li><li><a href="features/">Features</a></li><li><a href="CLI/">CLI Reference</a></li><li><a href="CONFIG/">Configuration</a></li></ul></div><div class="footer-column"><h5>Resources</h5><ul><li><a href="https://github.com/jddunn/tenets" target="_blank" rel="noopener">GitHub</a></li><li><a href="https://pypi.org/project/tenets/" target="_blank" rel="noopener">PyPI</a></li><li><a href="https://discord.gg/DzNgXdYm" target="_blank" rel="noopener">Discord</a></li><li><a href="https://github.com/jddunn/tenets/issues" target="_blank" rel="noopener">Issues</a></li></ul></div><div class="footer-column"><h5>Development sponsored by manic.agency</h5><ul><li><a href="https://manic.agency" target="_blank" rel="noopener">Website</a></li><li><a href="https://manic.agency/blog" target="_blank" rel="noopener">Blog</a></li><li><a href="https://manic.agency/about" target="_blank" rel="noopener">About</a></li><li><a href="mailto:team@manic.agency">Contact</a></li></ul></div><div class="footer-column"><h5>Project Status</h5><div class="badge-showcase"><div class="badge-item"><img src="https://img.shields.io/pypi/v/tenets.svg" alt="PyPI version"></div><div class="badge-item"><img src="https://github.com/jddunn/tenets/actions/workflows/ci.yml/badge.svg" alt="CI"></div><div class="badge-item"><img src="https://codecov.io/gh/jddunn/tenets/branch/main/graph/badge.svg" alt="Coverage"></div><div class="badge-item"><img src="https://img.shields.io/github/license/jddunn/tenets.svg" alt="License"></div></div></div></div></div><div class="footer-bottom"><div class="footer-bottom-content"><div class="footer-copyright"> © 2024 <a href="https://jddunn.github.io" target="_blank" rel="noopener">Johnny Dunn</a> | MIT License </div><div class="footer-links"><a href="https://github.com/jddunn/tenets/blob/main/LICENSE" target="_blank" rel="noopener">License</a><a href="https://github.com/jddunn/tenets/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener">Contributing</a><a href="https://github.com/jddunn/tenets/security" target="_blank" rel="noopener">Security</a></div></div></div></footer><footer class="md-footer"><nav class="md-footer__inner md-grid" aria-label="Footer"><a href="../overview/" class="md-footer__link md-footer__link--prev" aria-label="Previous: System Overview"><div class="md-footer__button md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></div><div class="md-footer__title"><span class="md-footer__direction"> Previous </span><div class="md-ellipsis"> System Overview </div></div></a><a href="../data_storage/" class="md-footer__link md-footer__link--next" aria-label="Next: Data & Storage"><div class="md-footer__title"><span class="md-footer__direction"> Next </span><div class="md-ellipsis"> Data & Storage </div></div><div class="md-footer__button md-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div></a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-copyright"><div class="md-copyright__highlight"> Copyright &copy; 2024-2025 <a href="https://jddunn.github.io" target="_blank" rel="noopener">Johnny Dunn</a></div></div><div class="md-social"><a href="https://github.com/jddunn/tenets" target="_blank" rel="noopener" title="Tenets on GitHub" class="md-social__link"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></a><a href="https://discord.gg/DzNgXdYm" target="_blank" rel="noopener" title="Join our Discord" class="md-social__link"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg></a><a href="https://pypi.org/project/tenets/" target="_blank" rel="noopener" title="Tenets on PyPI" class="md-social__link"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg></a></div></div></div></footer></div><div class="md-dialog" data-md-component="dialog"><div class="md-dialog__inner md-typeset"></div></div><div class="md-progress" data-md-component="progress" role="progressbar"></div><script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script><script src="../../assets/javascripts/bundle.92b07e13.min.js"></script><script src="../../js/timeago.min.js"></script><script src="../../js/timeago_mkdocs_material.js"></script><script src="../../js/main.js"></script><script src="../../js/page-flags.js"></script><script src="../../js/architecture-lazy-load.js"></script><script src="../../js/theme-toggle.js"></script><script src="../../js/terminal.js"></script><script src="../../js/mobile-menu.js"></script><script src="../../js/copy-buttons.js"></script><script src="../../js/back-to-top.js"></script><script src="../../js/image-modal.js"></script><script src="../../js/search-fix.js"></script><script src="../../js/lantern.js"></script><script src="../../js/architecture-diagram.js"></script><script src="../../js/see-it-in-action.js"></script><script src="https://unpkg.com/@phosphor-icons/web@2.0.3/src/index.js"></script></body></html>