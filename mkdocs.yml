# MkDocs Configuration for Tenets Documentation
# https://www.mkdocs.org/user-guide/configuration/

# Site Information
site_name: tenets
site_description: Context that feeds your prompts - Intelligent code exploration and AI pair programming tool
site_url: https://tenets.dev
site_author: Johnny Dunn
docs_dir: docs
site_dir: site

# Repository
repo_name: jddunn/tenets
repo_url: https://github.com/jddunn/tenets
edit_uri: edit/main/docs/

# Copyright
copyright: >
  Copyright &copy; 2024 <a href="https://jddunn.github.io" target="_blank">Johnny Dunn</a>

# Theme configuration
theme:
  name: material
  custom_dir: docs/overrides

  # Logo and favicon
  logo: logos/tenets_dark_icon_transparent.png
  favicon: favicon/favicon.ico

  # Fonts
  font:
    text: Inter
    code: JetBrains Mono

  # Icons
  icon:
    repo: fontawesome/brands/github
    edit: material/file-edit-outline

  # Color schemes
  palette:
    # Light mode
    - scheme: default
      media: '(prefers-color-scheme: light)'
      primary: custom
      accent: amber
      toggle:
        icon: material/weather-night
        name: Switch to dark mode

    # Dark mode
    - scheme: slate
      media: '(prefers-color-scheme: dark)'
      primary: custom
      accent: amber
      toggle:
        icon: material/weather-sunny
        name: Switch to light mode

  # Features
  features:
    # Navigation
    - navigation.instant
    - navigation.instant.prefetch
    - navigation.instant.progress
    - navigation.tracking
    - navigation.tabs
    - navigation.tabs.sticky
    - navigation.sections
    - navigation.expand
    - navigation.path
    - navigation.prune
    - navigation.indexes
    - navigation.top
    - navigation.footer
    # Removed header.autohide to keep header/nav always visible

    # Search
    - search.suggest
    - search.highlight
    - search.share

    # Content
    - content.code.copy
    - content.code.select
    - content.code.annotate
    - content.tabs.link
    - content.tooltips

    # Table of contents
    - toc.follow
    - toc.integrate

# Plugins
plugins:
  # Generate API pages first so 'api/' exists for nav and other plugins
  - gen-files:
      scripts:
        - docs/gen_api.py

  # Collect and render Python docstrings
  - mkdocstrings:
      handlers:
        python:
          # Ensure the repo root is on sys.path for imports
          paths: [ "." ]
          setup_commands:
            - import os, sys
            - sys.path.insert(0, os.path.abspath('.'))
          options:
            docstring_style: google
            show_source: false
            separate_signature: true
            members_order: source

  # Page ordering
  - awesome-pages

  # Search plugin
  - search:
      lang: en
      separator: '[\s\u200b\-_,:!=\[\]()"/]+|\.(?!\d)|&[lg]t;|(?!\b)(?=[A-Z][a-z])'

  # Minify output last
  - minify:
      minify_html: true
      minify_js: true
      minify_css: true
      htmlmin_opts:
        remove_comments: true
        remove_empty_space: true
        reduce_boolean_attributes: true

# Markdown extensions
markdown_extensions:
  # Python Markdown Extensions
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - meta
  - toc:
      permalink: true
      permalink_title: Link to this section

  # PyMdown Extensions
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.details
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.snippets
  - pymdownx.superfences
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.tilde

# Extra configuration
extra:
  # Disable generator meta tag
  generator: false

  # Social links
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/jddunn/tenets
      name: tenets on GitHub
    - icon: fontawesome/brands/discord
      link: https://discord.gg/DzNgXdYm
      name: Join our Discord
    - icon: fontawesome/brands/linkedin
      link: https://www.linkedin.com/company/manic-agency-llc/
      name: manic.agency on LinkedIn
    - icon: fontawesome/brands/x-twitter
      link: https://x.com/manicagency
      name: Follow @manicagency
    - icon: fontawesome/brands/instagram
      link: https://instagram.com/manic.agency
      name: manic.agency on Instagram
    - icon: fontawesome/solid/envelope
      link: mailto:team@manic.agency
      name: Contact us

  # SEO meta tags
  meta:
    - name: keywords
      content: tenets, code context, AI pair programming, LLM context, prompt engineering, prompt building, prompt templating, code analysis, developer tools, CLI tools, Python, LLM libraries, code aggregation
    - name: description
      content: Intelligent code aggregation and prompt building for AI pair programming. Build optimal context from your codebase for ChatGPT, Claude, and other LLMs.
    - name: author
      content: manic.agency
    - property: og:type
      content: website
    - property: og:site_name
      content: tenets - Context that feeds your prompts
    - property: og:url
      content: https://tenets.dev
    - property: og:image
      content: https://tenets.dev/logos/tenets_dark_icon_transparent_cropped.png
    - property: og:image:width
      content: 1200
    - property: og:image:height
      content: 630
    - property: twitter:card
      content: summary_large_image
    - property: twitter:site
      content: '@manicagency'
    - property: twitter:creator
      content: '@manicagency'
    - property: twitter:title
      content: tenets - Intelligent Code Context for AI
    - property: twitter:description
      content: Build optimal context from your codebase for LLMs. Smart aggregation, prompt engineering, and code analysis.

# CSS and JS files
extra_css:
  # Base styles
  - styles/variables.css
  - styles/main.css
  # - styles/nav-fixes.css
  # Animations
  - styles/animations.css
  # Theme styles
  - styles/victorian.css
  - styles/neumorphic.css

  # Component styles
  - styles/header.css
  - styles/footer.css
  - styles/buttons.css
  - styles/cards.css
  - styles/hero.css
  - styles/terminal.css
  - styles/back-to-top.css
  - styles/see-it-in-action.css
  - styles/search.css



  # Responsive
  - styles/mobile.css


  # Final overrides (must be last)
  - styles/overrides.css

extra_javascript:
  # Core functionality
  # - js/nav-injection.js  # disabled: reverting to native nav from config
  - js/main.js
  # Small fallback removed to avoid duplicate toggles

  # Components
  - js/theme-toggle.js
  - js/terminal.js
  - js/mobile-menu.js
  # Removed moving search into drawer and custom enhancements to avoid conflicts
  - js/copy-buttons.js
  - js/back-to-top.js

  # Homepage specific
  - js/lantern.js
  - js/home-animations.js
  - js/architecture-diagram.js
  - js/see-it-in-action.js

  # External libraries (if needed)
  - https://unpkg.com/@phosphor-icons/web@2.0.3/src/index.js

# Navigation structure
nav:
  - Quick Start: quickstart.md
  - Features: features.md
  - Supported Languages: supported-languages.md
  - API Reference: api/
  - Documentation:
      - CLI Reference: CLI.md
      - Configuration: CONFIG.md
      - Architecture: ARCHITECTURE.md
  - Blog: https://manic.agency/blog
  - Contact: https://manic.agency/contact
# Additional theme customization (if these templates exist)
# extra_templates:
#   - overrides/home.html
#   - overrides/main.html
